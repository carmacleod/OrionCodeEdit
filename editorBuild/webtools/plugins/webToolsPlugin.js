/*

 Copyright (c) 2012 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2011, 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2012 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2011, 2013 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made
 available under the terms of the Eclipse Public License v1.0
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2011, 2012 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2012 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 


 Copyright (c) 2012 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 


 Copyright (c) 2012, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made
 available under the terms of the Eclipse Public License v1.0
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html).

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2013 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2013, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2011, 2012 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2014, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2014, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2010, 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2011, 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2013, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2011, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2014, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 


 Copyright (c) 2014, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 


 Copyright (c) 2014, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2014 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation

 Copyright (c) 2014, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation
 RequireJS i18n 2.0.4 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/requirejs/i18n for details

 Copyright (c) 2010, 2012 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors: IBM Corporation - initial API and implementation

 Copyright (c) 2013, 2015 IBM Corporation and others.
 All rights reserved. This program and the accompanying materials are made 
 available under the terms of the Eclipse Public License v1.0 
 (http://www.eclipse.org/legal/epl-v10.html), and the Eclipse Distribution 
 License v1.0 (http://www.eclipse.org/org/documents/edl-v10.html). 

 Contributors:
     IBM Corporation - initial API and implementation
*/
(function(B,s){"function"===typeof define&&define.amd?define([],s):(B.orion=B.orion||{},B.orion.webtools=B.orion.webtools||{},B.orion.webtools.webtools=s())})(this,function(){var B,s;(function(m){function h(a,e){var b,c,d,n,k,r,p,f,v,g=e&&e.split("/"),h=t.map,q=h&&h["*"]||{};if(a&&"."===a.charAt(0))if(e){g=g.slice(0,g.length-1);a=g.concat(a.split("/"));for(f=0;f<a.length;f+=1)if(b=a[f],"."===b)a.splice(f,1),f-=1;else if(".."===b)if(1===f&&(".."===a[2]||".."===a[0]))break;else 0<f&&(a.splice(f-1,2),
f-=2);a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((g||q)&&h){b=a.split("/");for(f=b.length;0<f;f-=1){c=b.slice(0,f).join("/");if(g)for(v=g.length;0<v;v-=1)if(d=h[g.slice(0,v).join("/")])if(d=d[c]){n=d;k=f;break}if(n)break;!r&&(q&&q[c])&&(r=q[c],p=f)}!n&&r&&(n=r,k=p);n&&(b.splice(0,k,n),a=b.join("/"))}return a}function g(a,b){return function(){return e.apply(m,q.call(arguments,0).concat([a,b]))}}function f(a){return function(e){return h(e,a)}}function d(a){return function(e){p[a]=
e}}function c(e){if(z.call(v,e)){var b=v[e];delete v[e];C[e]=!0;a.apply(m,b)}if(!z.call(p,e)&&!z.call(C,e))throw Error("No "+e);return p[e]}function k(a){var e,b=a?a.indexOf("!"):-1;-1<b&&(e=a.substring(0,b),a=a.substring(b+1,a.length));return[e,a]}function b(a){return function(){return t&&t.config&&t.config[a]||{}}}var a,e,n,r,p={},v={},t={},C={},z=Object.prototype.hasOwnProperty,q=[].slice;n=function(a,e){var b,d=k(a),n=d[0];a=d[1];n&&(n=h(n,e),b=c(n));n?a=b&&b.normalize?b.normalize(a,f(e)):h(a,
e):(a=h(a,e),d=k(a),n=d[0],a=d[1],n&&(b=c(n)));return{f:n?n+"!"+a:a,n:a,pr:n,p:b}};r={require:function(a){return g(a)},exports:function(a){var e=p[a];return"undefined"!==typeof e?e:p[a]={}},module:function(a){return{id:a,uri:"",exports:p[a],config:b(a)}}};a=function(a,e,b,k){var f,h,t,q,s=[],L;k=k||a;if("function"===typeof b){e=!e.length&&b.length?["require","exports","module"]:e;for(q=0;q<e.length;q+=1)if(t=n(e[q],k),h=t.f,"require"===h)s[q]=r.require(a);else if("exports"===h)s[q]=r.exports(a),L=
!0;else if("module"===h)f=s[q]=r.module(a);else if(z.call(p,h)||z.call(v,h)||z.call(C,h))s[q]=c(h);else if(t.p)t.p.load(t.n,g(k,!0),d(h),{}),s[q]=p[h];else throw Error(a+" missing "+h);e=b.apply(p[a],s);if(a)if(f&&f.exports!==m&&f.exports!==p[a])p[a]=f.exports;else if(e!==m||!L)p[a]=e}else a&&(p[a]=b)};B=e=function(b,d,k,f,p){if("string"===typeof b)return r[b]?r[b](d):c(n(b,d).f);b.splice||(t=b,d.splice?(b=d,d=k,k=null):b=m);d=d||function(){};"function"===typeof k&&(k=f,f=p);f?a(m,b,d,k):setTimeout(function(){a(m,
b,d,k)},4);return e};e.config=function(a){t=a;return e};s=function(a,e,b){e.splice||(b=e,e=[]);!z.call(p,a)&&!z.call(v,a)&&(v[a]=[a,e,b])};s.amd={jQuery:!0}})();s("almond",function(){});(function(m,h){"function"===typeof s&&s.amd?s("orion/Deferred",h):"object"===typeof exports?module.exports=h():(m.orion=m.orion||{},m.orion.Deferred=h())})(this,function(){function m(){for(var b;b=d.shift();)b();c=!1}function h(b){d.push(b);c||(c=!0,k())}function g(b){return function(a){b(a)}}function f(){function b(){for(var a;a=
v.shift();){var e=a.deferred,b="fulfilled"===k?"resolve":"reject";a=a[b];if("function"===typeof a)try{var c=a(d),n=c&&("object"===typeof c||"function"===typeof c)&&c.then;if("function"===typeof n)if(c===e.promise)e.reject(new TypeError);else{var f=c.cancel;"function"===typeof f?e._parentCancel=f.bind(c):delete e._parentCancel;n.call(c,g(e.resolve),g(e.reject),g(e.progress))}else e.resolve(c)}catch(h){e.reject(h)}else e[b](d)}}function a(a){delete t._parentCancel;k="rejected";d=a;v.length&&h(b)}function e(c){function n(a){return function(e){(!k||
"assumed"===k)&&a(e)}}delete t._parentCancel;try{var g=c&&("object"===typeof c||"function"===typeof c)&&c.then;if("function"===typeof g)if(c===t)a(new TypeError);else{k="assumed";var m=c&&c.cancel;if("function"!==typeof m){var D=new f;c=D.promise;try{g(D.resolve,D.reject,D.progress)}catch(H){D.reject(H)}m=c.cancel;g=c.then}d=c;g.call(c,n(e),n(a));t._parentCancel=m.bind(c)}else k="fulfilled",d=c,v.length&&h(b)}catch(s){n(a)(s)}}function c(){var e=t._parentCancel;e?(delete t._parentCancel,e()):k||(e=
Error("Cancel"),e.name="Cancel",a(e))}var d,k,v=[],t=this;this.resolve=function(a){k||e(a);return t};this.reject=function(e){k||a(e);return t};this.progress=function(a){k||v.forEach(function(e){if(e.progress)try{e.progress(a)}catch(b){}});return t.promise};this.cancel=function(){t._parentCancel?setTimeout(c,0):c();return t};this.then=function(a,e,c){var d=new f;d._parentCancel=t.promise.cancel;v.push({resolve:a,reject:e,progress:c,deferred:d});("fulfilled"===k||"rejected"===k)&&h(b);return d.promise};
this.promise={then:t.then,cancel:t.cancel}}var d=[],c=!1,k=function(){if("undefined"!==typeof process&&"function"===typeof process.nextTick){var b=process.nextTick;return function(){b(m)}}if("function"===typeof MutationObserver){var a=document.createElement("div");(new MutationObserver(m)).observe(a,{attributes:!0});return function(){a.setAttribute("class","_tick")}}return function(){setTimeout(m,0)}}();f.all=function(b,a){function e(a,e){v||(k[a]=e,0===--d&&g.resolve(k))}function c(b,d){if(!v){if(a)try{e(b,
a(d));return}catch(n){d=n}g.reject(d)}}var d=b.length,k=[],v=!1,g=new f;g.then(void 0,function(){v=!0;b.forEach(function(a){a.cancel&&a.cancel()})});0===d?g.resolve(k):b.forEach(function(a,b){a.then(e.bind(void 0,b),c.bind(void 0,b))});return g.promise};f.when=function(b,a,e,c){var d;b&&"function"===typeof b.then||(d=new f,d.resolve(b),b=d.promise);return b.then(a,e,c)};return f});(function(m,h){"function"===typeof s&&s.amd?s("orion/plugin",["orion/Deferred"],h):"object"===typeof exports?module.exports=
h(B("orion/Deferred")):(m.orion=m.orion||{},m.orion.PluginProvider=h(m.orion.Deferred))})(this,function(m){function h(g,f){this.__objectId=g;this.__methods=f}return function(g){function f(a,e){if(e=e||E)"undefined"===typeof ArrayBuffer&&(a=JSON.stringify(a)),e===self||y?e.postMessage(a):e.postMessage(a,"*")}function d(){var a=(new Date).getTime();F&&4E3>a-F||(F=a,f({method:"loading"}),"undefined"!==typeof localStorage&&localStorage.pluginLogging&&console.log("heartbeat("+((new Date).getTime()-A)+
"ms)\x3d"+self.location))}function c(){var a=[];Object.keys(H).forEach(function(e){var b=H[e];a.push({serviceId:e,names:b.names,methods:b.methods,properties:b.properties})});return{headers:p||{},services:a}}function k(a,e){if(e&&e instanceof XMLHttpRequest){var b,c;try{b=e.status,c=e.statusText}catch(d){b=0,c=""}return{status:b||0,statusText:c}}return e}function b(a){var e=a?JSON.parse(JSON.stringify(a,k)):a;a instanceof Error&&(e.__isError=!0,e.message=e.message||a.message,e.name=e.name||a.name);
return e}function a(a,e){e=e||E;if(!e)return(new m).reject(Error("plugin not connected"));a.id=String(t++);var b=new m;w[a.id]=b;b.then(null,function(b){v&&(b instanceof Error&&"Cancel"===b.name)&&G({requestId:a.id,method:"cancel",params:b.message?[b.message]:[]},e)});var c=Object.prototype.toString;a.params.forEach(function(e,d){if("[object Object]"===c.call(e)&&!(e instanceof h)){var n,k;for(n in e)"[object Function]"===c.call(e[n])&&(k=k||[],k.push(n));if(k){var x=C++;D[x]=e;n=function(){delete D[x]};
b.then(n,n);a.params[d]=new h(x,k)}}});G(a,e);return b.promise}function e(a,e,b){a||0===a?G({id:a,result:null,error:e},b):console.log(e)}function n(e,c,d,n,k){n.forEach(function(e,b){if(e&&"undefined"!==typeof e.__objectId){var c={};e.__methods.forEach(function(b){c[b]=function(){return a({objectId:e.__objectId,method:b,params:Array.prototype.slice.call(arguments)},k)}});n[b]=c}});var f="undefined"===typeof e?null:{id:e,result:null,error:null};try{var r=d.apply(c,n);f&&(r&&"function"===typeof r.then?
(q[e]=r,r.then(function(a){delete q[e];f.result=a;G(f,k)},function(a){q[e]&&(delete q[e],f.error=b(a),G(f,k))},function(){G({responseId:e,method:"progress",params:Array.prototype.slice.call(arguments)},k)})):(f.result=r,G(f,k)))}catch(p){f&&(f.error=b(p),G(f,k))}}function r(a,b){if(y||!(a.source!==E&&"undefined"!==typeof window)){var c=a.data,c="string"!==typeof c?c:JSON.parse(c);try{if(c.method){var d=c.method,k=c.params||[];if("serviceId"in c){var f=H[c.serviceId];f||e(c.id,"service not found",
b);f=f.implementation;d in f?n(c.id,f,f[d],k,b):e(c.id,"method not found",b)}else if("objectId"in c){var r=D[c.objectId];r||e(c.id,"object not found",b);!d in r?n(c.id,r,r[d],k,b):e(c.id,"method not found",b)}else if("requestId"in c){var p=q[c.requestId];p&&("cancel"===d&&p.cancel)&&p.cancel.apply(p,k)}else if("responseId"in c){var x=w[c.responseId];x&&("progress"===d&&x.progress)&&x.progress.apply(x,k)}else throw Error("Bad method: "+c.method);}else{var g=w[String(c.id)];delete w[String(c.id)];c.error?
g.reject(c.error):g.resolve(c.result)}}catch(v){console.log("Plugin._messageHandler "+v)}}}var p=g,v=!1,t=0,C=0,z=0,q={},w={},D={},H={},s=[],y=!1,E=null;"undefined"===typeof window?self.postMessage?E=self:y=!0:window!==window.parent?E=window.parent:null!==window.opener&&(E=window.opener);var G=f,F,A=(new Date).getTime();d();y&&self.addEventListener("connect",function(a){var e=a.ports[0];s.push(e);v?(a={method:"plugin",params:[c()]},f(a,e)):d();e.addEventListener("message",function(a){r(a,e)});e.start()});
this.updateHeaders=function(a){if(v)throw Error("Cannot update headers. Plugin Provider is connected");p=a};this.registerServiceProvider=this.registerService=function(a,e,b){if(v)throw Error("Cannot register service. Plugin Provider is connected");"string"===typeof a?a=[a]:Array.isArray(a)||(a=[]);var c=null,n=[];for(c in e)"function"===typeof e[c]&&n.push(c);H[z++]={names:a,methods:n,implementation:e,properties:b||{},listeners:{}};d()};this.connect=function(a,e){if(!v){var b={method:"plugin",params:[c()]};
if(!y){if(!E){e&&e("No valid plugin target");return}addEventListener("message",r,!1);f(b)}s.forEach(function(a){f(b,a)});v=!0}a&&a()};this.disconnect=function(){v&&(removeEventListener("message",r),s.forEach(function(a){a.close()}),E=s=null,v=!1)}}});s("orion/EventTarget",[],function(){function m(){this._namedListeners={}}m.prototype={dispatchEvent:function(h){if(!h.type)throw Error("unspecified type");var g=this._namedListeners[h.type];g&&g.forEach(function(f){try{"function"===typeof f?f(h):f.handleEvent(h)}catch(d){"undefined"!==
typeof console&&console.log(d)}});return!h.defaultPrevented},addEventListener:function(h,g){if("function"===typeof g||g.handleEvent)this._namedListeners[h]=this._namedListeners[h]||[],this._namedListeners[h].push(g)},removeEventListener:function(h,g){var f=this._namedListeners[h];if(f)for(var d=0;d<f.length;d++)if(f[d]===g){1===f.length?delete this._namedListeners[h]:f.splice(d,1);break}}};m.prototype.constructor=m;m.attach=function(h){var g=new m;h.dispatchEvent=g.dispatchEvent.bind(g);h.addEventListener=
g.addEventListener.bind(g);h.removeEventListener=g.removeEventListener.bind(g)};return m});s("orion/serviceregistry",["orion/Deferred","orion/EventTarget"],function(m,h){function g(b,a,e){this._properties=e||{};this._properties["service.id"]=b;this._properties.objectClass=a;this._properties["service.names"]=a}function f(b,a,e){this._serviceId=b;this._serviceReference=a;this._internalRegistry=e}function d(b,a){function e(e){return function(){var c;try{if(!a())throw Error("Service was unregistered");
var d=b[e].apply(b,Array.prototype.slice.call(arguments));if(d&&"function"===typeof d.then)return d;c=new m;c.resolve(d)}catch(n){c=new m,c.reject(n)}return c.promise}}for(var c in b)"function"===typeof b[c]&&(this[c]=e(c))}function c(b,a){this.type=b;this.serviceReference=a}function k(){this._entries=[];this._namedReferences={};this._serviceEventTarget=new h;var b=this;this._internalRegistry={isRegistered:function(a){return b._entries[a]?!0:!1},unregisterService:function(a){var e=b._entries[a];if(!e)throw Error("Service has already been unregistered: "+
a);var d=e.reference;b._serviceEventTarget.dispatchEvent(new c("unregistering",d));b._entries[a]=null;d.getProperty("objectClass").forEach(function(a){for(var e=b._namedReferences[a],c=0;c<e.length;c++)if(e[c]===d){1===e.length?delete b._namedReferences[a]:e.splice(c,1);break}})},modifyService:function(a){var e=b._entries[a];if(!e)throw Error("Service not found while trying to send modified event: "+a);b._serviceEventTarget.dispatchEvent(new c("modified",e.reference))}}}g.prototype={getPropertyKeys:function(){var b=
[],a;for(a in this._properties)this._properties.hasOwnProperty(a)&&b.push(a);return b},getProperty:function(b){return this._properties[b]}};g.prototype.constructor=g;f.prototype={unregister:function(){this._internalRegistry.unregisterService(this._serviceId)},getReference:function(){if(!this._internalRegistry.isRegistered(this._serviceId))throw Error("Service has already been unregistered: "+this._serviceId);return this._serviceReference},setProperties:function(b){var a=this._serviceReference._properties;
this._serviceReference._properties=b||{};b["service.id"]=this._serviceId;b.objectClass=a.objectClass;b["service.names"]=a["service.names"];this._internalRegistry.modifyService(this._serviceId)}};f.prototype.constructor=f;k.prototype={getService:function(b){var a;if("string"===typeof b)(b=this._namedReferences[b])&&b.some(function(e){a=this._entries[e.getProperty("service.id")].service;return!!a},this);else if(b=this._entries[b.getProperty("service.id")])a=b.service;return a||null},getServiceReferences:function(b){if(b)return this._namedReferences[b]?
this._namedReferences[b]:[];var a=[];this._entries.forEach(function(e){e&&a.push(e.reference)});return a},registerService:function(b,a,e){if("undefined"===typeof a||null===a)throw Error("invalid service");"string"===typeof b?b=[b]:Array.isArray(b)||(b=[]);var n=this._entries.length,k=new g(n,b,e),p=this._namedReferences;b.forEach(function(a){p[a]=p[a]||[];p[a].push(k)});b=new d(a,this._internalRegistry.isRegistered.bind(null,n));this._entries.push({reference:k,service:b});b=this._internalRegistry;
this._serviceEventTarget.dispatchEvent(new c("registered",k));return new f(n,k,b)},addEventListener:function(b,a){this._serviceEventTarget.addEventListener(b,a)},removeEventListener:function(b,a){this._serviceEventTarget.removeEventListener(b,a)}};k.prototype.constructor=k;return{ServiceRegistry:k}});s("orion/bootstrap",["orion/Deferred","orion/serviceregistry"],function(m,h){var g;return{startup:function(){if(g)return g;g=new m;var f={serviceRegistry:new h.ServiceRegistry};return g.resolve(f)}}});
(function(){function m(d,c,k,b,a,e){c[d]&&(k.push(d),(!0===c[d]||1===c[d])&&b.push(a+d+"/"+e))}function h(d,c,k,b,a){c=b+c+"/"+a;B._fileExists(d.toUrl(c+".js"))&&k.push(c)}function g(d,c,k){for(var b in c)c.hasOwnProperty(b)&&(!d.hasOwnProperty(b)||k)?d[b]=c[b]:"object"===typeof c[b]&&(!d[b]&&c[b]&&(d[b]={}),g(d[b],c[b],k))}var f=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;s("i18n",["module"],function(d){var c=d.config?d.config():{};return{version:"2.0.4",load:function(d,b,a,e){e=e||{};e.locale&&(c.locale=
e.locale);var n=f.exec(d),r=n[1],p=n[4],v=n[5],t=p.split("-"),C=[],z={},q,w="";n[5]?(r=n[1],d=r+v):(v=n[4],p=c.locale,p||(p=c.locale="undefined"===typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),t=p.split("-"));if(e.isBuild){C.push(d);h(b,"root",C,r,v);for(q=0;q<t.length;q++)p=t[q],w+=(w?"-":"")+p,h(b,w,C,r,v);if(e.locales)for(n=0;n<e.locales.length;n++){p=e.locales[n];t=p.split("-");w="";for(d=0;d<t.length;d++)p=t[d],w+=(w?"-":"")+p,h(b,w,C,r,v)}b(C,function(){a()})}else b([d],
function(e){var c=[],d;m("root",e,c,C,r,v);for(q=0;q<t.length;q++)d=t[q],w+=(w?"-":"")+d,m(w,e,c,C,r,v);b(C,function(){var d,n,k;for(d=c.length-1;-1<d&&c[d];d--){k=c[d];n=e[k];if(!0===n||1===n)n=b(r+k+"/"+v);g(z,n)}a(z)})})}}})})();s("orion/navigate/nls/messages",{root:!0});s("orion/navigate/nls/root/messages",{Navigator:"Navigator","Strings Xtrnalizr":"Strings Xtrnalizr","Externalize strings":"Externalize strings from JavaScript files in this folder.",NotSupportFileSystem:"${0} is not supported in this file system",
SrcNotSupportBinRead:"Source file service does not support binary read",TargetNotSupportBinWrite:"Target file service does not support binary write",NoFileSrv:"No matching file service for location: ${0}","Choose a Folder":"Choose a Folder","Copy of ${0}":"Copy of ${0}",EnterName:"Enter a new name for '${0}'",ChooseFolder:"Choose folder...",Rename:"Rename",RenameFilesFolders:"Rename the selected files or folders",CompareEach:"Compare with each other","Compare 2 files":"Compare the selected 2 files with each other",
"Compare with...":"Compare with...",CompareFolders:"Compare the selected folder with a specified folder",Delete:"Delete","Unknown item":"Unknown item","delete item msg":"Are you sure you want to delete these ${0} items?",DeleteTrg:"Are you sure you want to delete '${0}'?",Zip:"Zip",ZipDL:"Create a zip file of the folder contents and download it","New File":"File","Create a new file":"Create a new file",FailedToCreateProject:"Failed to create project: ${0}",FailedToCreateFile:"Failed to create file: ${0}",
CopyFailed:"Copy operation failed",MoveFailed:"Move operation failed","Name:":"Name:","New Folder":"Folder","Folder name:":"Folder name:","Create a new folder":"Create a new folder","Creating folder":"Creating folder",Folder:"Folder","Create an empty folder":"Create an empty folder",CreateEmptyMsg:"Create an empty folder on the Orion server. You can import, upload, or create content in the editor.","Sample HTML5 Site":"Sample HTML5 Site","Generate a sample":"Generate a sample",'Generate an HTML5 "Hello World" website, including JavaScript, HTML, and CSS files.':'Generate an HTML5 "Hello World" website, including JavaScript, HTML, and CSS files.',
"Creating a folder for ${0}":"Creating a folder for ${0}","SFTP Import":"SFTP Import","Import content from SFTP":"Import content from SFTP","Imported Content":"Imported Content","Upload a Zip":"Upload a Zip","Upload content from a local zip file":"Upload content from a local zip file","Uploaded Content":"Uploaded Content","Clone Git Repository":"Clone Git Repository","Clone a git repository":"Clone a git repository","Link to Server":"Link to Server",LinkContent:"Link to existing content on the server",
CreateLinkedFolder:"Create a folder that links to an existing folder on the server.","Server path:":"Server path:",NameLocationNotClear:"The name and server location were not specified.","Go Up":"Go Up",GoUpToParent:"Move up to the parent folder","Go Into":"Go Into",GoSelectedFolder:"Move into the selected folder","File or zip archive":"File or zip archive",ImportLcFile:"Import a file or zip archive from your local file system","SFTP from...":"SFTP",CpyFrmSftp:"Copy files and folders from a specified SFTP connection",
"Importing from ${0}":"Importing from ${0}","SFTP to...":"SFTP",CpyToSftp:"Copy files and folders to a specified SFTP location",Exporting:"Exporting to ${0}","Pasting ${0}":"Pasting ${0}","Copy to":"Copy to","Move to":"Move to","Copying ${0}":"Copying ${0}","Moving ${0}":"Moving ${0}","Renaming ${0}":"Renaming ${0}","Deleting ${0}":"Deleting ${0}","Creating ${0}":"Creating ${0}","Linking to ${0}":"Linking to ${0}",MvToLocation:"Move files and folders to a new location",Cut:"Cut",Copy:"Copy","Fetching children of ":"Fetching children of ",
Paste:"Paste","Open With":"Open With","Loading ":"Loading ",New:"New",File:"File",Actions:"Actions","Orion Content":"Orion Content","Create new content":"Create new content","Import from HTTP...":"HTTP","File URL:":"File URL:",ImportURL:"Import a file from a URL and optionally unzip it","Unzip *.zip files:":"Unzip *.zip files:","Extracted from:":"Extracted from:",FolderDropNotSupported:"Did not drop ${0}. Folder drop is not supported in this browser.",CreateFolderErr:"You cannot copy files directly into the workspace. Create a folder first.",
"Unzip ${0}?":"Unzip ${0}?","Upload progress: ":"Upload progress: ","Uploading ":"Uploading ","Cancel upload":"Cancel upload",UploadingFileErr:"Uploading the following file failed: ","Enter project name:":"Enter project name:","Create new project":"Create new project","Creating project ${0}":"Creating project ${0}",NoFile:"Use the ${0} menu to create new files and folders. Click a file to start coding.",Download:"Download",Download_tooltips:"Download the file contents as the displayed name","Downloading...":"Reading file contents...",
"Download not supported":"Contents download is not supported in this browser.",gettingContentFrom:"Getting content from ",confirmLaunchDelete:'Delete Launch Configuration "${0}" ?',deletingLaunchConfiguration:"Deleting launch configuration...",deployTo:"Deploy to ",deploy:"Deploy ",connect:"Connect",fetchContent:"Fetch content",fetchContentOf:"Fetch content of ",disconnectFromProject:"Disconnect from project",doNotTreatThisFolder:"Do not treat this folder as a part of the project",checkStatus:"Check status",
checkApplicationStatus:"Check application status",checkApplicationState:"Check application state",stop:"Stop",start:"Start",stopApplication:"Stop the application",startApplication:"Start the application",manage:"Manage",manageThisApplicationOnRemote:"Manage this application on remote server",deleteLaunchConfiguration:"Delete this launch configuration",editLaunchConfiguration:"Edit this launch configuration",deployThisApplication:"Deploy the application using the workspace contents",associatedFolder:"Associated Folder",
associateAFolderFromThe:"Associate a folder from the workspace with this project.",convertToProject:"Convert to project",convertThisFolderIntoA:"Convert this folder into a project",thisFolderIsAProject:"This folder is a project already.",basic:"Basic","createAnEmptyProject.":"Create an empty project.",sFTP:"SFTP",createAProjectFromAn:"Create a project from an SFTP site.",readMeCommandName:"Readme File",readMeCommandTooltip:"Create a README.md file in this project",zipArchiveCommandName:"Zip archive",
zipArchiveCommandTooltip:"Create a project from a local zip archive.","Url:":"Url:",notZip:"The following files are not zip files: ${0}. Would you like to continue the import?",notZipMultiple:"There are multiple non-zip files being uploaded. Would you like to continue the import?",Cancel:"Cancel",Ok:"Ok",missingCredentials:"Enter the ${0} authentication credentials associated with ${1} to check its status.",deploying:"deploying",starting:"restarting",stopping:"stopping",checkingStateShortMessage:"checking status"});
s("orion/i18nUtil",[],function(){return{formatMessage:function(m){var h=/\$\{([^\}]+)\}/g,g=arguments;return 2===g.length&&g[1]&&"object"===typeof g[1]?m.replace(h,function(f,d){return g[1][d]}):m.replace(h,function(f,d){return g[(d<<0)+1]})}}});s("orion/fileClient",["i18n!orion/navigate/nls/messages","orion/Deferred","orion/i18nUtil"],function(m,h,g){function f(c,b,a){if(!c[b])throw Error(g.formatMessage(m.NotSupportFileSystem,b));return c[b].apply(c,a)}function d(c,b,a,e){if(!c.readBlob)throw Error(m.SrcNotSupportBinRead);
if(!a.writeBlob)throw Error(m.TargetNotSupportBinWrite);if("/"!==b[b.length-1])return f(c,"readBlob",[b]).then(function(b){return f(a,"writeBlob",[e,b])});var n=e.substring(0,e.length-1),r=decodeURIComponent(n.substring(n.lastIndexOf("/")+1)),n=n.substring(0,n.lastIndexOf("/")+1);return f(a,"createFolder",[n,r]).then(function(){},function(){}).then(function(){return f(c,"fetchChildren",[b]).then(function(b){for(var n=[],f=0;f<b.length;++f){var r=b[f].Location,g=r;b[f].Directory&&(g=r.substring(0,
r.length-1));g=decodeURIComponent(g.substring(g.lastIndexOf("/")+1));g=e+encodeURIComponent(g);b[f].Directory&&(g+="/");n[f]=d(c,r,a,g)}return h.all(n)})})}function c(c,b){function a(a){var e=new h;e.reject(m["No Matching FileService for location:"]+a);return e}var e=c.getServiceReferences("orion.core.file"),d=e;if(b)for(var d=[],f=0;f<e.length;++f)b(e[f])&&d.push(e[f]);d.sort(function(a,e){var b=a.getProperty("ranking")||0,c=e.getProperty("ranking")||0;return b-c});for(var p=[],v=[],t=[],C=[],z=
{fetchChildren:function(){var a=new h;a.resolve(C);return a},createWorkspace:function(){var a=new h;a.reject(m["no file service"]);return a},loadWorkspaces:function(){var a=new h;a.reject(m["no file service"]);return a},loadWorkspace:function(a){var e=new h;window.setTimeout(function(){e.resolve({Directory:!0,Length:0,LocalTimeStamp:0,Name:m["File Servers"],Location:"/",Children:C,ChildrenLocation:"/"})},100);return e},search:a,createProject:a,createFolder:a,createFile:a,deleteFile:a,moveFile:a,copyFile:a,
read:a,write:a},e=0;e<d.length;++e){C[e]={Directory:!0,Length:0,LocalTimeStamp:0,Location:d[e].getProperty("top"),ChildrenLocation:d[e].getProperty("top"),Name:d[e].getProperty("Name")||d[e].getProperty("NameKey")};f=d[e].getProperty("pattern")||d[e].getProperty("top").replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");Array.isArray(f)||(f=[f]);for(var q=[],w=0;w<f.length;w++){var D=f[w];"^"!==D[0]&&(D="^"+D);q.push(RegExp(D))}p[e]=q;v[e]=c.getService(d[e]);t[e]=d[e].getProperty("Name")||d[e].getProperty("NameKey")}this._getServiceIndex=
function(a){if("/"===a)return-1;if(!a||a.length&&0===a.length)return v[0]?0:-1;for(var e=0;e<p.length;++e)for(var b=0;b<p[e].length;b++)if(p[e][b].test(a))return e;throw Error(g.formatMessage(m.NoFileSrv,a));};this._getService=function(a){a=this._getServiceIndex(a);return-1===a?z:v[a]};this._getServiceName=function(a){a=this._getServiceIndex(a);return-1===a?z.Name:t[a]};this._getServiceRootURL=function(a){a=this._getServiceIndex(a);return-1===a?z.Location:C[a].Location}}c.prototype={getService:function(c){return this._getService(c)},
fileServiceName:function(c){return this._getServiceName(c)},fileServiceRootURL:function(c){return this._getServiceRootURL(c)},fetchChildren:function(c){return f(this._getService(c),"fetchChildren",arguments)},createWorkspace:function(c){return f(this._getService(),"createWorkspace",arguments)},loadWorkspaces:function(){return f(this._getService(),"loadWorkspaces",arguments)},loadWorkspace:function(c){return f(this._getService(c),"loadWorkspace",arguments)},createProject:function(c,b,a,e){return f(this._getService(c),
"createProject",arguments)},createFolder:function(c,b){return f(this._getService(c),"createFolder",arguments)},createFile:function(c,b){return f(this._getService(c),"createFile",arguments)},deleteFile:function(c){return f(this._getService(c),"deleteFile",arguments)},moveFile:function(c,b,a){var e=this._getService(c),n=this._getService(b);if(e===n)return f(e,"moveFile",arguments);var r="/"===c[c.length-1],p=b;"/"!==p[p.length-1]&&(p+="/");if(a)p+=encodeURIComponent(a);else{var g=c;r&&(g=g.substring(0,
g.length-1));p+=g.substring(g.lastIndexOf("/")+1)}r&&"/"!==p[p.length-1]&&(p+="/");return d(e,c,n,p).then(function(){return f(e,"deleteFile",[c])})},copyFile:function(c,b,a){var e=this._getService(c),n=this._getService(b);if(e===n)return f(e,"copyFile",arguments);var r="/"===c[c.length-1],p=b;"/"!==p[p.length-1]&&(p+="/");if(a)p+=encodeURIComponent(a);else{var g=c;r&&(g=g.substring(0,g.length-1));p+=g.substring(g.lastIndexOf("/")+1)}r&&"/"!==p[p.length-1]&&(p+="/");return d(e,c,n,p)},read:function(c,
b){return f(this._getService(c),"read",arguments)},readBlob:function(c){return f(this._getService(c),"readBlob",arguments)},write:function(c,b,a){return f(this._getService(c),"write",arguments)},remoteImport:function(c,b){return f(this._getService(c),"remoteImport",arguments)},remoteExport:function(c,b){return f(this._getService(c),"remoteExport",arguments)},search:function(c){return f(this._getService(c.resource),"search",arguments)}};c.prototype.constructor=c;return{FileClient:c}});s("orion/metrics",
[],function(){function m(f,d){var c=window.location.protocol+"//"+window.location.hostname+window.location.pathname+window.location.search,k=window.location.pathname+window.location.search,b=document.title;g=f;g.forEach(function(a){a.pageLoad(c,k,b,d)})}function h(f,d,c,k){g.forEach(function(b){b.logTiming(f,d,c,k)})}var g=[];return{init:m,initFromRegistry:function(f,d){var c=[];f.getServiceReferences("orion.metrics").forEach(function(d){c.push(f.getService(d))});m(c,d)},logEvent:function(f,d,c,k){g.forEach(function(b){b.logEvent(f,
d,c,k)})},logPageLoadTiming:function(f,d){window.performance&&(window.performance.getEntriesByName&&window.performance.mark&&!window.performance.getEntriesByName(f).length)&&(window.performance.mark(f),h("page",f,window.performance.now(),d))},logTiming:h}});s("orion/objects",[],function(){function m(h){for(var g=Object.prototype.hasOwnProperty,f=1,d=arguments.length;f<d;f++){var c=arguments[f],k;for(k in c)g.call(c,k)&&(h[k]=c[k])}return h}return{clone:function(h){if(Array.isArray(h))return Array.prototype.slice.call(h);
var g=Object.create(Object.getPrototypeOf(h));m(g,h);return g},mixin:m,toArray:function(h){return Array.isArray(h)?h:[h]}}});s("javascript/lru",["orion/objects"],function(m){function h(f,d){var c=Object.create(null);c._p=null;c._n=null;c._v={key:f,value:d};return c}function g(f){this._max="undefined"===typeof f?-1:f;this._start=this._end=null;this._size=0;this._cache=Object.create(null)}m.mixin(g.prototype,{clear:function(){this._cache=Object.create(null);this._end=this._start=null;this._size=0},
size:function(){return this._size},containsKey:function(f){return"undefined"!==typeof this._cache[f]},put:function(f,d){-1!==this._max&&this._size+1>this._max&&this.remove(this._end._v.key);this.remove(f);var c=h(f,d);this._start?(c=h(f,d),c._n=this._start,this._start=this._start._p=c):this._start=this._end=c;this._cache[f]=c;this._size++},get:function(f){return 0<this._size&&(f=this._cache[f])&&f._v?f._v.value:null},remove:function(f){if(0===this._size)return null;var d=this._cache[f];if(d){var c=
d._p;this._end===d&&(this._end=c);var k=d._n;this._start===d&&(this._start=d._n);c&&(c._n=k);k&&(k._p=c);delete this._cache[f];this._size--;return d._v.value}return null},keys:function(){var f=[];if(this._end)for(var d=this._end;d;)f.push(d._v.key),d=d._p;return f}});return{LRU:g}});(function(){function m(a,e){var c=function(){};c.prototype=e.prototype;a.super_=e;a.prototype=new c;a.prototype.constructor=a}function h(a,e){this._options=e?e:{};this._validateBuilder(a);this._builder=a;this.reset()}
function g(a,e){this.reset();this._options=e?e:{};void 0===this._options.ignoreWhitespace&&(this._options.ignoreWhitespace=!1);void 0===this._options.includeLocation&&(this._options.includeLocation=!1);void 0===this._options.verbose&&(this._options.verbose=!0);void 0===this._options.enforceEmptyTags&&(this._options.enforceEmptyTags=!0);void 0===this._options.caseSensitiveTags&&(this._options.caseSensitiveTags=!1);void 0===this._options.caseSensitiveAttr&&(this._options.caseSensitiveAttr=!1);"function"==
typeof a&&(this._callback=a)}function f(a){f.super_.call(this,a,{ignoreWhitespace:!0,verbose:!1,enforceEmptyTags:!1,caseSensitiveTags:!0})}var d;if("undefined"!==typeof module&&"undefined"!==typeof module.exports)d=module.exports;else{d={};this.Tautologistics||(this.Tautologistics={});if(this.Tautologistics.NodeHtmlParser)return;this.Tautologistics.NodeHtmlParser=d}var c={Text:"text",Tag:"tag",Attr:"attr",CData:"cdata",Doctype:"doctype",Comment:"comment"};if("undefined"!==typeof module&&"undefined"!==
typeof module.exports){var k=B("stream");m(h,k);h.prototype.writable=!0;h.prototype.write=function(a){a instanceof Buffer&&(a=a.toString());this.parseChunk(a)};h.prototype.end=function(a){arguments.length&&this.write(a);this.writable=!1;this.done()};h.prototype.destroy=function(){this.writable=!1}}h.prototype.reset=function(){this._state={mode:c.Text,pos:0,data:null,pendingText:null,pendingWrite:null,lastTag:null,isScript:!1,needData:!1,output:[],done:!1};this._builder.reset()};h.prototype.parseChunk=
function(a){this._state.needData=!1;for(this._state.data=null!==this._state.data?this._state.data.substr(this.pos)+a:a;this._state.pos<this._state.data.length&&!this._state.needData;)this._parse(this._state)};h.prototype.parseComplete=function(a){this.reset();this.parseChunk(a);this.done()};h.prototype.done=function(){this._state.done=!0;this._parse(this._state);this._flushWrite();this._builder.done()};h.prototype._validateBuilder=function(a){if("object"!=typeof a)throw Error("Builder is not an object");
if("function"!=typeof a.reset)throw Error("Builder method 'reset' is invalid");if("function"!=typeof a.done)throw Error("Builder method 'done' is invalid");if("function"!=typeof a.write)throw Error("Builder method 'write' is invalid");if("function"!=typeof a.error)throw Error("Builder method 'error' is invalid");};h.prototype._parse=function(){switch(this._state.mode){case c.Text:return this._parseText(this._state);case c.Tag:return this._parseTag(this._state);case c.Attr:return this._parseAttr(this._state);
case c.CData:return this._parseCData(this._state);case c.Doctype:return this._parseDoctype(this._state);case c.Comment:return this._parseComment(this._state)}};h.prototype._writePending=function(a){this._state.pendingWrite||(this._state.pendingWrite=[]);this._state.pendingWrite.push(a)};h.prototype._flushWrite=function(){if(this._state.pendingWrite){for(var a=0,e=this._state.pendingWrite.length;a<e;a++)this._builder.write(this._state.pendingWrite[a]);this._state.pendingWrite=null}};h.prototype._write=
function(a){this._flushWrite();this._builder.write(a)};h._re_parseText_scriptClose=/<\s*\/\s*script/ig;h.prototype._parseText=function(){var a=this._state,e,b=a.pos;a.isScript?(h._re_parseText_scriptClose.lastIndex=a.pos,e=(e=h._re_parseText_scriptClose.exec(a.data))?e.index:-1):e=a.data.indexOf("\x3c",a.pos);var d=-1===e?a.data.substring(a.pos,a.data.length):a.data.substring(a.pos,e);0>e&&a.done&&(e=a.data.length);0>e?a.isScript?a.needData=!0:(a.pendingText||(a.pendingText=[]),a.pendingText.push(a.data.substring(a.pos,
a.data.length)),a.pos=a.data.length):(a.pendingText?(a.pendingText.push(a.data.substring(a.pos,e)),d=a.pendingText.join(""),a.pendingText=null):d=a.data.substring(a.pos,e),""!==d&&this._write({type:c.Text,data:d,range:[b,e]}),a.pos=e+1,a.mode=c.Tag)};h.re_parseTag=/\s*(\/?)\s*([^\s>\/]+)(\s*)\??(>?)/g;h.prototype._parseTag=function(){var a=this._state,e=h.re_parseTag.lastIndex=a.pos,b=h.re_parseTag.exec(a.data);if(b)if(!b[1]&&"!--"===b[2].substr(0,3))a.mode=c.Comment,a.pos+=3;else if(!b[1]&&"![CDATA["===
b[2].substr(0,8).toUpperCase())a.mode=c.CData,a.pos+=8;else if(!b[1]&&"!DOCTYPE"===b[2].substr(0,8).toUpperCase())a.mode=c.Doctype,a.pos+=8;else if(!a.done&&a.pos+b[0].length===a.data.length)a.needData=!0;else{var d;"\x3e"===b[4]?(a.mode=c.Text,d=b[0].substr(0,b[0].length-1)):(a.mode=c.Attr,d=b[0]);a.pos+=b[0].length;e={type:c.Tag,name:b[1]+b[2],raw:d,range:[e,a.pos]};a.mode===c.Attr&&(a.lastTag=e);"script"===e.name.toLowerCase()?a.isScript=!0:"/script"===e.name.toLowerCase()&&(a.isScript=!1);a.mode===
c.Attr?this._writePending(e):this._write(e)}else a.needData=!0};h.re_parseAttr_findName=/\s*([^=<>\s'"\/]+)\s*/g;h.prototype._parseAttr_findName=function(){h.re_parseAttr_findName.lastIndex=this._state.pos;var a=h.re_parseAttr_findName.exec(this._state.data);return!a||this._state.pos+a[0].length!==h.re_parseAttr_findName.lastIndex?null:{match:a[0],name:a[1]}};h.re_parseAttr_findValue=/\s*=\s*(?:'([^']*)'|"([^"]*)"|([^'"\s\/>]+))\s*/g;h.re_parseAttr_findValue_last=/\s*=\s*['"]?(.*)$/g;h.prototype._parseAttr_findValue=
function(){var a=this._state;h.re_parseAttr_findValue.lastIndex=a.pos;var e=h.re_parseAttr_findValue.exec(a.data);if(!e){if(!a.done)return null;h.re_parseAttr_findValue_last.lastIndex=a.pos;e=h.re_parseAttr_findValue_last.exec(a.data);return!e?null:{match:e[0],value:""!==e[1]?e[1]:null}}return a.pos+e[0].length!==h.re_parseAttr_findValue.lastIndex?null:{match:e[0],value:e[1]||e[2]||e[3]}};h.re_parseAttr_splitValue=/\s*=\s*['"]?/g;h.re_parseAttr_selfClose=/(\s*\/\s*)(>?)/g;h.prototype._parseAttr=function(){var a=
this._state,e=a.pos,b=this._parseAttr_findName(a);if(!b||"?"===b.name){h.re_parseAttr_selfClose.lastIndex=a.pos;if((b=h.re_parseAttr_selfClose.exec(a.data))&&b.index===a.pos){if(!a.done&&!b[2]&&a.pos+b[0].length===a.data.length){a.needData=!0;return}a.lastTag.raw+=b[1];a.lastTag.range[1]=b.index+1;this._write({type:c.Tag,name:"/"+a.lastTag.name,raw:null,range:[e,b.index+1]});a.pos+=b[1].length}e=a.data.indexOf("\x3e",a.pos);0>e?a.done?(a.lastTag.raw+=a.data.substr(a.pos),a.pos=a.data.length):a.needData=
!0:(a.pos=e+1,a.mode=c.Text)}else{if(!a.done&&a.pos+b.match.length===a.data.length)return a.needData=!0,null;a.pos+=b.match.length;var d=this._parseAttr_findValue(a);if(d){if(!a.done&&a.pos+d.match.length===a.data.length){a.needData=!0;a.pos-=b.match.length;return}a.pos+=d.match.length}else{h.re_parseAttr_splitValue.lastIndex=a.pos;if(h.re_parseAttr_splitValue.exec(a.data)){a.needData=!0;a.pos-=b.match.length;return}d={match:"",value:null}}a.lastTag.raw+=b.match+d.match;this._writePending({type:c.Attr,
name:b.name,data:d.value,range:[e,a.pos]})}};h.re_parseCData_findEnding=/\]{1,2}$/;h.prototype._parseCData=function(){var a=this._state,e=a.pos,b=a.data.indexOf("]]\x3e",a.pos);0>b&&a.done&&(b=a.data.length);if(0>b)h.re_parseCData_findEnding.lastIndex=a.pos,h.re_parseCData_findEnding.exec(a.data)||(a.pendingText||(a.pendingText=[]),a.pendingText.push(a.data.substr(a.pos,a.data.length)),a.pos=a.data.length),a.needData=!0;else{var d;a.pendingText?(a.pendingText.push(a.data.substring(a.pos,b)),d=a.pendingText.join(""),
a.pendingText=null):d=a.data.substring(a.pos,b);this._write({type:c.CData,data:d,range:[e,b]});a.mode=c.Text;a.pos=b+3}};h.prototype._parseDoctype=function(){var a=this._state,e=a.pos,b=a.data.indexOf("\x3e",a.pos);0>b&&a.done&&(b=a.data.length);if(0>b)h.re_parseCData_findEnding.lastIndex=a.pos,a.pendingText||(a.pendingText=[]),a.pendingText.push(a.data.substr(a.pos,a.data.length)),a.pos=a.data.length,a.needData=!0;else{var d;a.pendingText?(a.pendingText.push(a.data.substring(a.pos,b)),d=a.pendingText.join(""),
a.pendingText=null):d=a.data.substring(a.pos,b);this._write({type:c.Doctype,data:d,range:[e,b]});a.mode=c.Text;a.pos=b+1}};h.re_parseComment_findEnding=/\-{1,2}$/;h.prototype._parseComment=function(){var a=this._state,e=a.pos,b=a.data.indexOf("--\x3e",a.pos);0>b&&a.done&&(b=a.data.length);if(0>b)h.re_parseComment_findEnding.lastIndex=a.pos,h.re_parseComment_findEnding.exec(a.data)||(a.pendingText||(a.pendingText=[]),a.pendingText.push(a.data.substr(a.pos,a.data.length)),a.pos=a.data.length),a.needData=
!0;else{var d;a.pendingText?(a.pendingText.push(a.data.substring(a.pos,b)),d=a.pendingText.join(""),a.pendingText=null):d=a.data.substring(a.pos,b);this._write({type:c.Comment,data:d,range:[e,b]});a.mode=c.Text;a.pos=b+3}};g._emptyTags={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1,"?xml":1};g.reWhitespace=/^\s*$/;g.prototype.dom=null;g.prototype.reset=function(){this.dom=[];this._done=!1;this._tagStack=[];this._lastTag=null;this._tagStack.last=
function(){return this.length?this[this.length-1]:null};this._col=this._line=1};g.prototype.done=function(){this._done=!0;this.handleCallback(null)};g.prototype.error=function(a){this.handleCallback(a)};g.prototype.handleCallback=function(a){if("function"!=typeof this._callback){if(a)throw a;}else this._callback(a,this.dom)};g.prototype.isEmptyTag=function(a){a=a.name.toLowerCase();if("?"==a.charAt(0))return!0;"/"==a.charAt(0)&&(a=a.substring(1));return this._options.enforceEmptyTags&&!!g._emptyTags[a]};
g.prototype._getLocation=function(){return{line:this._line,col:this._col}};g.prototype._updateLocation=function(a){var e=a.type===c.Tag?a.raw:a.data;null!==e&&(e=e.split("\n"),this._line+=e.length-1,1<e.length&&(this._col=1),this._col+=e[e.length-1].length,a.type===c.Tag?this._col+=2:a.type===c.Comment?this._col+=7:a.type===c.CData?this._col+=12:a.type===c.Doctype&&(this._col+=10))};g.prototype._copyElement=function(a){var e={type:a.type};a.range&&(e.range=a.range);this._options.verbose&&void 0!==
a.raw&&(e.raw=a.raw);if(void 0!==a.name)switch(a.type){case c.Tag:e.name=this._options.caseSensitiveTags?a.name:a.name.toLowerCase();break;case c.Attr:e.name=this._options.caseSensitiveAttr?a.name:a.name.toLowerCase();break;default:e.name=this._options.caseSensitiveTags?a.name:a.name.toLowerCase()}void 0!==a.data&&(e.data=a.data);a.location&&(e.location={line:a.location.line,col:a.location.col});return e};g.prototype.write=function(a){this._done&&this.handleCallback(Error("Writing to the builder after done() called is not allowed without a reset()"));
this._options.includeLocation&&a.type!==c.Attr&&(a.location=this._getLocation(),this._updateLocation(a));if(!(a.type===c.Text&&this._options.ignoreWhitespace)||!g.reWhitespace.test(a.data)){var e,b;if(this._tagStack.last())if(a.type===c.Tag)if("/"==a.name.charAt(0)){if(e=this._options.caseSensitiveTags?a.name.substring(1):a.name.substring(1).toLowerCase(),!this.isEmptyTag(a))for(b=this._tagStack.length-1;-1<b;b--){var d=this._tagStack.pop();if(d.name===e){d.range[1]=a.range[1];this._lastTag=this._tagStack.last();
break}}}else e=this._tagStack.last(),a.type===c.Attr?(e.attributes||(e.attributes={}),b=Object.create(null),b.value=a.data,b.range=a.range,b.type="attr",e.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]=b):(b=this._copyElement(a),e.children||(e.children=[]),e.children.push(b),this.isEmptyTag(b)||this._tagStack.push(b),a.type===c.Tag&&(this._lastTag=b));else e=this._tagStack.last(),a.type===c.Attr?(this._lastTag&&(e=this._lastTag),e.attributes||(e.attributes={}),b=Object.create(null),
b.value=a.data,b.range=a.range,b.type="attr",a=this._options.caseSensitiveAttr?a.name:a.name.toLowerCase(),e.attributes[a]=b):(e.children||(e.children=[]),e.children.push(this._copyElement(a)));else a.type===c.Tag?"/"!=a.name.charAt(0)?(b=this._copyElement(a),this.dom.push(b),this.isEmptyTag(b)||this._tagStack.push(b),this._lastTag=b):this._lastTag&&this._lastTag.name===a.name.slice(1)&&(this._lastTag.range[1]=a.range[1]):a.type===c.Attr&&this._lastTag?(this._lastTag.attributes||(this._lastTag.attributes=
{}),b=Object.create(null),b.value=a.data,b.range=a.range,b.type="attr",this._lastTag.attributes[this._options.caseSensitiveAttr?a.name:a.name.toLowerCase()]=b):this.dom.push(this._copyElement(a))}};g.prototype._options=null;g.prototype._callback=null;g.prototype._done=!1;g.prototype._tagStack=null;m(f,g);f.prototype.done=function(){var a={},e,c=b.getElementsByTagName(function(a){return"rss"==a||"feed"==a},this.dom,!1);c.length&&(e=c[0]);if(e){if("rss"==e.name){a.type="rss";e=e.children[0];a.id="";
try{a.title=b.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(d){}try{a.link=b.getElementsByTagName("link",e.children,!1)[0].children[0].data}catch(k){}try{a.description=b.getElementsByTagName("description",e.children,!1)[0].children[0].data}catch(g){}try{a.updated=new Date(b.getElementsByTagName("lastBuildDate",e.children,!1)[0].children[0].data)}catch(h){}try{a.author=b.getElementsByTagName("managingEditor",e.children,!1)[0].children[0].data}catch(m){}a.items=[];b.getElementsByTagName("item",
e.children).forEach(function(e,c,d){c={};try{c.id=b.getElementsByTagName("guid",e.children,!1)[0].children[0].data}catch(n){}try{c.title=b.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(k){}try{c.link=b.getElementsByTagName("link",e.children,!1)[0].children[0].data}catch(f){}try{c.description=b.getElementsByTagName("description",e.children,!1)[0].children[0].data}catch(r){}try{c.pubDate=new Date(b.getElementsByTagName("pubDate",e.children,!1)[0].children[0].data)}catch(p){}a.items.push(c)})}else{a.type=
"atom";try{a.id=b.getElementsByTagName("id",e.children,!1)[0].children[0].data}catch(z){}try{a.title=b.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(q){}try{a.link=b.getElementsByTagName("link",e.children,!1)[0].attributes.href}catch(w){}try{a.description=b.getElementsByTagName("subtitle",e.children,!1)[0].children[0].data}catch(D){}try{a.updated=new Date(b.getElementsByTagName("updated",e.children,!1)[0].children[0].data)}catch(s){}try{a.author=b.getElementsByTagName("email",
e.children,!0)[0].children[0].data}catch(I){}a.items=[];b.getElementsByTagName("entry",e.children).forEach(function(e,c,d){c={};try{c.id=b.getElementsByTagName("id",e.children,!1)[0].children[0].data}catch(n){}try{c.title=b.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(k){}try{c.link=b.getElementsByTagName("link",e.children,!1)[0].attributes.href}catch(f){}try{c.description=b.getElementsByTagName("summary",e.children,!1)[0].children[0].data}catch(r){}try{c.pubDate=new Date(b.getElementsByTagName("updated",
e.children,!1)[0].children[0].data)}catch(p){}a.items.push(c)})}this.dom=a}f.super_.prototype.done.call(this)};var b={testElement:function(a,e){if(!e)return!1;for(var b in a)if(a.hasOwnProperty(b))if("tag_name"==b){if(e.type!==c.Tag||!a.tag_name(e.name))return!1}else if("tag_type"==b){if(!a.tag_type(e.type))return!1}else if("tag_contains"==b){if(e.type!==c.Text&&e.type!==c.Comment&&e.type!==c.CData||!a.tag_contains(e.data))return!1}else if(!e.attributes||!a[b](e.attributes[b]))return!1;return!0},
getElements:function(a,e,c,d){function k(a){return function(e){return e==a}}c=void 0===c||null===c||!!c;d=isNaN(parseInt(d))?-1:parseInt(d);if(!e)return[];var f=[],g;for(g in a)"function"!=typeof a[g]&&(a[g]=k(a[g]));b.testElement(a,e)&&f.push(e);if(0<=d&&f.length>=d)return f;if(c&&e.children)e=e.children;else if(!(e instanceof Array))return f;for(g=0;g<e.length&&!(f=f.concat(b.getElements(a,e[g],c,d)),0<=d&&f.length>=d);g++);return f},getElementById:function(a,e,c){a=b.getElements({id:a},e,c,1);
return a.length?a[0]:null},getElementsByTagName:function(a,e,c,d){return b.getElements({tag_name:a},e,c,d)},getElementsByTagType:function(a,e,c,d){return b.getElements({tag_type:a},e,c,d)}};d.Parser=h;d.HtmlBuilder=g;d.RssBuilder=f;d.ElementType=c;d.DomUtils=b})();s("htmlparser/htmlparser",function(){});s("webtools/htmlAstManager",["orion/Deferred","orion/objects","javascript/lru","orion/metrics","htmlparser/htmlparser"],function(m,h,g,f){function d(){this.cache=new g.LRU(10)}h.mixin(d.prototype,
{getAST:function(c){var d=this;return c.getFileMetadata().then(function(b){b=b||{};var a=d._getKey(b),e=d.cache.get(a);return e?(new m).resolve(e):c.getText().then(function(c){e=d.parse(c);d.cache.put(a,e);b.location&&(e.fileLocation=b.location);return e})})},_getKey:function(c){return!c.location?"unknown":c.location},parse:function(c){var d,b=new Tautologistics.NodeHtmlParser.HtmlBuilder(function(a,b){a||(d=b)},{ignoreWhitespace:!0,includeLocation:!0,verbose:!1}),b=new Tautologistics.NodeHtmlParser.Parser(b),
a=Date.now();b.parseComplete(c);b=Date.now()-a;f.logTiming("language tools","parse",b,"text/html");d.source=c;return d},onModelChanging:function(c){this.inputChanged?this.inputChanged=null:this.cache.remove(this._getKey(c.file))},onInputChanged:function(c){this.inputChanged=c}});return{HtmlAstManager:d}});s("orion/URITemplate",[],function(){function m(a){this._text=a}function h(a){return a.replace("%25","%")}function g(a,b){if("U"===b)return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+
a.charCodeAt(0).toString(16).toUpperCase()});if("U+R"===b)return encodeURI(a).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(e,h);if("U+R-,"===b)return encodeURI(a).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/,/g,"%2C");throw Error("Unknown allowed character set: "+b);}function f(a,e,b){for(var c=[],d=0;d<a.length;d++)"undefined"!==typeof a[d]&&c.push(g(a[d],e));return c.join(b)}function d(a,e,b,c){for(var d=Object.keys(a),k=[],f=0;f<d.length;f++)"undefined"!==typeof a[d[f]]&&k.push(g(d[f],
e)+b+g(a[d[f]],e));return k.join(c)}function c(e){if(0===e.length)throw Error("Invalid Expression: 0 length expression");(this._operator=b[e[0]])?e=e.substring(1):this._operator=b.NUL;for(var c=[],d=e.split(","),k=0;k<d.length;k++){var f=d[k].match(a);if(null===f)throw Error("Bad VarSpec: "+e);c.push({name:f[1],explode:!!f[2],prefix:f[3]?parseInt(f[3],10):-1})}this._varSpecList=c}function k(a){for(var e=[],b=0,d=a.indexOf("{",b);-1!==d;){e.push(new m(a.substring(b,d)));b=a.indexOf("}",d+1);if(-1===
b)throw Error("Invalid template: "+a);e.push(new c(a.substring(d+1,b)));b+=1;d=a.indexOf("{",b)}e.push(new m(a.substring(b)));this._templateComponents=e}var b={NUL:{first:"",sep:",",named:!1,ifemp:"",allow:"U"},"+":{first:"",sep:",",named:!1,ifemp:"",allow:"U+R"},".":{first:".",sep:",",named:!1,ifemp:"",allow:"U"},"/":{first:"/",sep:"/",named:!1,ifemp:"",allow:"U"},";":{first:";",sep:";",named:!0,ifemp:"",allow:"U"},"?":{first:"?",sep:"\x26",named:!0,ifemp:"\x3d",allow:"U"},"\x26":{first:"\x26",sep:"\x26",
named:!0,ifemp:"\x3d",allow:"U"},"#":{first:"#",sep:",",named:!1,ifemp:"",allow:"U+R"},",":{first:"",sep:",",named:!1,ifemp:"",allow:"U+R-,"}},a=/^((?:(?:[a-zA-Z0-9_])|(?:%[0-9A-F][0-9A-F]))(?:(?:[a-zA-Z0-9_.])|(?:%[0-9A-F][0-9A-F]))*)(?:(\*)|:([0-9]+))?$/,e=/%25[0-9A-F][0-9A-F]/g;m.prototype={expand:function(a){return encodeURI(this._text)}};c.prototype={expand:function(a){for(var e=[],b=0;b<this._varSpecList.length;b++){var c=this._varSpecList[b],k=c.name,h=a[k],m=typeof h;if("undefined"!==m&&null!==
h){var q=0===e.length?this._operator.first:this._operator.sep;if("string"===m)this._operator.named&&(q+=g(k,"U+R"),q+=0===h.length?this._operator.ifemp:"\x3d"),-1!==c.prefix&&c.prefix<h.length&&(h=h.substring(0,c.prefix)),q+=g(h,this._operator.allow);else if(Array.isArray(h)){if(0===h.length)continue;c.explode?q+=f(h,this._operator.allow,this._operator.sep):(c=f(h,this._operator.allow,","),this._operator.named&&(q+=g(k,"U+R"),q+=0===c.length?this._operator.ifemp:"\x3d"),q+=c)}else if("object"===m){if(0===
Object.keys(h).length)continue;c.explode?q+=d(h,this._operator.allow,"\x3d",this._operator.sep):(c=d(h,this._operator.allow,",",","),this._operator.named&&(q+=g(k,"U+R"),q+=0===c.length?this._operator.ifemp:"\x3d"),q+=c)}else throw Error("bad param type: "+k+" : "+m);e.push(q)}}return e.join("")}};k.prototype={expand:function(a){for(var e=[],b=0;b<this._templateComponents.length;b++)e.push(this._templateComponents[b].expand(a));return e.join("")}};return k});s("htmlparser/visitor",[],function(){function m(g,
f,d){f.parent=d;var c=g.visitNode(f);if(c===h.BREAK||c===h.SKIP)return c;if(f.attributes){var k=f.attributes,b=Object.keys(k);for(d=0;d<b.length&&!(c=k[b[d]],c.parent=f,c.kind=b[d],c=g.visitNode(c),c===h.SKIP);d++)if(c===h.BREAK)return c}if(k=f.children)for(d=0;d<k.length;d++)if(c=m(g,k[d],f),c===h.BREAK)return c}var h={BREAK:1,SKIP:2,visit:function(g,f){if(Array.isArray(g)&&f&&"function"===typeof f.visitNode){this.callback=f;for(var d=0;d<g.length&&m(this.callback,g[d],null)!==this.BREAK;d++);}}};
return h});s("webtools/htmlHover",["orion/objects","orion/URITemplate","htmlparser/visitor"],function(m,h,g){function f(d,c){this.htmlAstManager=d;this.resolver=c}m.mixin(f.prototype,{_hoverableTags:"div h1 h2 h3 h4 h5 body p ol ul li table td tr textarea select form pre".split(" "),computeHoverInfo:function(d,c){var k=this;return k.htmlAstManager.getAST(d).then(function(b){if(b&&(b=k._findNode(b,c.offset,null)))switch(b.type){case "tag":if(0<=k._hoverableTags.indexOf(b.name))return k._getTagContentsHover(d,
b.range);break;case "attr":var a=b.value;switch(b.kind){case "href":return/\.(?:png|jpg|jpeg|bmp|gif)$/.test(a)?k._getImageHover(d,a):/^data:image.*;base64/i.test(a)?k._getImageHover(d,a,!0):k._getFileHover(d,a);case "src":if(/\.(?:png|jpg|jpeg|bmp|gif)$/.test(a))return k._getImageHover(d,a);if(/^data:image.*;base64/i.test(a))return k._getImageHover(d,a,!0);if(/\.js$/i.test(a))return k._getFileHover(d,a)}}return null})},_findNode:function(d,c){var k=null;g.visit(d,{visitNode:function(b){if(b.range[0]<=
c)k=b;else return c>k.range[1]&&(k=null),g.BREAK}});return k},_getFileHover:function(d,c){if(c){if(/^http/i.test(c))return this._formatFilesHover(c);var k=this,b;if(/\.css$/i.test(c))b={ext:"css",type:"CSS",icon:"../webtools/images/css.png"};else if(/\.htm.*/i.test(c))b={ext:"html",type:"HTML",icon:"../webtools/images/html.png"};else if(!/\.js$/i.test(c))return null;return d.getFileMetadata().then(function(a){return k.resolver.getWorkspaceFile(c,b).then(function(e){if((e=k.resolver.resolveRelativeFiles(c,
e,a))&&0<e.length)return k._formatFilesHover(c,e)})})}return null},_formatFilesHover:function(d,c){if(d){c&&1<c.length&&"###Open file for '"+d+"'###";var k="";if(Array.isArray(c))for(var b=0;b<c.length;b++){var a=c[b];if(a.name&&a.path&&a.contentType){k+="[";a.contentType.icon&&(k+="!["+a.contentType.name+"]("+a.contentType.icon+")");var e=(new h("#{,resource,params*}")).expand({resource:a.location,params:{}}),k=k+(a.name+"]("+e+") - "+a.path+"\n\n")}}else{a=!1;if(e=/^\s*http\s*:\s*\/\s*\/\s*(.*)/i.exec(d))e=
e[1],"/"===e.charAt(e.length-1)&&(e=e.slice(0,e.length-1)),a=-1===e.indexOf("/");b=d.slice(d.lastIndexOf("/")+1);a&&(b=e);a?(b=e,k=k+("[!["+b+"](../webtools/images/html.png)")+(b+"]("+d+")\n\n")):(a=null,a=/\.css$/i.test(d)?"../webtools/images/css.png":/\.htm.*/i.test(d)?"../webtools/images/html.png":"../webtools/images/file.png",k+="[!["+b+"]("+a+")",k+=b+"]("+d+") - "+d+"\n\n")}if(""!==k)return{title:null,content:k,type:"markdown",allowFullWidth:!0}}return null},_getImageHover:function(d,c,k){if(c){if(/^http/i.test(c)||
k)return{type:"html",content:'\x3chtml\x3e\x3cbody style\x3d"margin:1px;"\x3e\x3cimg src\x3d"'+c+'" style\x3d"width:100%;height:100%;"/\x3e\x3c/body\x3e\x3c/html\x3e',width:"100px",height:"100px"};k=c.lastIndexOf(".");if(-1<k){var b=c.slice(k+1),a=this;return d.getFileMetadata().then(function(e){return a.resolver.getWorkspaceFile(c,{ext:b,type:"Image",icon:"../webtools/images/file.png"}).then(function(b){if(b&&0<b.length&&(b=a.resolver.resolveRelativeFiles(c,b,e))&&0<b.length)return{type:"html",content:'\x3chtml\x3e\x3cbody style\x3d"margin:1px;"\x3e\x3cimg src\x3d"'+
b[0].location+'" style\x3d"width:100%;height:100%;"/\x3e\x3c/body\x3e\x3c/html\x3e',width:"100px",height:"100px"}})})}}},_getColorHover:function(d){return{type:"html",content:'\x3chtml\x3e\x3cbody style\x3d"background-color: '+d+';"\x3e\x3c/html\x3e',width:"50px",height:"25px"}},_getTagContentsHover:function(d,c){if(c){var k=this;return d.getText().then(function(b){if(0<=c[0]&&c[0]<b.length&&c[1]>c[0]&&c[1]<b.length){var a=k._findTagStart(b,c[0]);return null===a?null:{type:"html",content:'\x3cbody style\x3d"background-color:white"\x3e'+
b.substring(a,c[1])+"\x3c/body\x3e"}}})}return null},_findTagStart:function(d,c){if(d&&c)for(var k=c;0<=k;){if("\x3c"===d.charAt(k))return k;k--}return null}});f.prototype.contructor=f;return{HTMLHover:f}});s("orion/fileMap",["orion/Deferred"],function(m){var h={androidapp:{source:"org.eclipse.orion.client.ui/web/androidapp"},auth:{source:"org.eclipse.orion.client.ui/web/auth"},browse:{source:"org.eclipse.orion.client.ui/web/browse"},cfui:{source:"org.eclipse.orion.client.cf/web/cfui"},chai:{source:"org.eclipse.orion.client.core/web/chai"},
compare:{source:"org.eclipse.orion.client.ui/web/compare"},"compare-tree":{source:"org.eclipse.orion.client.ui/web/compare-tree"},content:{source:"org.eclipse.orion.client.ui/web/content"},css:{source:"org.eclipse.orion.client.ui/web/css"},csslint:{source:"org.eclipse.orion.client.webtools/web/csslint"},doctrine:{source:"org.eclipse.orion.client.javascript/web/doctrine"},edit:{source:"org.eclipse.orion.client.ui/web/edit"},escope:{source:"org.eclipse.orion.client.javascript/web/escope"},eslint:{source:"org.eclipse.orion.client.javascript/web/eslint"},
esprima:{source:"org.eclipse.orion.client.javascript/web/esprima"},estraverse:{source:"org.eclipse.orion.client.javascript/web/estraverse"},examplePages:{source:"org.eclipse.orion.client.ui/web/"},"examples/editor":{source:"org.eclipse.orion.client.editor/web/examples"},font:{source:"org.eclipse.orion.client.ui/web/font"},gcli:{source:"org.eclipse.orion.client.ui/web/gcli"},git:{source:"org.eclipse.orion.client.git/web/git"},help:{source:"org.eclipse.orion.client.help/web/help"},helpContent:{source:"org.eclipse.orion.client.help/web/helpContent"},
htmlparser:{source:"org.eclipse.orion.client.webtools/web/htmlparser"},images:{source:"org.eclipse.orion.client.ui/web/images"},javascript:{source:"org.eclipse.orion.client.javascript/web/javascript"},jsdiff:{source:"org.eclipse.orion.client.ui/web/jsdiff"},"js-tests/core":{source:"org.eclipse.orion.client.core/web/js-tests/core"},"js-tests/editor":{source:"org.eclipse.orion.client.editor/web/js-tests/editor"},"js-tests/javascript":{source:"org.eclipse.orion.client.javascript/web/js-tests/javascript"},
"js-tests/ui":{source:"org.eclipse.orion.client.ui/web/js-tests/ui"},"js-tests/webtools":{source:"org.eclipse.orion.client.webtools/web/js-tests/webtools"},marked:{source:"org.eclipse.orion.client.ui/web/marked"},mixloginstatic:{source:"org.eclipse.orion.client.ui/web/mixloginstatic"},mocha:{source:"org.eclipse.orion.client.core/web/mocha"},operations:{source:"org.eclipse.orion.client.ui/web/operations"},"orion/cfui":{source:"org.eclipse.orion.client.cf/web/orion/cfui"},"orion/Base64.js":{source:"org.eclipse.orion.client.core/web/orion/Base64.js"},
"orion/bootstrap.js":{source:"org.eclipse.orion.client.core/web/orion/bootstrap.js"},"orion/config.js":{source:"org.eclipse.orion.client.core/web/orion/config.js"},"orion/contentTypes.js":{source:"org.eclipse.orion.client.core/web/orion/contentTypes.js"},"orion/Deferred.js":{source:"org.eclipse.orion.client.core/web/orion/Deferred.js"},"orion/encoding-shim.js":{source:"org.eclipse.orion.client.core/web/orion/encoding-shim.js"},"orion/EventTarget.js":{source:"org.eclipse.orion.client.core/web/orion/EventTarget.js"},
"orion/fileClient.js":{source:"org.eclipse.orion.client.core/web/orion/fileClient.js"},"orion/fileMap.js":{source:"org.eclipse.orion.client.core/web/orion/fileMap.js"},"orion/fileUtils.js":{source:"org.eclipse.orion.client.core/web/orion/fileUtils.js"},"orion/form.js":{source:"org.eclipse.orion.client.core/web/orion/form.js"},"orion/HTMLTemplates-shim.js":{source:"org.eclipse.orion.client.core/web/orion/HTMLTemplates-shim.js"},"orion/i18n.js":{source:"org.eclipse.orion.client.core/web/orion/i18n.js"},
"orion/i18nUtil.js":{source:"org.eclipse.orion.client.core/web/orion/i18nUtil.js"},"orion/keyBinding.js":{source:"org.eclipse.orion.client.core/web/orion/keyBinding.js"},"orion/log.js":{source:"org.eclipse.orion.client.core/web/orion/log.js"},"orion/metatype.js":{source:"org.eclipse.orion.client.core/web/orion/metatype.js"},"orion/objects.js":{source:"org.eclipse.orion.client.core/web/orion/objects.js"},"orion/operation.js":{source:"org.eclipse.orion.client.core/web/orion/operation.js"},"orion/operationsClient.js":{source:"org.eclipse.orion.client.core/web/orion/operationsClient.js"},
"orion/plugin.js":{source:"org.eclipse.orion.client.core/web/orion/plugin.js"},"orion/pluginregistry.js":{source:"org.eclipse.orion.client.core/web/orion/pluginregistry.js"},"orion/preferences.js":{source:"org.eclipse.orion.client.core/web/orion/preferences.js"},"orion/problems.js":{source:"org.eclipse.orion.client.core/web/orion/problems.js"},"orion/projectClient.js":{source:"org.eclipse.orion.client.core/web/orion/projectClient.js"},"orion/regex.js":{source:"org.eclipse.orion.client.core/web/orion/regex.js"},
"orion/serialize.js":{source:"org.eclipse.orion.client.core/web/orion/serialize.js"},"orion/serviceregistry.js":{source:"org.eclipse.orion.client.core/web/orion/serviceregistry.js"},"orion/serviceTracker.js":{source:"org.eclipse.orion.client.core/web/orion/serviceTracker.js"},"orion/Storage.js":{source:"org.eclipse.orion.client.core/web/orion/Storage.js"},"orion/testHelper.js":{source:"org.eclipse.orion.client.core/web/orion/testHelper.js"},"orion/URITemplate.js":{source:"org.eclipse.orion.client.core/web/orion/URITemplate.js"},
"orion/url.js":{source:"org.eclipse.orion.client.core/web/orion/url.js"},"orion/URL-shim.js":{source:"org.eclipse.orion.client.core/web/orion/URL-shim.js"},"orion/util.js":{source:"org.eclipse.orion.client.core/web/orion/util.js"},"orion/xhr.js":{source:"org.eclipse.orion.client.core/web/orion/xhr.js"},"orion/editor":{source:"org.eclipse.orion.client.editor/web/orion/editor"},"orion/git":{source:"org.eclipse.orion.client.git/web/orion/git"},"orion/help":{source:"org.eclipse.orion.client.help/web/orion/help"},
"orion/banner":{source:"org.eclipse.orion.client.ui/web/orion/banner"},"orion/compare":{source:"org.eclipse.orion.client.ui/web/orion/compare"},"orion/content":{source:"org.eclipse.orion.client.ui/web/orion/content"},"orion/crawler":{source:"org.eclipse.orion.client.ui/web/orion/crawler"},"orion/edit":{source:"org.eclipse.orion.client.ui/web/orion/edit"},"orion/explorers":{source:"org.eclipse.orion.client.ui/web/orion/explorers"},"orion/globalsearch":{source:"org.eclipse.orion.client.ui/web/orion/globalsearch"},
"orion/inputCompletion":{source:"org.eclipse.orion.client.ui/web/orion/inputCompletion"},"orion/mixloginstatic":{source:"org.eclipse.orion.client.ui/web/orion/mixloginstatic"},"orion/navigate":{source:"org.eclipse.orion.client.ui/web/orion/navigate"},"orion/nls":{source:"org.eclipse.orion.client.ui/web/orion/nls"},"orion/operations":{source:"org.eclipse.orion.client.ui/web/orion/operations"},"orion/projects":{source:"org.eclipse.orion.client.ui/web/orion/projects"},"orion/search":{source:"org.eclipse.orion.client.ui/web/orion/search"},
"orion/searchAndReplace":{source:"org.eclipse.orion.client.ui/web/orion/searchAndReplace"},"orion/settings":{source:"org.eclipse.orion.client.ui/web/orion/settings"},"orion/shell":{source:"org.eclipse.orion.client.ui/web/orion/shell"},"orion/sites":{source:"org.eclipse.orion.client.ui/web/orion/sites"},"orion/ssh":{source:"org.eclipse.orion.client.ui/web/orion/ssh"},"orion/stringexternalizer":{source:"org.eclipse.orion.client.ui/web/orion/stringexternalizer"},"orion/webui":{source:"org.eclipse.orion.client.ui/web/orion/webui"},
"orion/widgets":{source:"org.eclipse.orion.client.ui/web/orion/widgets"},"orion/profile":{source:"org.eclipse.orion.client.users/web/orion/profile"},pako:{source:"org.eclipse.orion.client.core/web/pako"},"plugins/helpPlugin.html":{source:"org.eclipse.orion.client.help/web/plugins/helpPlugin.html"},"plugins/helpPlugin.js":{source:"org.eclipse.orion.client.help/web/plugins/helpPlugin.js"},"plugins/contentTemplates":{source:"org.eclipse.orion.client.ui/web/plugins/contentTemplates"},"plugins/filePlugin":{source:"org.eclipse.orion.client.ui/web/plugins/filePlugin"},
"plugins/images":{source:"org.eclipse.orion.client.ui/web/plugins/images"},"plugins/languages":{source:"org.eclipse.orion.client.ui/web/plugins/languages"},"plugins/site":{source:"org.eclipse.orion.client.ui/web/plugins/site"},"plugins/asyncUpperPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/asyncUpperPlugin.html"},"plugins/authenticationPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/authenticationPlugin.html"},"plugins/authenticationPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/authenticationPlugin.js"},
"plugins/commentPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/commentPlugin.html"},"plugins/delimiterPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/delimiterPlugin.html"},"plugins/delimiterPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/delimiterPlugin.js"},"plugins/fileClientPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/fileClientPlugin.html"},"plugins/fileClientPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/fileClientPlugin.js"},
"plugins/GerritFilePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/GerritFilePlugin.html"},"plugins/GerritFilePlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/GerritFilePlugin.js"},"plugins/GitHubFilePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/GitHubFilePlugin.html"},"plugins/GitHubFilePlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/GitHubFilePlugin.js"},"plugins/googleAnalyticsPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/googleAnalyticsPlugin.js"},
"plugins/HTML5LocalFilePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/HTML5LocalFilePlugin.html"},"plugins/jslintPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/jslintPlugin.html"},"plugins/jslintPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/jslintPlugin.js"},"plugins/lowerPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/lowerPlugin.html"},"plugins/pageLinksPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/pageLinksPlugin.html"},
"plugins/pageLinksPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/pageLinksPlugin.js"},"plugins/preferencesPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/preferencesPlugin.html"},"plugins/preferencesPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/preferencesPlugin.js"},"plugins/sampleCommandsPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/sampleCommandsPlugin.html"},"plugins/sampleFilePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/sampleFilePlugin.html"},
"plugins/sampleSearchProposalPlugin_filtered.html":{source:"org.eclipse.orion.client.ui/web/plugins/sampleSearchProposalPlugin_filtered.html"},"plugins/sampleSearchProposalPlugin_notFiltered.html":{source:"org.eclipse.orion.client.ui/web/plugins/sampleSearchProposalPlugin_notFiltered.html"},"plugins/sampleSearchProposalPlugin_pageLinks.html":{source:"org.eclipse.orion.client.ui/web/plugins/sampleSearchProposalPlugin_pageLinks.html"},"plugins/taskPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/taskPlugin.html"},
"plugins/taskPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/taskPlugin.js"},"plugins/toRGBPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/toRGBPlugin.html"},"plugins/unittestPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/unittestPlugin.html"},"plugins/upperPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/upperPlugin.html"},"plugins/webdavFilePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/webdavFilePlugin.html"},"plugins/webEditingPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/webEditingPlugin.html"},
"plugins/webEditingPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/webEditingPlugin.js"},"plugins/xhrPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/xhrPlugin.html"},profile:{source:"org.eclipse.orion.client.users/web/profile"},requirejs:{source:"org.eclipse.orion.client.core/web/requirejs"},settings:{source:"org.eclipse.orion.client.ui/web/settings"},shell:{source:"org.eclipse.orion.client.ui/web/shell"},sites:{source:"org.eclipse.orion.client.ui/web/sites"},stringexternalizer:{source:"org.eclipse.orion.client.ui/web/stringexternalizer"},
webapp:{source:"org.eclipse.orion.client.ui/web/webapp"},webtools:{source:"org.eclipse.orion.client.webtools/web/webtools"}};return{getWSPath:function(g){if(this.filePrefixChecked&&!this.filePrefix)return null;var f=h[g];if(!f){g=g.split("/");for(var d=0,c=null;!f&&d<g.length;){f=g[0];for(c=1;c<g.length-d;c++)f+="/",f+=g[c];for(var k="",c=g.length-d;c<g.length;c++)k+="/",k+=g[c];c={candidate:f,trimmed:k};f=h[c.candidate];d++}}f&&(f=this.filePrefix+f.source,c&&(f+=c.trimmed));return f},getFilePrefix:function(g){return this.filePrefixChecked?
(new m).resolve(this.filePrefix):g.search({resource:g.fileServiceRootURL(),keyword:"fileMapxx.js",nameSearch:!0,fileType:"js"}).then(function(f){this.filePrefixChecked=!0;return f&&(f.response&&f.response.docs&&0<f.response.docs.length)&&(f=f.response.docs[0].Location.split("/"),4<f.length)?this.filePrefix="/"+f[1]+"/"+f[2]+"/"+f[3]+"/"+f[4]+"/":null}.bind(this))}}});s("javascript/scriptResolver",["orion/objects","orion/Deferred","javascript/lru","orion/fileMap"],function(m,h,g,f){function d(c){this.fileclient=
c;this.cache=new g.LRU(10)}m.mixin(d.prototype,{getWorkspaceFile:function(c,d){return c?this._getFile(c,d):(new h).resolve(null)},_getFile:function(c,d){var b=this.cache.get(c);if(b)return(new h).resolve(b);var a=this,e=d?d:Object.create(null),n=e.ext?e.ext:"js",r=e.icon?e.icon:"../javascript/images/javascript.png",p=e.type?e.type:"JavaScript",g="."+n;return f.getFilePrefix(this.fileclient).then(function(e){var d=f.getWSPath(c);d||(d=f.getWSPath(c+g));if(d&&-1<d.indexOf(g))return b=[a._newFileObj(c,
d,a._trimName(d),r,p,this.fileclient)],a.cache.put(c,b),b;var k=c.replace(/^i18n!/,"");e=k.lastIndexOf("/");e=k.slice(e+1);return this.fileclient.search({resource:this.fileclient.fileServiceRootURL(),keyword:e,sort:"Name asc",nameSearch:!0,fileType:n,start:0,rows:30}).then(function(e){e=e.response;var c=e.docs.length;if(0<e.numFound){b=[];for(var f=k.replace(/(?:\.?\.\/)*/,""),f=f.replace(RegExp("\\"+g+"$"),""),f=f.replace(/\//g,"\\/"),n=0;n<c;n++)d=e.docs[n],RegExp(".*(?:"+f+")$").test(d.Location.slice(0,
d.Location.length-g.length))&&b.push(a._newFileObj(d.Name,d.Location,a._trimName(d.Path),r,p));if(0<b.length)return a.cache.put(k,b),b}return null})}.bind(this))},convertToURL:function(c){return c?"https://orion.eclipse.org/edit/edit.html#"+c.location:null},resolveRelativeFiles:function(c,d,b){if(d&&0<d.length&&b){b=b.location;var a=[];b=b.slice(0,b.lastIndexOf("/"));if("."===c.charAt(0)){var e=/^\.\.\//.exec(c);if(e)for(;null!=e;)b=b.slice(0,b.lastIndexOf("/")),c=c.slice(3),e=/^\.\.\//.exec(c);else for(;/^\.\//.test(c);)c=
c.slice(2)}b=this._appendPath(b,c);for(c=0;c<d.length;c++)e=d[c],e.location===b&&a.push(e);return a}return[]},_appendPath:function(c,d){if("string"===typeof c&&"string"===typeof d){var b=c;"/"!==b.charAt(b.length-1)&&(b+="/");return b="/"===d.charAt(0)?b+d.slice(1):b+d}return null},_trimName:function(c){return c.replace(/^(?:org\.eclipse\.orion\.client)?(?:\/)?bundles\//,"")},_newFileObj:function(c,d,b,a,e,f){var r=Object.create(null);r.name=c;r.location=d?d:f.getServiceRootURL()+"/"+b;r.path=b;r.contentType=
Object.create(null);a&&(r.contentType.icon=a);e&&(r.contentType.name=e);return r}});return{ScriptResolver:d}});s("orion/editor/templates",[],function(){function m(g,f,d,c){this.prefix=g;this.description=f;this.template=d;this.name=c;this._parse()}function h(g,f){this._keywords=g||[];this._templates=[];this.addTemplates(f||[])}m.prototype={getProposal:function(g,f,d){g=f-g.length;f={};var c,k=void 0!==d.delimiter?d.delimiter:"\n";d.indentation&&(k+=d.indentation);var b=void 0!==d.tab?d.tab:"\t",a=
0,e=this.variables,n=this.segments;d=[];for(var r=0;r<n.length;r++){var p=n[r],h=e[p];if(void 0!==h)switch(p){case "${tab}":p=b;break;case "${delimiter}":p=k;break;case "${cursor}":p="";c=a;break;default:var m=f[p];m||(m=f[p]={data:h.data,positions:[]});p=h.substitution;m.data&&m.data.values&&(p=m.data.values[0]);m.positions.push({offset:g+a,length:p.length})}d.push(p);a+=p.length}var k=[],s;for(s in f)f.hasOwnProperty(s)&&k.push(f[s]);d=d.join("");void 0===c&&(c=d.length);return{proposal:d,name:this.name,
description:this.description,groups:k,escapePosition:g+c,style:"noemphasis"}},match:function(g){return 0===this.prefix.indexOf(g)},_parse:function(){var g=this.template,f=[],d={},c,k=0,g=g.replace(/\n/g,"${delimiter}"),g=g.replace(/\t/g,"${tab}");g.replace(/\$\{((?:[^\\}]+|\\.))*\}/g,function(b,a,e){var n=b.substring(2,b.length-1);a=b;var r=n,p=null,h=r.indexOf(":");-1!==h&&(r=r.substring(0,h),a="${"+r+"}",p=JSON.parse(n.substring(h+1).replace("\\}","}").trim()));(n=d[a])||(n=d[a]={});n.substitution=
r;p&&(n.data=p);(c=g.substring(k,e))&&f.push(c);f.push(a);k=e+b.length;return r});(c=g.substring(k,g.length))&&f.push(c);this.segments=f;this.variables=d}};h.prototype={addTemplates:function(g){for(var f=this.getTemplates(),d=0;d<g.length;d++)f.push(new m(g[d].prefix,g[d].description,g[d].template,g[d].name))},initialize:function(){},computeProposals:function(g,f,d){var c=this.getPrefix(g,f,d),k=[];this.isValid(c,g,f,d)&&(k=k.concat(this.getTemplateProposals(c,f,d)),k=k.concat(this.getKeywordProposals(c)));
return k},getKeywords:function(){return this._keywords},getKeywordProposals:function(g){var f=[],d=this.getKeywords();if(d){for(var c=0;c<d.length;c++)0===d[c].indexOf(g)&&f.push({proposal:d[c].substring(g.length),description:d[c],style:"noemphasis_keyword"});0<f.length&&f.splice(0,0,{proposal:"",description:"Keywords",style:"noemphasis_title_keywords",unselectable:!0})}return f},getPrefix:function(g,f,d){return d.prefix},getTemplates:function(){return this._templates},getTemplateProposals:function(g,
f,d){for(var c=[],k=this.getTemplates(),b=0;b<k.length;b++){var a=k[b];a.match(g)&&(a=a.getProposal(g,f,d),this.removePrefix(g,a),c.push(a))}0<c.length&&(c.sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0}),c.splice(0,0,{proposal:"",description:"Templates",style:"noemphasis_title",unselectable:!0}));return c},removePrefix:function(g,f){if(!(f.overwrite=f.proposal.substring(0,g.length)!==g))f.proposal=f.proposal.substring(g.length)},isValid:function(g,f,d,c){return!0}};return{Template:m,
TemplateContentAssist:h}});s("orion/editor/stylers/lib/syntax",[],function(){return{id:"orion.lib",grammars:[{id:"orion.lib",repository:{brace_open:{match:"{",name:"punctuation.section.block.begin"},brace_close:{match:"}",name:"punctuation.section.block.end"},bracket_open:{match:"\\[",name:"punctuation.section.bracket.begin"},bracket_close:{match:"\\]",name:"punctuation.section.bracket.end"},parenthesis_open:{match:"\\(",name:"punctuation.section.parens.begin"},parenthesis_close:{match:"\\)",name:"punctuation.section.parens.end"},
operator:{match:"(\\+|-|!|\x3d|\x3e|\x3c|\x26|(\\|\\|))+",name:"punctuation.operator"},doc_block:{begin:{match:"/\\*\\*",literal:"/**"},end:{match:"\\*/",literal:"*/"},name:"comment.block.documentation",patterns:[{match:"@(?:(?!\\*/)\\S)*",name:"meta.documentation.annotation"},{match:"\x3c[^\\s\x3e]*\x3e",name:"meta.documentation.tag"},{match:"(\\b)(TODO)(\\b)(((?!\\*/).)*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.block"}}}]},number_decimal:{match:"\\b-?(?:\\.\\d+|\\d+\\.?\\d*)(?:[eE][+-]?\\d+)?\\b",
name:"constant.numeric.number"},number_hex:{match:"\\b0[xX][0-9A-Fa-f]+\\b",name:"constant.numeric.hex"},string_doubleQuote:{match:'"(?:\\\\.|[^"])*"?',name:"string.quoted.double"},string_singleQuote:{match:"'(?:\\\\.|[^'])*'?",name:"string.quoted.single"},todo_comment_singleLine:{match:"(\\b)(TODO)(\\b)(.*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.line"}}}}},{id:"orion.c-like",repository:{comment_singleLine:{match:{match:"//.*",literal:"//"},
name:"comment.line.double-slash",patterns:[{include:"orion.lib#todo_comment_singleLine"}]},comment_block:{begin:{match:"/\\*",literal:"/*"},end:{match:"\\*/",literal:"*/"},name:"comment.block",patterns:[{match:"(\\b)(TODO)(\\b)(((?!\\*/).)*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.block"}}}]}}}],keywords:[]}});s("orion/editor/stylers/application_javascript/syntax",["orion/editor/stylers/lib/syntax"],function(m){var h="class const debugger delete enum export extends function implements import in instanceof interface let new package private protected public static super typeof var void with".split(" "),
g="break case catch continue default do else finally for if return switch throw try while yield".split(" "),f=["this"],d=["false","null","true","undefined"],c=[];c.push.apply(c,m.grammars);c.push({id:"orion.js",contentTypes:["application/javascript"],patterns:[{begin:"'(?:\\\\.|[^\\\\'])*\\\\$",end:"^(?:$|(?:\\\\.|[^\\\\'])*('|[^\\\\]$))",name:"string.quoted.single.js"},{begin:'"(?:\\\\.|[^\\\\"])*\\\\$',end:'^(?:$|(?:\\\\.|[^\\\\"])*("|[^\\\\]$))',name:"string.quoted.double.js"},{include:"orion.lib#string_doubleQuote"},
{include:"orion.lib#string_singleQuote"},{include:"orion.c-like#comment_singleLine"},{match:"/(?![\\s\\*])(?:\\\\.|[^/])+/(?:[gim]{0,3})",name:"string.regexp.js"},{include:"orion.lib#doc_block"},{include:"orion.c-like#comment_block"},{include:"#jsFunctionDef"},{include:"orion.lib#brace_open"},{include:"orion.lib#brace_close"},{include:"orion.lib#bracket_open"},{include:"orion.lib#bracket_close"},{include:"orion.lib#parenthesis_open"},{include:"orion.lib#parenthesis_close"},{include:"orion.lib#operator"},
{include:"orion.lib#number_decimal"},{include:"orion.lib#number_hex"},{match:"\\b(?:"+h.join("|")+")\\b",name:"keyword.operator.js"},{match:"\\b(?:"+g.join("|")+")\\b",name:"keyword.control.js"},{match:"\\b(?:"+d.join("|")+")\\b",name:"constant.language.js"},{match:"\\b(?:"+f.join("|")+")\\b",name:"variable.language.js"}],repository:{jsFunctionDef:{begin:"(function)(\\s+[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*)?\\s*\\(",end:"\\)",captures:{1:{name:"keyword.operator.js"},2:{name:"entity.name.function.js"}},
patterns:[{include:"orion.c-like#comment_singleLine"},{include:"orion.c-like#comment_block"},{match:"[^\\s,]+",name:"variable.parameter.js"}]}}});return{id:c[c.length-1].id,grammars:c,keywords:h.concat(g).concat(f).concat(d)}});s("orion/editor/stylers/text_css/syntax",["orion/editor/stylers/lib/syntax"],function(m){var h="alignment-adjust alignment-baseline animation-delay animation-direction animation-duration animation-iteration-count animation-name animation-play-state animation-timing-function animation appearance azimuth backface-visibility background-attachment background-clip background-color background-image background-origin background-position background-repeat background-size background baseline-shift binding bleed bookmark-label bookmark-level bookmark-state bookmark-target border-bottom-color border-bottom-left-radius border-bottom-right-radius border-bottom-style border-bottom-width border-bottom border-collapse border-color border-image-outset border-image-repeat border-image-slice border-image-source border-image-width border-image border-left-color border-left-style border-left-width border-left border-radius border-right-color border-right-style border-right-width border-right border-spacing border-style border-top-color border-top-left-radius border-top-right-radius border-top-style border-top-width border-top border-width border bottom box-align box-decoration-break box-direction box-flex-group box-flex box-lines box-ordinal-group box-orient box-pack box-shadow box-sizing break-after break-before break-inside caption-side clear clip color-profile color column-count column-fill column-gap column-rule-color column-rule-style column-rule-width column-rule column-span column-width columns content counter-increment counter-reset crop cue-after cue-before cue cursor direction display dominant-baseline drop-initial-after-adjust drop-initial-after-align drop-initial-before-adjust drop-initial-before-align drop-initial-size drop-initial-value elevation empty-cells fit-position fit flex-align flex-flow flex-inline-pack flex-order flex-pack float-offset float font-family font-size-adjust font-size font-stretch font-style font-variant font-weight font grid-columns grid-rows hanging-punctuation height hyphenate-after hyphenate-before hyphenate-character hyphenate-lines hyphenate-resource hyphens icon image-orientation image-rendering image-resolution inline-box-align left letter-spacing line-height line-stacking-ruby line-stacking-shift line-stacking-strategy line-stacking list-style-image list-style-position list-style-type list-style margin-bottom margin-left margin-right margin-top margin mark-after mark-before mark marker-offset marks marquee-direction marquee-loop marquee-play-count marquee-speed marquee-style max-height max-width min-height min-width move-to nav-down nav-index nav-left nav-right nav-up opacity orphans outline-color outline-offset outline-style outline-width outline overflow-style overflow-x overflow-y overflow padding-bottom padding-left padding-right padding-top padding page-break-after page-break-before page-break-inside page-policy page pause-after pause-before pause perspective-origin perspective phonemes pitch-range pitch play-during position presentation-level punctuation-trim quotes rendering-intent resize rest-after rest-before rest richness right rotation-point rotation ruby-align ruby-overhang ruby-position ruby-span size speak-header speak-numeral speak-punctuation speak speech-rate stress string-set table-layout target-name target-new target-position target text-align-last text-align text-decoration text-emphasis text-height text-indent text-justify text-outline text-shadow text-transform text-wrap top transform-origin transform-style transform transition-delay transition-duration transition-property transition-timing-function transition unicode-bidi vertical-align visibility voice-balance voice-duration voice-family voice-pitch-range voice-pitch voice-rate voice-stress voice-volume volume white-space-collapse white-space widows width word-break word-spacing word-wrap z-index".split(" "),
g=[];g.push.apply(g,m.grammars);g.push({id:"orion.css",contentTypes:["text/css"],patterns:[{begin:"'(?:\\\\.|[^\\\\'])*\\\\$",end:"^(?:$|(?:\\\\.|[^\\\\'])*('|[^\\\\]$))",name:"string.quoted.single.css"},{begin:'"(?:\\\\.|[^\\\\"])*\\\\$',end:'^(?:$|(?:\\\\.|[^\\\\"])*("|[^\\\\]$))',name:"string.quoted.double.css"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"},{include:"orion.c-like#comment_block"},{include:"orion.lib#brace_open"},{include:"orion.lib#brace_close"},
{include:"orion.lib#bracket_open"},{include:"orion.lib#bracket_close"},{include:"orion.lib#parenthesis_open"},{include:"orion.lib#parenthesis_close"},{include:"orion.lib#number_decimal"},{include:"#number_hex"},{match:"(?i)\\b-?(?:\\.\\d+|\\d+\\.?\\d*)(?:%|em|ex|ch|rem|vw|vh|vmin|vmax|in|cm|mm|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?\\b",name:"constant.numeric.value.css"},{match:"(?:-webkit-|-moz-|-ms-|-o-|\\b)(?:"+h.join("|")+")\\b",name:"support.type.propertyName.css"}],repository:{number_hex:{match:"#[0-9A-Fa-f]+\\b",
name:"constant.numeric.hex.css"}}});return{id:g[g.length-1].id,grammars:g,keywords:h}});s("orion/editor/stylers/application_xml/syntax",["orion/editor/stylers/lib/syntax"],function(m){var h=[];h.push.apply(h,m.grammars);h.push({id:"orion.xml",contentTypes:["application/xml","application/xhtml+xml"],patterns:[{include:"#comment"},{include:"#doctype"},{include:"#xmlDeclaration"},{include:"#tag"},{include:"#ampersandEscape"}],repository:{ampersandEscape:{match:"\x26lt;|\x26gt;|\x26amp;",name:"constant.character"},
comment:{begin:{match:"\x3c!--",literal:"\x3c!--"},end:{match:"--\x3e",literal:"--\x3e"},name:"comment.block.xml",patterns:[{match:"(\\b)(TODO)(\\b)(((?!--\x3e).)*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.line"}}}]},doctype:{begin:"\x3c!(?:doctype|DOCTYPE)",end:"\x3e",name:"meta.tag.doctype.xml",captures:{0:{name:"meta.tag.doctype.xml"}},patterns:[{include:"#comment"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"}]},
tag:{begin:"\x3c/?[A-Za-z0-9]+",end:"/?\x3e",captures:{0:{name:"meta.tag.xml"}},patterns:[{include:"#comment"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"}]},xmlDeclaration:{begin:"\x3c\\?xml",end:"\\?\x3e",captures:{0:{name:"meta.tag.declaration.xml"}},patterns:[{include:"#comment"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"}],name:"meta.tag.declaration.xml"}}});return{id:h[h.length-1].id,grammars:h,keywords:[]}});s("orion/editor/stylers/text_html/syntax",
["orion/editor/stylers/application_javascript/syntax","orion/editor/stylers/text_css/syntax","orion/editor/stylers/application_xml/syntax"],function(m,h,g){var f=[];f.push.apply(f,m.grammars);f.push.apply(f,h.grammars);f.push.apply(f,g.grammars);f.push({id:"orion.html",contentTypes:["text/html"],patterns:[{begin:"(?i)(\x3cstyle)([^\x3e]*)(\x3e)",end:"(?i)(\x3c/style\x3e)",captures:{1:{name:"meta.tag.html"},3:{name:"meta.tag.html"}},contentName:"source.css.embedded.html",patterns:[{include:"orion.css"}]},
{begin:"(?i)\x3cscript\\s*\x3e|\x3cscript\\s.*?(?:language\\s*\x3d\\s*(['\"])javascript\\1|type\\s*\x3d\\s*(['\"])(?:text|application)/(?:javascript|ecmascript)\\2).*?\x3e",end:"(?i)\x3c/script\x3e",captures:{0:{name:"meta.tag.html"}},contentName:"source.js.embedded.html",patterns:[{include:"orion.js"}]},{begin:"\x3c/?[A-Za-z0-9]+",end:"/?\x3e",captures:{0:{name:"meta.tag.html"}},patterns:[{include:"orion.xml#comment"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"},
{include:"#attribute"}]},{include:"orion.xml#comment"},{include:"orion.xml#doctype"},{include:"orion.xml#ampersandEscape"}],repository:{attribute:{match:"\\b(?:accept-charset|accept|accesskey|action|align|alt|async|autocomplete|autoplay|autosave|bgcolor|border|buffered|challenge|charset|checked|cite|class|codebase|code|color|colspan|cols|contenteditable|content|contextmenu|controls|coords|data-[A-Za-z_:][\\w.:-]*|data|datetime|default|defer|dirname|dir|disabled|download|draggable|dropzone|enctype|formaction|form|for|headers|height|hidden|high|hreflang|href|http-equiv|icon|id|ismap|itemprop|keytype|kind|label|language|lang|list|loop|low|manifest|maxlength|max|media|method|min|multiple|name|novalidate|open|optimum|pattern|ping|placeholder|poster|preload|pubdate|radiogroup|readonly|rel|required|reversed|rowspan|rows|sandbox|scoped|scope|seamless|selected|shape|sizes|size|span|spellcheck|srcdoc|srclang|srcset|src|start|step|style|summary|tabindex|target|title|type|usemap|value|width|wrap)\\b",
name:"meta.tag.attribute.html"}}});return{id:f[f.length-1].id,grammars:f,keywords:[]}});s("webtools/htmlContentAssist",["orion/editor/templates","orion/editor/stylers/text_html/syntax"],function(m,h){function g(){}var f=new m.Template("","Simple HTML document",'\x3c!DOCTYPE html\x3e\n\x3chtml lang\x3d"en"\x3e\n\t\x3chead\x3e\n\t\t\x3cmeta charset\x3dutf-8\x3e\n\t\t\x3ctitle\x3e${title}\x3c/title\x3e\n\t\x3c/head\x3e\n\t\x3cbody\x3e\n\t\t\x3ch1\x3e${header}\x3c/h1\x3e\n\t\t\x3cp\x3e\n\t\t\t${cursor}\n\t\t\x3c/p\x3e\n\t\x3c/body\x3e\n\x3c/html\x3e'),
d=[{prefix:"\x3cimg",name:"\x3cimg\x3e",description:" - HTML image element",template:'\x3cimg src\x3d"${URI}" alt\x3d"${Image}"/\x3e'},{prefix:"\x3ca",name:"\x3ca\x3e",description:" - HTML anchor element",template:'\x3ca href\x3d"${cursor}"\x3e\x3c/a\x3e'},{prefix:"\x3cul",name:"\x3cul\x3e",description:" - HTML unordered list",template:"\x3cul\x3e\n\t\x3cli\x3e${cursor}\x3c/li\x3e\n\x3c/ul\x3e"},{prefix:"\x3col",name:"\x3col\x3e",description:" - HTML ordered list",template:"\x3col\x3e\n\t\x3cli\x3e${cursor}\x3c/li\x3e\n\x3c/ol\x3e"},
{prefix:"\x3cdl",name:"\x3cdl\x3e",description:" - HTML definition list",template:"\x3cdl\x3e\n\t\x3cdt\x3e${cursor}\x3c/dt\x3e\n\t\x3cdd\x3e\x3c/dd\x3e\n\x3c/dl\x3e"},{prefix:"\x3ctable",name:"\x3ctable\x3e",description:" - basic HTML table",template:"\x3ctable\x3e\n\t\x3ctr\x3e\n\t\t\x3ctd\x3e${cursor}\x3c/td\x3e\n\t\x3c/tr\x3e\n\x3c/table\x3e"},{prefix:"\x3c!--",name:"\x3c!-- --\x3e",description:" - HTML comment",template:"\x3c!-- ${cursor} --\x3e"}],c,k,b,a,e="abbr b button canvas cite command dd del dfn dt em embed font h1 h2 h3 h4 h5 h6 i ins kbd label li mark meter object option output progress q rp rt samp small strong sub sup td time title tt u var".split(" ");
for(a=0;a<e.length;a++)c=e[a],b="\x3c"+c+"\x3e\x3c/"+c+"\x3e",k="\x3c"+c+"\x3e${cursor}\x3c/"+c+"\x3e",d.push({prefix:"\x3c"+c,description:b,template:k});e="address article aside audio bdo blockquote body caption code colgroup datalist details div fieldset figure footer form head header hgroup iframe legend map menu nav noframes noscript optgroup p pre ruby script section select span style tbody textarea tfoot th thead tr video".split(" ");for(a=0;a<e.length;a++)c=e[a],b="\x3c"+c+"\x3e\x3c/"+c+"\x3e",
k="\x3c"+c+"\x3e\n\t${cursor}\n\x3c/"+c+"\x3e",d.push({prefix:"\x3c"+c,description:b,template:k});e="area base br col hr input link meta param keygen source".split(" ");for(a=0;a<e.length;a++)c=e[a],k=b="\x3c"+c+"/\x3e",d.push({prefix:"\x3c"+c,description:b,template:k});g.prototype=new m.TemplateContentAssist(h.keywords,d);g.prototype.getPrefix=function(a,e,b){b="";for(var c=e;c&&/[A-Za-z0-9<!-]/.test(a.charAt(c-1));)c--,b=a.substring(c,e);return b};g.prototype.computeProposals=function(a,e,b){return 0===
a.length?[f.getProposal("",e,b)]:m.TemplateContentAssist.prototype.computeProposals.call(this,a,e,b).sort(function(a,e){var b=a.prefix||a.proposal,c=e.prefix||e.proposal;if(b){if(!c)return 1}else return-1;return b.toLowerCase().localeCompare(c.toLowerCase())})};return{HTMLContentAssistProvider:g}});s("webtools/htmlOutliner",["orion/objects"],function(m){function h(g){this.htmlAstManager=g}m.mixin(h.prototype,{computeOutline:function(g,f){var d=this;return d.htmlAstManager.getAST(g).then(function(c){return d.domToOutline(c)})},
domToLabel:function(g){var f=g.name,d=/id=['"]\S*["']/.exec(g.raw);d&&(f=f+" "+d[0]);(d=/class=['"]\S*["']/.exec(g.raw))&&(f=f+" "+d[0]);return f},domToOutline:function(g){if(!g)return null;for(var f=[],d=0;d<g.length;d++){var c=g[d];this.skip(c)||(c={label:this.domToLabel(c),children:this.domToOutline(c.children),line:c.location.line,offset:c.location.col,length:c.name.length},f.push(c))}return 0<f.length?f:null},skip:function(g){return!g.name||("b"===g.name||"i"===g.name||"em"===g.name)||("p"===
g.name||"tt"===g.name||"code"===g.name||"blockquote"===g.name)||"a"===g.name?!0:!1},findBody:function(g){for(var f=0;f<g.length;f++){if("body"===g[f].name)return g[f].children;if(g[f].children){var d=this.findBody(g[f].children);if(d)return d}}return null}});return{HtmlOutliner:h}});s("webtools/util",[],function(){return{punc:"\n\t\r (){}[]:;,.+\x3d-*^\x26@!%~`'\"/\\",findWord:function(m,h){if(m&&h){for(var g=-1<this.punc.indexOf(m.charAt(h)),f=g?h-1:h;0<=f&&!(-1<this.punc.indexOf(m.charAt(f)));)f--;
for(var d=f,f=h;f<=m.length&&!(-1<this.punc.indexOf(m.charAt(f)));)f++;if(!((d===h||g&&d===h-1)&&f===h))return d===h?m.substring(d,f):m.substring(d+1,f)}return null},findToken:function(m,h){if(null!=m&&-1<m&&h&&0<h.length){var g=0,f=h.length-1,d,c=0;d=h[0];if(m>=d.range[0]&&m<d.range[1])return d.index=0,d;d=h[f];if(m>=d.range[0])return d.index=f,d;for(;g<=f;){c=Math.floor((g+f)/2);d=h[c];if(m<d.range[0])f=c-1;else if(m>d.range[1])g=c+1;else if(m===d.range[1])if(h[c+1].range[0]===d.range[1])g=c+1;
else return d.index=c,d;else if(m>=d.range[0]&&m<d.range[1])return d.index=c,d;if(g===f){d=h[g];if(m>=d.range[0]&&m<=d.range[1])return d.index=g,d;break}}}return null},findStyleBlocks:function(m,h){var g=[],f=null,d=/<\s*style(?:type\s*=\s*"([^"]*)"|[^>]|\n)*>((?:.|\r?\n)*?)<\s*\/style(?:[^>]|\n)*>/ig,c=this.findHtmlCommentBlocks(m,h);a:for(;null!=(f=d.exec(m));){var k=f[2];if(!(1>k.length)&&(f=f.index+f[0].indexOf("\x3e")+1,null==h||f<=h&&f+k.length>=h)){for(var b=0;b<c.length;b++)if(c[b].start<=
f&&c[b].end>=f)continue a;g.push({text:k,offset:f})}}return g},findHtmlCommentBlocks:function(m,h){for(var g=[],f=null,d=/\x3c!--((?:.|\r?\n)*?)--\x3e/ig;null!=(f=d.exec(m));){var c=f[1];1>c.length||(null==h||f.index<=h&&f.index+c.length>=f.index)&&g.push({text:c,start:f.index,end:f.index+c.length})}return g}}});s("javascript/compilationUnit",["orion/objects","orion/Deferred"],function(m,h){function g(f,d,c){this._blocks=f;this._metadata=d;this._ec=c;this._deps=[]}m.mixin(g.prototype,{_init:function(){var f=
0;this._source="";for(var d=0;d<this._blocks.length;d++){var c=this._blocks[d];c.dependecies&&this._deps.push(c.dependencies);for(f=c.offset-f;0<f;)this._source+=" ",f--;this._source+=c.text;f=this._source.length}},getSource:function(){this._source||this._init();return this._source},validOffset:function(f){if(!this._blocks||1>this._blocks.length||0>f)return!1;for(var d=0;d<this._blocks.length;d++){var c=this._blocks[d],k=c.offset;if(f>=k&&f<=k+c.text.length)return!0}return!1},getEditorContext:function(){var f=
Object.create(null),d=this;f.getText=function(){return(new h).resolve(d.getSource())};f.getFileMetadata=function(){return(new h).resolve(d._metadata)};f.setText=function(c,f,b){return d._ec?d._ec.setText(c,f,b):(new h).resolve(null)};return f},getDependencies:function(){return this._deps}});return g});s("csslint",[],function(){var m=m||{};return function(){function h(d,c){this.messages=[];this.stats=[];this.lines=d;this.ruleset=c}var g={};(function(){function d(){this._listeners={}}function c(a){this._input=
a;this._col=this._line=1;this._cursor=0}function f(a,b,c){this.col=c;this.line=b;this.message=a}function b(a,b,c,d){this.col=c;this.line=b;this.text=a;this.type=d}function a(a,b){this._reader=a?new c(a.toString()):null;this._token=null;this._tokenData=b;this._lt=[];this._ltIndex=0;this._ltIndexCache=[]}d.prototype={constructor:d,addListener:function(a,b){this._listeners[a]||(this._listeners[a]=[]);this._listeners[a].push(b)},fire:function(a){"string"==typeof a&&(a={type:a});"undefined"!=typeof a.target&&
(a.target=this);if("undefined"==typeof a.type)throw Error("Event object missing 'type' property.");if(this._listeners[a.type])for(var b=this._listeners[a.type].concat(),c=0,d=b.length;c<d;c++)b[c].call(this,a)},removeListener:function(a,b){if(this._listeners[a])for(var c=this._listeners[a],d=0,f=c.length;d<f;d++)if(c[d]===b){c.splice(d,1);break}}};c.prototype={constructor:c,getCol:function(){return this._col},getLine:function(){return this._line},getCursor:function(){return this._cursor},eof:function(){return this._cursor==
this._input.length},peek:function(a){var b=null;this._cursor<this._input.length&&(b=this._input.charAt(this._cursor+("undefined"==typeof a?1:a)-1));return b},read:function(){var a=null;if(this._cursor<this._input.length){"\n"==this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++;var b=this._cursor++,a=this._input.charAt(b);this._input.charCodeAt(b)}return a},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=
this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(a){for(var b="",c;b.length<a.length||b.lastIndexOf(a)!=b.length-a.length;)if(c=this.read())b+=c;else throw Error('Expected "'+a+'" at line '+this._line+", col "+this._col+".");return b},readWhile:function(a){for(var b="",c=this.read();null!==c&&a(c);)b+=c,c=this.read();return b},readMatch:function(a){var b=this._input.substring(this._cursor),c=null;"string"==typeof a?0===b.indexOf(a)&&
(c=this.readCount(a.length)):a instanceof RegExp&&a.test(b)&&(c=this.readCount(RegExp.lastMatch.length));return c},readCount:function(a){for(var b="";a--;)b+=this.read();return b}};f.prototype=Error();b.fromToken=function(a){return new b(a.value,a.startLine,a.startCol)};b.prototype={constructor:b,valueOf:function(){return this.toString()},toString:function(){return this.text}};a.createTokenData=function(a){var b=[],c={};a=a.concat([]);var d=0,f=a.length+1;a.UNKNOWN=-1;for(a.unshift({name:"EOF"});d<
f;d++)b.push(a[d].name),a[a[d].name]=d,a[d].text&&(c[a[d].text]=d);a.name=function(a){return b[a]};a.type=function(a){return c[a]};return a};a.prototype={constructor:a,tokens:[],match:function(a,b){a instanceof Array||(a=[a]);for(var c=this.get(b),d=0,f=a.length;d<f;)if(c==a[d++])return!0;this.unget();return!1},mustMatch:function(a,b){var c;a instanceof Array||(a=[a]);if(!this.match.apply(this,arguments))throw c=this.LT(1),new f("Expected "+this._tokenData[a[0]].name+" at line "+c.startLine+", col "+
c.startCol+".",c.startLine,c.startCol);},advance:function(a,b){for(;0!==this.LA(0)&&!this.match(a,b);)this.get();return this.LA(0)},get:function(a){var b=this._tokenData,c=0,d,f;if(this._lt.length&&0<=this._ltIndex&&this._ltIndex<this._lt.length){c++;this._token=this._lt[this._ltIndex++];for(f=b[this._token.type];void 0!==f.channel&&a!==f.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],f=b[this._token.type],c++;if((void 0===f.channel||a===f.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(c),
this._token.type}d=this._getToken();-1<d.type&&!b[d.type].hide&&(d.channel=b[d.type].channel,this._token=d,this._lt.push(d),this._ltIndexCache.push(this._lt.length-this._ltIndex+c),5<this._lt.length&&this._lt.shift(),5<this._ltIndexCache.length&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length);return(f=b[d.type])&&(f.hide||void 0!==f.channel&&a!==f.channel)?this.get(a):d.type},LA:function(a){var b=a,c;if(0<a){if(5<a)throw Error("Too much lookahead.");for(;b;)c=this.get(),b--;for(;b<a;)this.unget(),
b++}else if(0>a)if(this._lt[this._ltIndex+a])c=this._lt[this._ltIndex+a].type;else throw Error("Too much lookbehind.");else c=this._token.type;return c},LT:function(a){this.LA(a);return this._lt[this._ltIndex+a-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(a){return 0>a||a>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[a].name},tokenType:function(a){return this._tokenData[a]||-1},unget:function(){if(this._ltIndexCache.length)this._ltIndex-=
this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1];else throw Error("Too much lookahead.");}};g.util={StringReader:c,SyntaxError:f,SyntaxUnit:b,EventTarget:d,TokenStreamBase:a}})();(function(){function d(a,c,e){A.call(this,a,c,e,b.COMBINATOR_TYPE);this.type="unknown";/^\s+$/.test(a)?this.type="descendant":"\x3e"==a?this.type="child":"+"==a?this.type="adjacent-sibling":"~"==a&&(this.type="sibling")}function c(a,c){A.call(this,"("+a+(null!==c?":"+c:"")+")",a.startLine,a.startCol,b.MEDIA_FEATURE_TYPE);
this.name=a;this.value=c}function f(a,c,e,d,P){A.call(this,(a?a+" ":"")+(c?c:"")+(c&&0<e.length?" and ":"")+e.join(" and "),d,P,b.MEDIA_QUERY_TYPE);this.modifier=a;this.mediaType=c;this.features=e}function b(a){E.call(this);this.options=a||{};this._tokenStream=null}function a(a,c,e,d){A.call(this,a,e,d,b.PROPERTY_NAME_TYPE);this.hack=c}function e(a,c,e){A.call(this,a.join(" "),c,e,b.PROPERTY_VALUE_TYPE);this.parts=a}function n(a){this._i=0;this._parts=a.parts;this._marks=[];this.value=a}function r(a,
c,e){A.call(this,a,c,e,b.PROPERTY_VALUE_PART_TYPE);this.type="unknown";if(/^([+\-]?[\d\.]+)([a-z]+)$/i.test(a))switch(this.type="dimension",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case "em":case "rem":case "ex":case "px":case "cm":case "mm":case "in":case "pt":case "pc":case "ch":case "vh":case "vw":case "vm":this.type="length";break;case "deg":case "rad":case "grad":this.type="angle";break;case "ms":case "s":this.type="time";break;case "hz":case "khz":this.type="frequency";
break;case "dpi":case "dpcm":this.type="resolution"}else/^([+\-]?[\d\.]+)%$/i.test(a)?(this.type="percentage",this.value=+RegExp.$1):/^([+\-]?[\d\.]+)%$/i.test(a)?(this.type="percentage",this.value=+RegExp.$1):/^([+\-]?\d+)$/i.test(a)?(this.type="integer",this.value=+RegExp.$1):/^([+\-]?[\d\.]+)$/i.test(a)?(this.type="number",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(a)?(this.type="color",a=RegExp.$1,3==a.length?(this.red=parseInt(a.charAt(0)+a.charAt(0),16),this.green=parseInt(a.charAt(1)+
a.charAt(1),16),this.blue=parseInt(a.charAt(2)+a.charAt(2),16)):(this.red=parseInt(a.substring(0,2),16),this.green=parseInt(a.substring(2,4),16),this.blue=parseInt(a.substring(4,6),16))):/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i.test(a)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(a)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/i.test(a)?
(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(a)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(a)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(a)?
(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\(["']?([^\)"']+)["']?\)/i.test(a)?(this.type="uri",this.uri=RegExp.$1):/^([^\(]+)\(/i.test(a)?(this.type="function",this.name=RegExp.$1,this.value=a):/^["'][^"']*["']/.test(a)?(this.type="string",this.value=eval(a)):B[a.toLowerCase()]?(this.type="color",a=B[a.toLowerCase()].substring(1),this.red=parseInt(a.substring(0,2),16),this.green=parseInt(a.substring(2,4),16),this.blue=
parseInt(a.substring(4,6),16)):/^[\,\/]$/.test(a)?(this.type="operator",this.value=a):/^[a-z\-\u0080-\uFFFF][a-z0-9\-\u0080-\uFFFF]*$/i.test(a)&&(this.type="identifier",this.value=a)}function p(a,c,e){A.call(this,a.join(" "),c,e,b.SELECTOR_TYPE);this.parts=a;this.specificity=s.calculate(this)}function h(a,c,e,d,f){A.call(this,e,d,f,b.SELECTOR_PART_TYPE);this.elementName=a;this.modifiers=c}function m(a,c,e,d){A.call(this,a,e,d,b.SELECTOR_SUB_PART_TYPE);this.type=c;this.args=[]}function s(a,b,c,e){this.a=
a;this.b=b;this.c=c;this.d=e}function z(a){return null!==a&&/\d/.test(a)}function q(a){return null!==a&&/\s/.test(a)}function w(a){return null!==a&&O.test(a)}function D(a){return null!==a&&/[a-z_\u0080-\uFFFF\\]/i.test(a)}function H(a){return null!==a&&(D(a)||/[0-9\-\\]/.test(a))}function I(a){G.call(this,a,l);this.tokens=[]}function y(a,b,c){this.col=c;this.line=b;this.message=a}var E=g.util.EventTarget,G=g.util.TokenStreamBase,F=g.util.SyntaxError,A=g.util.SyntaxUnit,B={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",
aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",
darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",
hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",
linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",
palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",
tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",
buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",
inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",
threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",
window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."};g.util.Colors=B;d.prototype=new A;d.prototype.constructor=d;c.prototype=new A;c.prototype.constructor=c;f.prototype=new A;f.prototype.constructor=f;b.DEFAULT_TYPE=0;b.COMBINATOR_TYPE=1;b.MEDIA_FEATURE_TYPE=2;b.MEDIA_QUERY_TYPE=3;b.PROPERTY_NAME_TYPE=4;b.PROPERTY_VALUE_TYPE=5;b.PROPERTY_VALUE_PART_TYPE=6;b.SELECTOR_TYPE=7;b.SELECTOR_PART_TYPE=8;b.SELECTOR_SUB_PART_TYPE=9;b.prototype=function(){var x=new E,n,g={ast:Object.create(null),
_aststack:[],startNode:function(a,b,c){var e=Object.create(null);e.type=a;e.range=[-1,-1];null!==b&&(void 0!==b&&-1<b)&&(e.range[0]=b);this.addToParent(e,c);"StyleSheet"!==e.type&&this.setNodeStart(this.ast,b);this._aststack.push(e);return e},endNode:function(a,b){a.range[1]=b;this._aststack.pop();return a},setNodeStart:function(a,b){0>a.range[0]&&(a.range[0]=b)},addToParent:function(a,b){if("string"===typeof b&&0<this._aststack.length){var c=this._aststack[this._aststack.length-1];Array.isArray(c[b])?
c[b].push(a):c[b]=a}},idNode:function(a,b){var c=Object.create(null);c.type=a;c.range=b.range;return c},constructor:b,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var a=this._tokenStream,b,c,e;this.fire("startstylesheet");this.ast=this.startNode("StyleSheet");this.ast.body=[];this._charset();for(this._skipCruft();a.peek()==
l.IMPORT_SYM;)this._import(),this._skipCruft();for(;a.peek()==l.NAMESPACE_SYM;)this._namespace(!0),this._skipCruft();for(e=a.peek();e>l.EOF;){try{switch(e){case l.MEDIA_SYM:this._media();this._skipCruft();break;case l.PAGE_SYM:this._page();this._skipCruft();break;case l.FONT_FACE_SYM:this._font_face();this._skipCruft();break;case l.KEYFRAMES_SYM:this._keyframes();this._skipCruft();break;case l.VIEWPORT_SYM:this._viewport();this._skipCruft();break;case l.UNKNOWN_SYM:a.get();if(this.options.strict)throw new F("Unknown @ rule.",
a.LT(0).startLine,a.LT(0).startCol);this.fire({type:"error",error:null,message:"Unknown @ rule: "+a.LT(0).value+".",line:a.LT(0).startLine,col:a.LT(0).startCol});for(b=0;a.advance([l.LBRACE,l.RBRACE])==l.LBRACE;)b++;for(;b;)a.advance([l.RBRACE]),b--;break;case l.S:this._readWhitespace();break;default:if(!this._ruleset())switch(e){case l.CHARSET_SYM:throw c=a.LT(1),this._charset(!1),new F("@charset not allowed here.",c.startLine,c.startCol);case l.IMPORT_SYM:throw c=a.LT(1),this._import(!1),new F("@import not allowed here.",
c.startLine,c.startCol);case l.NAMESPACE_SYM:throw c=a.LT(1),this._namespace(!1),new F("@namespace not allowed here.",c.startLine,c.startCol);default:a.get(),this._unexpectedToken(a.token())}}}catch(d){if(d instanceof F&&!this.options.strict)this.fire({type:"error",error:d,message:d.message,line:d.line,col:d.col});else throw d;}e=a.peek()}e!=l.EOF&&this._unexpectedToken(a.token());this.endNode(this.ast,a.curr().range[1]);this.fire("endstylesheet")},_charset:function(a){var b=this._tokenStream,c,e,
d;if(b.match(l.CHARSET_SYM)){var f=this.startNode("Charset",b.curr().range[0],"body");e=b.token().startLine;d=b.token().startCol;this._readWhitespace();b.mustMatch(l.STRING);c=b.token();c=c.value;this._readWhitespace();b.mustMatch(l.SEMICOLON);this.endNode(f,b.curr().range[1]);!1!==a&&this.fire({type:"charset",charset:c,line:e,col:d})}},_import:function(a){var b=this._tokenStream,c,e,d=[];b.mustMatch(l.IMPORT_SYM);e=b.token();var f=this.startNode("Import",b.curr().range[0],"body");this._readWhitespace();
b.mustMatch([l.STRING,l.URI]);c=b.token();f.uri=this.idNode("Uri",b.curr());c=c.value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1");this._readWhitespace();d=this._media_query_list();b.mustMatch(l.SEMICOLON);this._readWhitespace();!1!==a&&this.fire({type:"import",uri:c,media:d,line:e.startLine,col:e.startCol});this.endNode(f,b.curr().range[1])},_namespace:function(a){var b=this._tokenStream,c,e,d,f;b.mustMatch(l.NAMESPACE_SYM);var k=this.startNode("Namespace",b.curr().range[0],"body");c=b.token().startLine;
e=b.token().startCol;this._readWhitespace();b.match(l.IDENT)&&(d=b.token().value,k.prefix=d,this._readWhitespace());b.mustMatch([l.STRING,l.URI]);k.uri=this.idNode("Uri",b.curr());f=b.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1");this._readWhitespace();b.mustMatch(l.SEMICOLON);this._readWhitespace();!1!==a&&this.fire({type:"namespace",prefix:d,uri:f,line:c,col:e});this.endNode(k,b.curr().range[1])},_media:function(){var a=this._tokenStream,b,c,e;a.mustMatch(l.MEDIA_SYM);var d=this.startNode("Media",
a.curr().range[0],"body");b=a.token().startLine;c=a.token().startCol;this._readWhitespace();e=this._media_query_list();a.mustMatch(l.LBRACE);this._readWhitespace();for(this.fire({type:"startmedia",media:e,line:b,col:c});;)if(a.peek()==l.PAGE_SYM)this._page();else if(a.peek()==l.FONT_FACE_SYM)this._font_face();else if(!this._ruleset())break;a.mustMatch(l.RBRACE);this._readWhitespace();this.fire({type:"endmedia",media:e,line:b,col:c});this.endNode(d,a.curr().range[1])},_media_query_list:function(){var a=
this._tokenStream,b=[];this._readWhitespace();var c=this.startNode("MediaQueryList");c.queries=[];if(a.peek()==l.IDENT||a.peek()==l.LPAREN)c.range[0]=a.curr().range[0],b.push(this._media_query());for(;a.match(l.COMMA);)this._readWhitespace(),b.push(this._media_query());this.endNode(c,a.curr().range[1]);-1<c.range[0]&&this.addToParent(c,"mediaqueries");return b},_media_query:function(){var a=this._tokenStream,b=null,c=null,e=null,d=[],x=this.startNode("MediaQuery");x.expressions=[];a.match(l.IDENT)&&
(c=a.token().value.toLowerCase(),"only"!=c&&"not"!=c?(a.unget(),c=null):(e=a.token(),this.setNodeStart(x,a.curr().range[0])));this._readWhitespace();a.peek()==l.IDENT?(b=this._media_type(),null===e&&(e=a.token(),this.setNodeStart(x,a.curr().range[0]))):a.peek()==l.LPAREN&&(null===e&&(e=a.LT(1)),d.push(this._media_expression()));if(null===b&&0===d.length)return this.endNode(x),null;for(this._readWhitespace();a.match(l.IDENT);)"and"!=a.token().value.toLowerCase()&&this._unexpectedToken(a.token()),this._readWhitespace(),
d.push(this._media_expression());this.addToParent(this.endNode(x,a.curr().range[1]),"queries");return new f(c,b,d,e.startLine,e.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var a=this._tokenStream,b=null,e,d=null;a.mustMatch(l.LPAREN);var f=this.startNode("MediaExpression",a.curr().range[0]),b=this._media_feature();f.feature=this.idNode("MediaFeature",a.curr());this._readWhitespace();a.match(l.COLON)&&(this._readWhitespace(),e=a.LT(1),d=this._expression());
a.mustMatch(l.RPAREN);this._readWhitespace();this.addToParent(this.endNode(f,a.curr().range[1]),"expressions");return new c(b,d?new A(d,e.startLine,e.startCol):null)},_media_feature:function(){var a=this._tokenStream;a.mustMatch(l.IDENT);var b=a.curr(),c=this.startNode("MediaFeature",b.range[0],"mediafeature");c.value=b.value;this.endNode(c,b.range[1]);return A.fromToken(a.token())},_page:function(){var a=this._tokenStream,b,c,e=null,d=null;a.mustMatch(l.PAGE_SYM);var f=this.startNode("Page",a.curr().range[0],
"body");f.declarations=[];b=a.token().startLine;c=a.token().startCol;this._readWhitespace();a.match(l.IDENT)&&(e=a.token().value,f.id=this.idNode("id",a.curr()),"auto"===e.toLowerCase()&&this._unexpectedToken(a.token()));a.peek()==l.COLON&&(d=this._pseudo_page(),f.pseudo=this.idNode("PseudoPage",a.curr()));this._readWhitespace();this.fire({type:"startpage",id:e,pseudo:d,line:b,col:c});this._readDeclarations(!0,!0);this.fire({type:"endpage",id:e,pseudo:d,line:b,col:c});this.endNode(f,toeknStream.curr().range[1])},
_margin:function(){var a=this._tokenStream,b,c,e=this._margin_sym();if(e){var d=this.startNode("Margin",a.curr().range[0],"body");d.declarations=[];b=a.token().startLine;c=a.token().startCol;this.fire({type:"startpagemargin",margin:e,line:b,col:c});this._readDeclarations(!0);this.fire({type:"endpagemargin",margin:e,line:b,col:c});this.endNode(d,a.curr().range[1]);return!0}return!1},_margin_sym:function(){var a=this._tokenStream;return a.match([l.TOPLEFTCORNER_SYM,l.TOPLEFT_SYM,l.TOPCENTER_SYM,l.TOPRIGHT_SYM,
l.TOPRIGHTCORNER_SYM,l.BOTTOMLEFTCORNER_SYM,l.BOTTOMLEFT_SYM,l.BOTTOMCENTER_SYM,l.BOTTOMRIGHT_SYM,l.BOTTOMRIGHTCORNER_SYM,l.LEFTTOP_SYM,l.LEFTMIDDLE_SYM,l.LEFTBOTTOM_SYM,l.RIGHTTOP_SYM,l.RIGHTMIDDLE_SYM,l.RIGHTBOTTOM_SYM])?A.fromToken(a.token()):null},_pseudo_page:function(){var a=this._tokenStream;a.mustMatch(l.COLON);a.mustMatch(l.IDENT);return a.token().value},_font_face:function(){var a=this._tokenStream,b,c;a.mustMatch(l.FONT_FACE_SYM);var e=this.startNode("FontFace",a.curr().range[0],"body");
e.declarations=[];b=a.token().startLine;c=a.token().startCol;this._readWhitespace();this.fire({type:"startfontface",line:b,col:c});this._readDeclarations(!0);this.endNode(e,a.curr().range[1]);this.fire({type:"endfontface",line:b,col:c})},_viewport:function(){var a=this._tokenStream,b,c;a.mustMatch(l.VIEWPORT_SYM);var e=this.startNode("Viewport",a.curr().range[0],"body");e.declarations=[];b=a.token().startLine;c=a.token().startCol;this._readWhitespace();this.fire({type:"startviewport",line:b,col:c});
this._readDeclarations(!0);this.endNode(e,a.curr().range[1]);this.fire({type:"endviewport",line:b,col:c})},_operator:function(a){var b=this._tokenStream,c=null;if(b.match([l.SLASH,l.COMMA])||a&&b.match([l.PLUS,l.STAR,l.MINUS]))c=b.token(),this._readWhitespace();c&&(a=this.startNode("Operator",b.curr().range[0],"operator"),a.value=r.fromToken(c),this.endNode(a,b.curr().range[1]));return c?r.fromToken(c):null},_combinator:function(){var a=this._tokenStream,b=null;a.match([l.PLUS,l.GREATER,l.TILDE])&&
(b=a.token(),b=new d(b.value,b.startLine,b.startCol),this._readWhitespace());if(null!==b){var c=this.startNode("Combinator",a.curr().range[0],"selector");c.value=b;this.endNode(c,a.curr().range[0])}return b},_unary_operator:function(){var a=this._tokenStream;if(a.match([l.MINUS,l.PLUS])){var b=this.startNode("UnaryOperator",a.curr().range[0],"operator");b.value=a.token().value;this.endNode(b,a.curr().range[1]);return a.token().value}return null},_property:function(){var b=this._tokenStream,c=null,
e=null,d,f,k,x=this.startNode("Property");b.peek()==l.STAR&&this.options.starHack&&(b.get(),d=b.token(),e=d.value,f=d.startLine,k=d.startCol,this.setNodeStart(x,b.curr().range[0]));b.match(l.IDENT)&&(d=b.token(),c=d.value,this.setNodeStart(x,b.curr().range[0]),"_"==c.charAt(0)&&this.options.underscoreHack&&(e="_",c=c.substring(1)),x.hack=e,x.value=c,this.addToParent(this.endNode(x,b.curr().range[1]),"property"),c=new a(c,e,f||d.startLine,k||d.startCol),this._readWhitespace());return c},_ruleset:function(){var a=
this._tokenStream,b,c=this.startNode("RuleSet");try{b=this._selectors_group(),c.selectors&&0<c.selectors.length&&this.setNodeStart(c,c.selectors[0].range[0])}catch(e){if(e instanceof F&&!this.options.strict){if(this.fire({type:"error",error:e,message:e.message,line:e.line,col:e.col}),a=a.advance([l.RBRACE]),a!=l.RBRACE)throw e;}else throw e;return!0}b&&(this.fire({type:"startrule",selectors:b,line:b[0].line,col:b[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:b,line:b[0].line,
col:b[0].col}),this.addToParent(this.endNode(c,a.curr().range[1]),"body"));return b},_selectors_group:function(){var a=this._tokenStream,b=[],c;c=this._selector();if(null!==c)for(b.push(c);a.match(l.COMMA);)this._readWhitespace(),c=this._selector(),null!==c?b.push(c):this._unexpectedToken(a.LT(1));return b.length?b:null},_selector:function(){var a=this._tokenStream,b=[],c=null,e=null,f=null,c=this._simple_selector_sequence();if(null===c)return null;b.push(c);do if(e=this._combinator(),null!==e)b.push(e),
c=this._simple_selector_sequence(),null===c?this._unexpectedToken(a.LT(1)):b.push(c);else if(this._readWhitespace())f=new d(a.token().value,a.token().startLine,a.token().startCol),e=this._combinator(),c=this._simple_selector_sequence(),null===c?null!==e&&this._unexpectedToken(a.LT(1)):(null!==e?b.push(e):b.push(f),b.push(c));else break;while(1);return new p(b,b[0].line,b[0].col)},_simple_selector_sequence:function(){var a=this._tokenStream,b=null,c=[],e="",d=[function(){return a.match(l.HASH)?new m(a.token().value,
"id",a.token().startLine,a.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],f=0,k=d.length,x=null,n,g;n=a.LT(1).startLine;g=a.LT(1).startCol;(b=this._type_selector())||(b=this._universal());for(null!==b&&(e+=b);a.peek()!==l.S;){for(;f<k&&null===x;)x=d[f++].call(this);if(null===x){if(""===e)return null;break}else f=0,c.push(x),e+=x.toString(),x=null}return""!==e?new h(b,c,e,n,g):null},_type_selector:function(){var a=this._tokenStream,b=this._namespace_prefix(),c=this._element_name();
if(c)return b&&(c.text=b+c.text,c.col-=b.length),c;b&&(a.unget(),1<b.length&&a.unget());return null},_class:function(){var a=this._tokenStream;return a.match(l.DOT)?(a.mustMatch(l.IDENT),a=a.token(),new m("."+a.value,"class",a.startLine,a.startCol-1)):null},_element_name:function(){var a=this._tokenStream;return a.match(l.IDENT)?(a=a.token(),new m(a.value,"elementName",a.startLine,a.startCol)):null},_namespace_prefix:function(){var a=this._tokenStream,b="";if(a.LA(1)===l.PIPE||a.LA(2)===l.PIPE)a.match([l.IDENT,
l.STAR])&&(b+=a.token().value),a.mustMatch(l.PIPE),b+="|";return b.length?b:null},_universal:function(){var a=this._tokenStream,b="",c;(c=this._namespace_prefix())&&(b+=c);a.match(l.STAR)&&(b+="*");return b.length?b:null},_attrib:function(){var a=this._tokenStream,b=null,c,e;return a.match(l.LBRACKET)?(e=a.token(),b=e.value,b+=this._readWhitespace(),(c=this._namespace_prefix())&&(b+=c),a.mustMatch(l.IDENT),b+=a.token().value,b+=this._readWhitespace(),a.match([l.PREFIXMATCH,l.SUFFIXMATCH,l.SUBSTRINGMATCH,
l.EQUALS,l.INCLUDES,l.DASHMATCH])&&(b+=a.token().value,b+=this._readWhitespace(),a.mustMatch([l.IDENT,l.STRING]),b+=a.token().value,b+=this._readWhitespace()),a.mustMatch(l.RBRACKET),new m(b+"]","attribute",e.startLine,e.startCol)):null},_pseudo:function(){var a=this._tokenStream,b=null,c=":",e,d;a.match(l.COLON)&&(a.match(l.COLON)&&(c+=":"),a.match(l.IDENT)?(b=a.token().value,e=a.token().startLine,d=a.token().startCol-c.length):a.peek()==l.FUNCTION&&(e=a.LT(1).startLine,d=a.LT(1).startCol-c.length,
b=this._functional_pseudo()),b&&(b=new m(c+b,"pseudo",e,d)));return b},_functional_pseudo:function(){var a=this._tokenStream,b=null;a.match(l.FUNCTION)&&(b=a.token().value,b+=this._readWhitespace(),b+=this._expression(),a.mustMatch(l.RPAREN),b+=")");return b},_expression:function(){for(var a=this._tokenStream,b="",c=this.startNode("Expression",a.curr().range[0]);a.match([l.PLUS,l.MINUS,l.DIMENSION,l.NUMBER,l.STRING,l.IDENT,l.LENGTH,l.FREQ,l.ANGLE,l.TIME,l.RESOLUTION,l.SLASH]);)b+=a.token().value,
b+=this._readWhitespace();b=b.length?b:null;c.value=b;this.addToParent(this.endNode(c,a.curr().range[1]),"expression");return b},_negation:function(){var a=this._tokenStream,b,c,e="",d;b=null;a.match(l.NOT)&&(e=a.token().value,b=a.token().startLine,c=a.token().startCol,e+=this._readWhitespace(),d=this._negation_arg(),e=e+d+this._readWhitespace(),a.match(l.RPAREN),e+=a.token().value,b=new m(e,"not",b,c),b.args.push(d));return b},_negation_arg:function(){var a=this._tokenStream,b=[this._type_selector,
this._universal,function(){return a.match(l.HASH)?new m(a.token().value,"id",a.token().startLine,a.token().startCol):null},this._class,this._attrib,this._pseudo],c=null,e=0,d=b.length,f,k;f=a.LT(1).startLine;for(k=a.LT(1).startCol;e<d&&null===c;)c=b[e].call(this),e++;null===c&&this._unexpectedToken(a.LT(1));return"elementName"==c.type?new h(c,[],c.toString(),f,k):new h(null,[c],c.toString(),f,k)},_declaration:function(){var a=this._tokenStream,b=null,c=null,e=null,d=null,f="",b=this._property();if(null!==
b){a.mustMatch(l.COLON);this._readWhitespace();c=this._expr();(!c||0===c.length)&&this._unexpectedToken(a.LT(1));e=this._prio();f=b.toString();if(this.options.starHack&&"*"==b.hack||this.options.underscoreHack&&"_"==b.hack)f=b.text;try{this._validateProperty(f,c)}catch(k){d=k}this.fire({type:"property",property:b,value:c,important:e,line:b.line,col:b.col,invalid:d});return!0}return!1},_prio:function(){var a=this._tokenStream.match(l.IMPORTANT_SYM);this._readWhitespace();return a},_expr:function(a){var b=
[],c=null,c=null,c=this._term();if(null!==c){b.push(c);do if((c=this._operator(a))&&b.push(c),c=this._term(),null===c)break;else b.push(c);while(1)}return 0<b.length?new e(b,b[0].line,b[0].col):null},_term:function(){var a=this._tokenStream,b=null,c=null,e,d,f,b=this._unary_operator();null!==b&&(d=a.token().startLine,f=a.token().startCol);a.peek()==l.IE_FUNCTION&&this.options.ieFilters?(c=this._ie_function(),null===b&&(d=a.token().startLine,f=a.token().startCol)):a.match([l.NUMBER,l.PERCENTAGE,l.LENGTH,
l.ANGLE,l.TIME,l.FREQ,l.STRING,l.IDENT,l.URI,l.UNICODE_RANGE])?(c=a.token().value,null===b&&(d=a.token().startLine,f=a.token().startCol),this._readWhitespace()):(e=this._hexcolor(),null===e?(null===b&&(d=a.LT(1).startLine,f=a.LT(1).startCol),null===c&&(c=a.LA(3)==l.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(c=e.value,null===b&&(d=e.startLine,f=e.startCol)));return null!==c?new r(null!==b?b+c:c,d,f):null},_function:function(){var a=this._tokenStream,b=null,c=null;if(a.match(l.FUNCTION)){b=
a.token().value;this._readWhitespace();c=this._expr(!0);b+=c;if(this.options.ieFilters&&a.peek()==l.EQUALS){do{this._readWhitespace()&&(b+=a.token().value);a.LA(0)==l.COMMA&&(b+=a.token().value);a.match(l.IDENT);b+=a.token().value;a.match(l.EQUALS);b+=a.token().value;for(c=a.peek();c!=l.COMMA&&c!=l.S&&c!=l.RPAREN;)a.get(),b+=a.token().value,c=a.peek()}while(a.match([l.COMMA,l.S]))}a.match(l.RPAREN);b+=")";this._readWhitespace()}return b},_ie_function:function(){var a=this._tokenStream,b=null,c;if(a.match([l.IE_FUNCTION,
l.FUNCTION])){b=a.token().value;do{this._readWhitespace()&&(b+=a.token().value);a.LA(0)==l.COMMA&&(b+=a.token().value);a.match(l.IDENT);b+=a.token().value;a.match(l.EQUALS);b+=a.token().value;for(c=a.peek();c!=l.COMMA&&c!=l.S&&c!=l.RPAREN;)a.get(),b+=a.token().value,c=a.peek()}while(a.match([l.COMMA,l.S]));a.match(l.RPAREN);b+=")";this._readWhitespace()}return b},_hexcolor:function(){var a=this._tokenStream,b=null;if(a.match(l.HASH)){b=a.token();a=b.value;if(!/#[a-f0-9]{3,6}/i.test(a))throw new F("Expected a hex color but found '"+
a+"' at line "+b.startLine+", col "+b.startCol+".",b.startLine,b.startCol);this._readWhitespace()}return b},_keyframes:function(){var a=this._tokenStream,b,c,e,d="";a.mustMatch(l.KEYFRAMES_SYM);b=a.token();/^@\-([^\-]+)\-/.test(b.value)&&(d=RegExp.$1);this._readWhitespace();e=this._keyframe_name();this._readWhitespace();a.mustMatch(l.LBRACE);this.fire({type:"startkeyframes",name:e,prefix:d,line:b.startLine,col:b.startCol});this._readWhitespace();for(c=a.peek();c==l.IDENT||c==l.PERCENTAGE;)this._keyframe_rule(),
this._readWhitespace(),c=a.peek();this.fire({type:"endkeyframes",name:e,prefix:d,line:b.startLine,col:b.startCol});this._readWhitespace();a.mustMatch(l.RBRACE)},_keyframe_name:function(){var a=this._tokenStream;a.mustMatch([l.IDENT,l.STRING]);return A.fromToken(a.token())},_keyframe_rule:function(){var a=this._key_list();this.fire({type:"startkeyframerule",keys:a,line:a[0].line,col:a[0].col});this._readDeclarations(!0);this.fire({type:"endkeyframerule",keys:a,line:a[0].line,col:a[0].col})},_key_list:function(){var a=
this._tokenStream,b=[];b.push(this._key());for(this._readWhitespace();a.match(l.COMMA);)this._readWhitespace(),b.push(this._key()),this._readWhitespace();return b},_key:function(){var a=this._tokenStream,b;if(a.match(l.PERCENTAGE))return A.fromToken(a.token());if(a.match(l.IDENT)){b=a.token();if(/from|to/i.test(b.value))return A.fromToken(b);a.unget()}this._unexpectedToken(a.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([l.S,l.CDO,l.CDC]););},_readDeclarations:function(a,b){var c=this._tokenStream;
this._readWhitespace();a&&c.mustMatch(l.LBRACE);this._readWhitespace();try{for(;;){if(!(c.match(l.SEMICOLON)||b&&this._margin()))if(this._declaration()){if(!c.match(l.SEMICOLON))break}else break;this._readWhitespace()}c.mustMatch(l.RBRACE);this._readWhitespace()}catch(e){if(e instanceof F&&!this.options.strict)if(this.fire({type:"error",error:e,message:e.message,line:e.line,col:e.col}),c=c.advance([l.SEMICOLON,l.RBRACE]),c==l.SEMICOLON)this._readDeclarations(!1,b);else{if(c!=l.RBRACE)throw e;}else throw e;
}},_readWhitespace:function(){for(var a=this._tokenStream,b="";a.match(l.S);)b+=a.token().value;return b},_unexpectedToken:function(a){throw new F("Unexpected token '"+a.value+"' at line "+a.startLine+", col "+a.startCol+".",a.startLine,a.startCol);},_verifyEnd:function(){this._tokenStream.LA(1)!=l.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(a,b){M.validate(a,b)},parse:function(a){this._tokenStream=new I(a,l);this._stylesheet()},parseStyleSheet:function(a){return this.parse(a)},
parseMediaQuery:function(a){this._tokenStream=new I(a,l);a=this._media_query();this._verifyEnd();return a},parsePropertyValue:function(a){this._tokenStream=new I(a,l);this._readWhitespace();a=this._expr();this._readWhitespace();this._verifyEnd();return a},parseRule:function(a){this._tokenStream=new I(a,l);this._readWhitespace();a=this._ruleset();this._readWhitespace();this._verifyEnd();return a},parseSelector:function(a){this._tokenStream=new I(a,l);this._readWhitespace();a=this._selector();this._readWhitespace();
this._verifyEnd();return a},parseStyleAttribute:function(a){this._tokenStream=new I(a+"}",l);this._readDeclarations()}};for(n in g)g.hasOwnProperty(n)&&(x[n]=g[n]);return x}();var N={"alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | \x3cpercentage\x3e | \x3clength\x3e","alignment-baseline":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",
animation:1,"animation-delay":{multi:"\x3ctime\x3e",comma:!0},"animation-direction":{multi:"normal | alternate",comma:!0},"animation-duration":{multi:"\x3ctime\x3e",comma:!0},"animation-iteration-count":{multi:"\x3cnumber\x3e | infinite",comma:!0},"animation-name":{multi:"none | \x3cident\x3e",comma:!0},"animation-play-state":{multi:"running | paused",comma:!0},"animation-timing-function":1,"-moz-animation-delay":{multi:"\x3ctime\x3e",comma:!0},"-moz-animation-direction":{multi:"normal | alternate",
comma:!0},"-moz-animation-duration":{multi:"\x3ctime\x3e",comma:!0},"-moz-animation-iteration-count":{multi:"\x3cnumber\x3e | infinite",comma:!0},"-moz-animation-name":{multi:"none | \x3cident\x3e",comma:!0},"-moz-animation-play-state":{multi:"running | paused",comma:!0},"-ms-animation-delay":{multi:"\x3ctime\x3e",comma:!0},"-ms-animation-direction":{multi:"normal | alternate",comma:!0},"-ms-animation-duration":{multi:"\x3ctime\x3e",comma:!0},"-ms-animation-iteration-count":{multi:"\x3cnumber\x3e | infinite",
comma:!0},"-ms-animation-name":{multi:"none | \x3cident\x3e",comma:!0},"-ms-animation-play-state":{multi:"running | paused",comma:!0},"-webkit-animation-delay":{multi:"\x3ctime\x3e",comma:!0},"-webkit-animation-direction":{multi:"normal | alternate",comma:!0},"-webkit-animation-duration":{multi:"\x3ctime\x3e",comma:!0},"-webkit-animation-iteration-count":{multi:"\x3cnumber\x3e | infinite",comma:!0},"-webkit-animation-name":{multi:"none | \x3cident\x3e",comma:!0},"-webkit-animation-play-state":{multi:"running | paused",
comma:!0},"-o-animation-delay":{multi:"\x3ctime\x3e",comma:!0},"-o-animation-direction":{multi:"normal | alternate",comma:!0},"-o-animation-duration":{multi:"\x3ctime\x3e",comma:!0},"-o-animation-iteration-count":{multi:"\x3cnumber\x3e | infinite",comma:!0},"-o-animation-name":{multi:"none | \x3cident\x3e",comma:!0},"-o-animation-play-state":{multi:"running | paused",comma:!0},appearance:"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit",
azimuth:function(a){var b=!1,c=!1;u.isAny(a,"\x3cangle\x3e | leftwards | rightwards | inherit")||(u.isAny(a,"behind")&&(c=b=!0),u.isAny(a,"left-side | far-left | left | center-left | center | center-right | right | far-right | right-side")&&(c=!0,b||u.isAny(a,"behind")));if(a.hasNext()){a=a.next();if(c)throw new y("Expected end of value but found '"+a+"'.",a.line,a.col);throw new y("Expected (\x3c'azimuth'\x3e) but found '"+a+"'.",a.line,a.col);}},"backface-visibility":"visible | hidden",background:1,
"background-attachment":{multi:"\x3cattachment\x3e",comma:!0},"background-clip":{multi:"\x3cbox\x3e",comma:!0},"background-color":"\x3ccolor\x3e | inherit","background-image":{multi:"\x3cbg-image\x3e",comma:!0},"background-origin":{multi:"\x3cbox\x3e",comma:!0},"background-position":{multi:"\x3cbg-position\x3e",comma:!0},"background-repeat":{multi:"\x3crepeat-style\x3e"},"background-size":{multi:"\x3cbg-size\x3e",comma:!0},"baseline-shift":"baseline | sub | super | \x3cpercentage\x3e | \x3clength\x3e",
behavior:1,binding:1,bleed:"\x3clength\x3e","bookmark-label":"\x3ccontent\x3e | \x3cattr\x3e | \x3cstring\x3e","bookmark-level":"none | \x3cinteger\x3e","bookmark-state":"open | closed","bookmark-target":"none | \x3curi\x3e | \x3cattr\x3e",border:"\x3cborder-width\x3e || \x3cborder-style\x3e || \x3ccolor\x3e","border-bottom":"\x3cborder-width\x3e || \x3cborder-style\x3e || \x3ccolor\x3e","border-bottom-color":"\x3ccolor\x3e | inherit","border-bottom-left-radius":"\x3cx-one-radius\x3e","border-bottom-right-radius":"\x3cx-one-radius\x3e",
"border-bottom-style":"\x3cborder-style\x3e","border-bottom-width":"\x3cborder-width\x3e","border-collapse":"collapse | separate | inherit","border-color":{multi:"\x3ccolor\x3e | inherit",max:4},"border-image":1,"border-image-outset":{multi:"\x3clength\x3e | \x3cnumber\x3e",max:4},"border-image-repeat":{multi:"stretch | repeat | round",max:2},"border-image-slice":function(a){var b=!1,c=!1,e=0;u.isAny(a,"fill")&&(b=c=!0);for(;a.hasNext()&&4>e;){b=u.isAny(a,"\x3cnumber\x3e | \x3cpercentage\x3e");if(!b)break;
e++}c?b=!0:u.isAny(a,"fill");if(a.hasNext()){a=a.next();if(b)throw new y("Expected end of value but found '"+a+"'.",a.line,a.col);throw new y("Expected ([\x3cnumber\x3e | \x3cpercentage\x3e]{1,4} \x26\x26 fill?) but found '"+a+"'.",a.line,a.col);}},"border-image-source":"\x3cimage\x3e | none","border-image-width":{multi:"\x3clength\x3e | \x3cpercentage\x3e | \x3cnumber\x3e | auto",max:4},"border-left":"\x3cborder-width\x3e || \x3cborder-style\x3e || \x3ccolor\x3e","border-left-color":"\x3ccolor\x3e | inherit",
"border-left-style":"\x3cborder-style\x3e","border-left-width":"\x3cborder-width\x3e","border-radius":function(a){for(var b=!1,c=!1,e=0,d=8;a.hasNext()&&e<d;){b=u.isAny(a,"\x3clength\x3e | \x3cpercentage\x3e | inherit");if(!b)if("/"==a.peek()&&0<e&&!c)c=!0,d=e+5,a.next();else break;e++}if(a.hasNext()){a=a.next();if(b)throw new y("Expected end of value but found '"+a+"'.",a.line,a.col);throw new y("Expected (\x3c'border-radius'\x3e) but found '"+a+"'.",a.line,a.col);}},"border-right":"\x3cborder-width\x3e || \x3cborder-style\x3e || \x3ccolor\x3e",
"border-right-color":"\x3ccolor\x3e | inherit","border-right-style":"\x3cborder-style\x3e","border-right-width":"\x3cborder-width\x3e","border-spacing":{multi:"\x3clength\x3e | inherit",max:2},"border-style":{multi:"\x3cborder-style\x3e",max:4},"border-top":"\x3cborder-width\x3e || \x3cborder-style\x3e || \x3ccolor\x3e","border-top-color":"\x3ccolor\x3e | inherit","border-top-left-radius":"\x3cx-one-radius\x3e","border-top-right-radius":"\x3cx-one-radius\x3e","border-top-style":"\x3cborder-style\x3e",
"border-top-width":"\x3cborder-width\x3e","border-width":{multi:"\x3cborder-width\x3e",max:4},bottom:"\x3cmargin-width\x3e | inherit","box-align":"start | end | center | baseline | stretch","box-decoration-break":"slice |clone","box-direction":"normal | reverse | inherit","box-flex":"\x3cnumber\x3e","box-flex-group":"\x3cinteger\x3e","box-lines":"single | multiple","box-ordinal-group":"\x3cinteger\x3e","box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","box-pack":"start | end | center | justify",
"box-shadow":function(a){if(u.isAny(a,"none")){if(a.hasNext())throw a=a.next(),new y("Expected end of value but found '"+a+"'.",a.line,a.col);}else M.multiProperty("\x3cshadow\x3e",a,!0,Infinity)},"box-sizing":"content-box | border-box | inherit","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom | inherit",
clear:"none | right | left | both | inherit",clip:1,color:"\x3ccolor\x3e | inherit","color-profile":1,"column-count":"\x3cinteger\x3e | auto","column-fill":"auto | balance","column-gap":"\x3clength\x3e | normal","column-rule":"\x3cborder-width\x3e || \x3cborder-style\x3e || \x3ccolor\x3e","column-rule-color":"\x3ccolor\x3e","column-rule-style":"\x3cborder-style\x3e","column-rule-width":"\x3cborder-width\x3e","column-span":"none | all","column-width":"\x3clength\x3e | auto",columns:1,content:1,"counter-increment":1,
"counter-reset":1,crop:"\x3cshape\x3e | auto",cue:"cue-after | cue-before | inherit","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl | inherit",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | box | inline-box | grid | inline-grid | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box",
"dominant-baseline":1,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | \x3cpercentage\x3e | \x3clength\x3e","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | \x3cpercentage\x3e | \x3clength\x3e",
"drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | \x3clength\x3e | \x3cpercentage\x3e","drop-initial-value":"initial | \x3cinteger\x3e",elevation:"\x3cangle\x3e | below | level | above | higher | lower | inherit","empty-cells":"show | hide | inherit",filter:1,fit:"fill | hidden | meet | slice","fit-position":1,"float":"left | right | none | inherit",
"float-offset":1,font:1,"font-family":1,"font-size":"\x3cabsolute-size\x3e | \x3crelative-size\x3e | \x3clength\x3e | \x3cpercentage\x3e | inherit","font-size-adjust":"\x3cnumber\x3e | none | inherit","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit","font-style":"normal | italic | oblique | inherit","font-variant":"normal | small-caps | inherit","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit",
"grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-span":"\x3cinteger\x3e","grid-flow":"none | rows | columns","grid-layer":"\x3cinteger\x3e","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-span":"\x3cinteger\x3e","grid-row-sizing":1,"hanging-punctuation":1,height:"\x3cmargin-width\x3e | inherit","hyphenate-after":"\x3cinteger\x3e | auto","hyphenate-before":"\x3cinteger\x3e | auto",
"hyphenate-character":"\x3cstring\x3e | auto","hyphenate-lines":"no-limit | \x3cinteger\x3e","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":1,"image-resolution":1,"inline-box-align":"initial | last | \x3cinteger\x3e",left:"\x3cmargin-width\x3e | inherit","letter-spacing":"\x3clength\x3e | normal | inherit","line-height":"\x3cnumber\x3e | \x3clength\x3e | \x3cpercentage\x3e | normal | inherit","line-break":"auto | loose | normal | strict",
"line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"\x3curi\x3e | none | inherit","list-style-position":"inside | outside | inherit","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit",
margin:{multi:"\x3cmargin-width\x3e | inherit",max:4},"margin-bottom":"\x3cmargin-width\x3e | inherit","margin-left":"\x3cmargin-width\x3e | inherit","margin-right":"\x3cmargin-width\x3e | inherit","margin-top":"\x3cmargin-width\x3e | inherit",mark:1,"mark-after":1,"mark-before":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":"\x3clength\x3e | \x3cpercentage\x3e | none | inherit","max-width":"\x3clength\x3e | \x3cpercentage\x3e | none | inherit",
"min-height":"\x3clength\x3e | \x3cpercentage\x3e | inherit","min-width":"\x3clength\x3e | \x3cpercentage\x3e | inherit","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,opacity:"\x3cnumber\x3e | inherit",orphans:"\x3cinteger\x3e | inherit",outline:1,"outline-color":"\x3ccolor\x3e | invert | inherit","outline-offset":1,"outline-style":"\x3cborder-style\x3e | inherit","outline-width":"\x3cborder-width\x3e | inherit",overflow:"visible | hidden | scroll | auto | inherit",
"overflow-style":1,"overflow-x":1,"overflow-y":1,padding:{multi:"\x3cpadding-width\x3e | inherit",max:4},"padding-bottom":"\x3cpadding-width\x3e | inherit","padding-left":"\x3cpadding-width\x3e | inherit","padding-right":"\x3cpadding-width\x3e | inherit","padding-top":"\x3cpadding-width\x3e | inherit",page:1,"page-break-after":"auto | always | avoid | left | right | inherit","page-break-before":"auto | always | avoid | left | right | inherit","page-break-inside":"auto | avoid | inherit","page-policy":1,
pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | fixed | inherit","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"\x3cmargin-width\x3e | inherit",rotation:1,"rotation-point":1,
"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,size:1,speak:"normal | none | spell-out | inherit","speak-header":"once | always | inherit","speak-numeral":"digits | continuous | inherit","speak-punctuation":"code | none | inherit","speech-rate":1,src:1,stress:1,"string-set":1,"table-layout":"auto | fixed | inherit","tab-size":"\x3cinteger\x3e | \x3clength\x3e",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | inherit","text-align-last":1,
"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":"\x3clength\x3e | \x3cpercentage\x3e | inherit","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none | inherit","text-wrap":"normal | none | avoid",top:"\x3cmargin-width\x3e | inherit",
transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | bidi-override | inherit","user-modify":"read-only | read-write | write-only | inherit","user-select":"none | text | toggle | element | elements | all | inherit","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | \x3cpercentage\x3e | \x3clength\x3e",
visibility:"visible | hidden | collapse | inherit","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"\x3cinteger\x3e | inherit",width:"\x3clength\x3e | \x3cpercentage\x3e | auto | inherit","word-break":"normal | keep-all | break-all","word-spacing":"\x3clength\x3e | normal | inherit",
"word-wrap":1,"z-index":"\x3cinteger\x3e | auto | inherit",zoom:"\x3cnumber\x3e | \x3cpercentage\x3e | normal"};a.prototype=new A;a.prototype.constructor=a;a.prototype.toString=function(){return(this.hack?this.hack:"")+this.text};e.prototype=new A;e.prototype.constructor=e;n.prototype.count=function(){return this._parts.length};n.prototype.isFirst=function(){return 0===this._i};n.prototype.hasNext=function(){return this._i<this._parts.length};n.prototype.mark=function(){this._marks.push(this._i)};
n.prototype.peek=function(a){return this.hasNext()?this._parts[this._i+(a||0)]:null};n.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null};n.prototype.previous=function(){return 0<this._i?this._parts[--this._i]:null};n.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())};r.prototype=new A;r.prototype.constructor=r;r.fromToken=function(a){return new r(a.value,a.startLine,a.startCol)};var J={":first-letter":1,":first-line":1,":before":1,":after":1,ELEMENT:1,
CLASS:2,isElement:function(a){return 0===a.indexOf("::")||J[a.toLowerCase()]==J.ELEMENT}};p.prototype=new A;p.prototype.constructor=p;h.prototype=new A;h.prototype.constructor=h;m.prototype=new A;m.prototype.constructor=m;s.prototype={constructor:s,compare:function(a){var b=["a","b","c","d"],c,e;c=0;for(e=b.length;c<e;c++){if(this[b[c]]<a[b[c]])return-1;if(this[b[c]]>a[b[c]])return 1}return 0},valueOf:function(){return 1E3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+","+
this.b+","+this.c+","+this.d}};s.calculate=function(a){function b(a){var c,e,d,x;c=a.elementName?a.elementName.text:"";var g;c&&"*"!=c.charAt(c.length-1)&&n++;c=0;for(d=a.modifiers.length;c<d;c++)switch(g=a.modifiers[c],g.type){case "class":case "attribute":k++;break;case "id":f++;break;case "pseudo":J.isElement(g.text)?n++:k++;break;case "not":e=0;for(x=g.args.length;e<x;e++)b(g.args[e])}}var c,e,d,f=0,k=0,n=0;c=0;for(e=a.parts.length;c<e;c++)d=a.parts[c],d instanceof h&&b(d);return new s(0,f,k,
n)};var K=/^[0-9a-fA-F]$/,O=/\n|\r\n|\r|\f/;I.prototype=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}(new G,{_getToken:function(a){var b;a=this._reader;var c=null,e=a.getLine(),d=a.getCol();start=a.getCursor();for(b=a.read();b;){switch(b){case "/":c="*"==a.peek()?this.commentToken(b,e,d):this.charToken(b,e,d);break;case "|":case "~":case "^":case "$":case "*":c="\x3d"==a.peek()?this.comparisonToken(b,e,d):this.charToken(b,e,d);break;case '"':case "'":c=this.stringToken(b,
e,d);break;case "#":c=H(a.peek())?this.hashToken(b,e,d):this.charToken(b,e,d);break;case ".":c=z(a.peek())?this.numberToken(b,e,d):this.charToken(b,e,d);break;case "-":c="-"==a.peek()?this.htmlCommentEndToken(b,e,d):D(a.peek())?this.identOrFunctionToken(b,e,d):this.charToken(b,e,d);break;case "!":c=this.importantToken(b,e,d);break;case "@":c=this.atRuleToken(b,e,d);break;case ":":c=this.notToken(b,e,d);break;case "\x3c":c=this.htmlCommentStartToken(b,e,d);break;case "U":case "u":if("+"==a.peek()){c=
this.unicodeRangeToken(b,e,d);break}default:c=z(b)?this.numberToken(b,e,d):q(b)?this.whitespaceToken(b,e,d):null!==b&&(D(b)||/\-\\/.test(b))?this.identOrFunctionToken(b,e,d):this.charToken(b,e,d)}break}!c&&null===b&&(c=this.createToken(l.EOF,null,e,d));c.type!==l.S&&(b=Object.create(null),b.type=l.name(c.type),b.value=c.value,b.range=[start,a.getCursor()],this.tokens.push(b));return c},curr:function(){return 0<this.tokens.length?this.tokens[this.tokens.length-1]:null},createToken:function(a,b,c,e,
d){var f=this._reader;d=d||{};return{value:b,type:a,channel:d.channel,hide:d.hide||!1,startLine:c,startCol:e,endLine:f.getLine(),endCol:f.getCol()}},atRuleToken:function(a,b,c){var e=a,d=this._reader,f=l.CHAR;d.mark();e=this.readName();e=a+e;f=l.type(e.toLowerCase());if(f==l.CHAR||f==l.UNKNOWN)1<e.length?f=l.UNKNOWN_SYM:(f=l.CHAR,e=a,d.reset());return this.createToken(f,e,b,c)},charToken:function(a,b,c){var e=l.type(a);-1==e&&(e=l.CHAR);return this.createToken(e,a,b,c)},commentToken:function(a,b,
c){a=this.readComment(a);return this.createToken(l.COMMENT,a,b,c)},comparisonToken:function(a,b,c){a+=this._reader.read();var e=l.type(a)||l.CHAR;return this.createToken(e,a,b,c)},hashToken:function(a,b,c){a=this.readName(a);return this.createToken(l.HASH,a,b,c)},htmlCommentStartToken:function(a,b,c){var e=this._reader,d=a;e.mark();d+=e.readCount(3);if("\x3c!--"==d)return this.createToken(l.CDO,d,b,c);e.reset();return this.charToken(a,b,c)},htmlCommentEndToken:function(a,b,c){var e=this._reader,d=
a;e.mark();d+=e.readCount(2);if("--\x3e"==d)return this.createToken(l.CDC,d,b,c);e.reset();return this.charToken(a,b,c)},identOrFunctionToken:function(a,b,c){var e=this._reader;a=this.readName(a);var d=l.IDENT;"("==e.peek()?(a+=e.read(),"url("==a.toLowerCase()?(d=l.URI,a=this.readURI(a),"url("==a.toLowerCase()&&(d=l.FUNCTION)):d=l.FUNCTION):":"==e.peek()&&"progid"==a.toLowerCase()&&(a+=e.readTo("("),d=l.IE_FUNCTION);return this.createToken(d,a,b,c)},importantToken:function(a,b,c){var e=this._reader,
d=a,f=l.CHAR,k,n;e.mark();for(n=e.read();n;){if("/"==n)if("*"!=e.peek())break;else{if(k=this.readComment(n),""===k)break}else if(q(n))d+=n+this.readWhitespace();else{/i/i.test(n)&&(k=e.readCount(8),/mportant/i.test(k)&&(d+=n+k,f=l.IMPORTANT_SYM));break}n=e.read()}return f==l.CHAR?(e.reset(),this.charToken(a,b,c)):this.createToken(f,d,b,c)},notToken:function(a,b,c){var e=this._reader,d=a;e.mark();d+=e.readCount(4);if(":not("==d.toLowerCase())return this.createToken(l.NOT,d,b,c);e.reset();return this.charToken(a,
b,c)},numberToken:function(a,b,c){var e=this._reader;a=this.readNumber(a);var d=l.NUMBER,f=e.peek();null!==f&&(D(f)||/\-\\/.test(f))?(e=this.readName(e.read()),a+=e,d=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vm$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(e)?l.LENGTH:/^deg|^rad$|^grad$/i.test(e)?l.ANGLE:/^ms$|^s$/i.test(e)?l.TIME:/^hz$|^khz$/i.test(e)?l.FREQ:/^dpi$|^dpcm$/i.test(e)?l.RESOLUTION:l.DIMENSION):"%"==f&&(a+=e.read(),d=l.PERCENTAGE);return this.createToken(d,a,b,c)},stringToken:function(a,b,c){for(var e=
a,d=this._reader,f=a,k=l.STRING,n=d.read();n;){e+=n;if(n==a&&"\\"!=f)break;if(w(d.peek())&&"\\"!=n){k=l.INVALID;break}f=n;n=d.read()}null===n&&(k=l.INVALID);return this.createToken(k,e,b,c)},unicodeRangeToken:function(a,b,c){var e=this._reader,d,f=l.CHAR;"+"==e.peek()&&(e.mark(),a+=e.read(),a+=this.readUnicodeRangePart(!0),2==a.length?e.reset():(f=l.UNICODE_RANGE,-1==a.indexOf("?")&&"-"==e.peek()&&(e.mark(),d=e.read(),d+=this.readUnicodeRangePart(!1),1==d.length?e.reset():a+=d)));return this.createToken(f,
a,b,c)},whitespaceToken:function(a,b,c){a+=this.readWhitespace();return this.createToken(l.S,a,b,c)},readUnicodeRangePart:function(a){for(var b=this._reader,c="",e=b.peek();null!==e&&K.test(e)&&6>c.length;)b.read(),c+=e,e=b.peek();if(a)for(;"?"==e&&6>c.length;)b.read(),c+=e,e=b.peek();return c},readWhitespace:function(){for(var a=this._reader,b="",c=a.peek();q(c);)a.read(),b+=c,c=a.peek();return b},readNumber:function(a){var b=this._reader,c=a;a="."==a;for(var e=b.peek();e;){if(z(e))c+=b.read();else if("."==
e)if(a)break;else a=!0,c+=b.read();else break;e=b.peek()}return c},readString:function(){for(var a=this._reader,b=a.read(),c=b,e=b,d=a.peek();d;){d=a.read();c+=d;if(d==b&&"\\"!=e)break;if(w(a.peek())&&"\\"!=d){c="";break}e=d;d=a.peek()}null===d&&(c="");return c},readURI:function(a){var b=this._reader,c=a,e="",d=b.peek();for(b.mark();d&&q(d);)b.read(),d=b.peek();e="'"==d||'"'==d?this.readString():this.readURL();for(d=b.peek();d&&q(d);)b.read(),d=b.peek();""===e||")"!=d?(c=a,b.reset()):c+=e+b.read();
return c},readURL:function(){for(var a=this._reader,b="",c=a.peek();/^[!#$%&\\*-~]$/.test(c);)b+=a.read(),c=a.peek();return b},readName:function(a){var b=this._reader;a=a||"";for(var c=b.peek();;)if("\\"==c)a+=this.readEscape(b.read()),c=b.peek();else if(c&&H(c))a+=b.read(),c=b.peek();else break;return a},readEscape:function(a){var b=this._reader;a=a||"";var c=0,e=b.peek();if(null!==e&&K.test(e)){do a+=b.read(),e=b.peek();while(e&&null!==e&&K.test(e)&&6>++c)}3==a.length&&/\s/.test(e)||7==a.length||
1==a.length?b.read():e="";return a+e},readComment:function(a){var b=this._reader;a=a||"";var c=b.read();if("*"==c){for(;c;){a+=c;if(2<a.length&&"*"==c&&"/"==b.peek()){a+=b.read();break}c=b.read()}return a}return""}});var l=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~\x3d"},{name:"DASHMATCH",text:"|\x3d"},{name:"PREFIXMATCH",text:"^\x3d"},{name:"SUFFIXMATCH",text:"$\x3d"},{name:"SUBSTRINGMATCH",text:"*\x3d"},{name:"STRING"},
{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"VIEWPORT_SYM",text:"@viewport"},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},
{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:"\x3e"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},
{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},
{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"\x3d"},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var a=[],b={};l.UNKNOWN=-1;l.unshift({name:"EOF"});for(var c=0,e=l.length;c<e;c++)if(a.push(l[c].name),l[l[c].name]=c,l[c].text)if(l[c].text instanceof
Array)for(var d=0;d<l[c].text.length;d++)b[l[c].text[d]]=c;else b[l[c].text]=c;l.name=function(b){return a[b]};l.type=function(a){return b[a]||-1}})();var M={validate:function(a,b){var c=a.toString().toLowerCase(),e=new n(b),d=N[c];if(d)"number"!=typeof d&&("string"==typeof d?-1<d.indexOf("||")?this.groupProperty(d,e):this.singleProperty(d,e,1):d.multi?this.multiProperty(d.multi,e,d.comma,d.max||Infinity):"function"==typeof d&&d(e));else if(0!==c.indexOf("-"))throw new y("Unknown property '"+a+"'.",
a.line,a.col);},singleProperty:function(a,b,c,e){e=!1;for(var d=b.value,f=0;b.hasNext()&&f<c;){e=u.isAny(b,a);if(!e)break;f++}if(e){if(b.hasNext())throw a=b.next(),new y("Expected end of value but found '"+a+"'.",a.line,a.col);}else{if(b.hasNext()&&!b.isFirst())throw a=b.peek(),new y("Expected end of value but found '"+a+"'.",a.line,a.col);throw new y("Expected ("+a+") but found '"+d+"'.",d.line,d.col);}},multiProperty:function(a,b,c,e){for(var d=!1,f=b.value,k=0;b.hasNext()&&!d&&k<e;)if(u.isAny(b,
a))if(k++,b.hasNext()){if(c)if(","==b.peek())b.next();else break}else d=!0;else break;if(d){if(b.hasNext())throw b=b.next(),new y("Expected end of value but found '"+b+"'.",b.line,b.col);}else{if(b.hasNext()&&!b.isFirst())throw b=b.peek(),new y("Expected end of value but found '"+b+"'.",b.line,b.col);b=b.previous();if(c&&","==b)throw new y("Expected end of value but found '"+b+"'.",b.line,b.col);throw new y("Expected ("+a+") but found '"+f+"'.",f.line,f.col);}},groupProperty:function(a,b,c){c=!1;
for(var e=b.value,d=a.split("||").length,f={count:0},k=!1,n;b.hasNext()&&!c;)if(n=u.isAnyOfGroup(b,a))if(f[n])break;else{if(f[n]=1,f.count++,k=!0,f.count==d||!b.hasNext())c=!0}else break;if(c){if(b.hasNext())throw a=b.next(),new y("Expected end of value but found '"+a+"'.",a.line,a.col);}else{if(k&&b.hasNext())throw a=b.peek(),new y("Expected end of value but found '"+a+"'.",a.line,a.col);throw new y("Expected ("+a+") but found '"+e+"'.",e.line,e.col);}}};y.prototype=Error();var u={isLiteral:function(a,
b){var c=a.text.toString().toLowerCase(),e=b.split(" | "),d,f,k=!1;d=0;for(f=e.length;d<f&&!k;d++)c==e[d].toLowerCase()&&(k=!0);return k},isSimple:function(a){return!!this.simple[a]},isComplex:function(a){return!!this.complex[a]},isAny:function(a,b){var c=b.split(" | "),e,d,f=!1;e=0;for(d=c.length;e<d&&!f&&a.hasNext();e++)f=this.isType(a,c[e]);return f},isAnyOfGroup:function(a,b){var c=b.split(" || "),e,d,f=!1;e=0;for(d=c.length;e<d&&!f;e++)f=this.isType(a,c[e]);return f?c[e-1]:!1},isType:function(a,
b){var c=a.peek(),e=!1;"\x3c"!=b.charAt(0)?(e=this.isLiteral(c,b))&&a.next():this.simple[b]?(e=this.simple[b](c))&&a.next():e=this.complex[b](a);return e},simple:{"\x3cabsolute-size\x3e":function(a){return u.isLiteral(a,"xx-small | x-small | small | medium | large | x-large | xx-large")},"\x3cattachment\x3e":function(a){return u.isLiteral(a,"scroll | fixed | local")},"\x3cattr\x3e":function(a){return"function"==a.type&&"attr"==a.name},"\x3cbg-image\x3e":function(a){return this["\x3cimage\x3e"](a)||
this["\x3cgradient\x3e"](a)||"none"==a},"\x3cgradient\x3e":function(a){return"function"==a.type&&/^(?:\-(?:ms|moz|o|webkit)\-)?(?:repeating\-)?(?:radial\-|linear\-)?gradient/i.test(a)},"\x3cbox\x3e":function(a){return u.isLiteral(a,"padding-box | border-box | content-box")},"\x3ccontent\x3e":function(a){return"function"==a.type&&"content"==a.name},"\x3crelative-size\x3e":function(a){return u.isLiteral(a,"smaller | larger")},"\x3cident\x3e":function(a){return"identifier"==a.type},"\x3clength\x3e":function(a){return"function"==
a.type&&/^(?:\-(?:ms|moz|o|webkit)\-)?calc/i.test(a)?!0:"length"==a.type||"number"==a.type||"integer"==a.type||"0"==a},"\x3ccolor\x3e":function(a){return"color"==a.type||"transparent"==a},"\x3cnumber\x3e":function(a){return"number"==a.type||this["\x3cinteger\x3e"](a)},"\x3cinteger\x3e":function(a){return"integer"==a.type},"\x3cline\x3e":function(a){return"integer"==a.type},"\x3cangle\x3e":function(a){return"angle"==a.type},"\x3curi\x3e":function(a){return"uri"==a.type},"\x3cimage\x3e":function(a){return this["\x3curi\x3e"](a)},
"\x3cpercentage\x3e":function(a){return"percentage"==a.type||"0"==a},"\x3cborder-width\x3e":function(a){return this["\x3clength\x3e"](a)||u.isLiteral(a,"thin | medium | thick")},"\x3cborder-style\x3e":function(a){return u.isLiteral(a,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"\x3cmargin-width\x3e":function(a){return this["\x3clength\x3e"](a)||this["\x3cpercentage\x3e"](a)||u.isLiteral(a,"auto")},"\x3cpadding-width\x3e":function(a){return this["\x3clength\x3e"](a)||
this["\x3cpercentage\x3e"](a)},"\x3cshape\x3e":function(a){return"function"==a.type&&("rect"==a.name||"inset-rect"==a.name)},"\x3ctime\x3e":function(a){return"time"==a.type}},complex:{"\x3cbg-position\x3e":function(a){for(var b=!1,c=0;a.peek(c)&&","!=a.peek(c);)c++;3>c?u.isAny(a,"left | right | center | \x3cpercentage\x3e | \x3clength\x3e")?(b=!0,u.isAny(a,"top | bottom | center | \x3cpercentage\x3e | \x3clength\x3e")):u.isAny(a,"top | bottom")&&(b=!0,u.isAny(a,"left | right | center")):u.isAny(a,
"left | right")?u.isAny(a,"top | bottom")?(b=!0,u.isAny(a,"\x3cpercentage\x3e | \x3clength\x3e")):u.isAny(a,"\x3cpercentage\x3e | \x3clength\x3e")&&(u.isAny(a,"top | bottom")?(b=!0,u.isAny(a,"\x3cpercentage\x3e | \x3clength\x3e")):u.isAny(a,"center")&&(b=!0)):u.isAny(a,"top | bottom")?u.isAny(a,"left | right")?(b=!0,u.isAny(a,"\x3cpercentage\x3e | \x3clength\x3e")):u.isAny(a,"\x3cpercentage\x3e | \x3clength\x3e")&&(u.isAny(a,"left | right")?(b=!0,u.isAny(a,"\x3cpercentage\x3e | \x3clength\x3e")):
u.isAny(a,"center")&&(b=!0)):u.isAny(a,"center")&&u.isAny(a,"left | right | top | bottom")&&(b=!0,u.isAny(a,"\x3cpercentage\x3e | \x3clength\x3e"));return b},"\x3cbg-size\x3e":function(a){var b=!1;u.isAny(a,"cover | contain")?b=!0:u.isAny(a,"\x3cpercentage\x3e | \x3clength\x3e | auto")&&(b=!0,u.isAny(a,"\x3cpercentage\x3e | \x3clength\x3e | auto"));return b},"\x3crepeat-style\x3e":function(a){var b=!1,c;a.hasNext()&&(c=a.next(),u.isLiteral(c,"repeat-x | repeat-y")?b=!0:u.isLiteral(c,"repeat | space | round | no-repeat")&&
(b=!0,a.hasNext()&&u.isLiteral(a.peek(),"repeat | space | round | no-repeat")&&a.next()));return b},"\x3cshadow\x3e":function(a){var b=!1,c=0,e=!1,d=!1;if(a.hasNext()){u.isAny(a,"inset")&&(e=!0);for(u.isAny(a,"\x3ccolor\x3e")&&(d=!0);u.isAny(a,"\x3clength\x3e")&&4>c;)c++;a.hasNext()&&(d||u.isAny(a,"\x3ccolor\x3e"),e||u.isAny(a,"inset"));b=2<=c&&4>=c}return b},"\x3cx-one-radius\x3e":function(a){var b=!1;u.isAny(a,"\x3clength\x3e | \x3cpercentage\x3e | inherit")&&(b=!0,u.isAny(a,"\x3clength\x3e | \x3cpercentage\x3e | inherit"));
return b}}};g.css={Colors:B,Combinator:d,Parser:b,PropertyName:a,PropertyValue:e,PropertyValuePart:r,MediaFeature:c,MediaQuery:f,Selector:p,SelectorPart:h,SelectorSubPart:m,Specificity:s,TokenStream:I,Tokens:l,ValidationError:y}})();(function(){for(var d in g)m[d]=g[d]})();var f=function(){function d(a,c){var d,f=a&&a.match(b);if(f=f&&f[1])d={"true":2,"":1,"false":0,2:2,1:1,0:0},f.toLowerCase().split(",").forEach(function(a){a=a.split(":");var b=a[1]||"";c[(a[0]||"").trim()]=d[b.trim()]});return c}
var c=[],f=[],b=/\/\*\s*csslint([^\*]*)\*\//,a=new g.util.EventTarget;a.version="0.10.0";a.addRule=function(a){c.push(a);c[a.id]=a};a.clearRules=function(){c=[]};a.getRules=function(){return[].concat(c).sort(function(a,b){return a.id>b.id?1:0})};a.getRuleset=function(){for(var a={},b=0,d=c.length;b<d;)a[c[b++].id]=1;return a};a.addFormatter=function(a){f[a.id]=a};a.getFormatter=function(a){return f[a]};a.format=function(a,b,c,d){c=this.getFormatter(c);var f=null;c&&(f=c.startFormat(),f+=c.formatResults(a,
b,d||{}),f+=c.endFormat());return f};a.hasFormat=function(a){return f.hasOwnProperty(a)};a.verify=function(a,f){var k=0,p,m=new g.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1});p=a.replace(/\n\r?/g,"$split$").split("$split$");f||(f=this.getRuleset());b.test(a)&&(f=d(a,f));p=new h(p,f);f.errors=2;for(k in f)f.hasOwnProperty(k)&&f[k]&&c[k]&&c[k].init(m,p);try{m.parse(a)}catch(t){p.error("Fatal error, cannot continue: "+t.message,t.line,t.col,{})}k={messages:p.messages,stats:p.stats,
ruleset:p.ruleset,tokens:m._tokenStream&&m._tokenStream.tokens?m._tokenStream.tokens:[],ast:m.ast};k.messages.sort(function(a,b){return a.rollup&&!b.rollup?1:!a.rollup&&b.rollup?-1:a.line-b.line});return k};return a}();h.prototype={constructor:h,error:function(d,c,f,b){this.messages.push({type:"error",line:c,col:f,message:d,evidence:this.lines[c-1],rule:b||{}})},warn:function(d,c,f,b){this.report(d,c,f,b)},report:function(d,c,f,b){this.messages.push({type:2==this.ruleset[b.id]?"error":"warning",line:c,
col:f,message:d,evidence:this.lines[c-1],rule:b})},info:function(d,c,f,b){this.messages.push({type:"info",line:c,col:f,message:d,evidence:this.lines[c-1],rule:b})},rollupError:function(d,c){this.messages.push({type:"error",rollup:!0,message:d,rule:c})},rollupWarn:function(d,c){this.messages.push({type:"warning",rollup:!0,message:d,rule:c})},stat:function(d,c){this.stats[d]=c}};f._Reporter=h;f.Colors=g.util.Colors;f.Util={mix:function(d,c){for(var f in c)c.hasOwnProperty(f)&&(d[f]=c[f]);return f},
indexOf:function(d,c){if(d.indexOf)return d.indexOf(c);for(var f=0,b=d.length;f<b;f++)if(d[f]===c)return f;return-1},forEach:function(d,c){if(d.forEach)return d.forEach(c);for(var f=0,b=d.length;f<b;f++)c(d[f],f,d)}};f.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don't use adjoining classes.",browsers:"IE6",init:function(d,c){var f=this;d.addListener("startrule",function(b){b=b.selectors;var a,e,n,g,p,h,m;for(p=0;p<b.length;p++){a=b[p];for(h=0;h<a.parts.length;h++)if(e=
a.parts[h],e.type==d.SELECTOR_PART_TYPE)for(m=g=0;m<e.modifiers.length;m++)n=e.modifiers[m],"class"==n.type&&g++,1<g&&c.report("Don't use adjoining classes.",e.line,e.col,f)}})}});f.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don't use width or height when using padding or border.",browsers:"All",init:function(d,c){function f(){g={};h=!1}function b(){var b,d;if(!h){if(g.height)for(b in n)n.hasOwnProperty(b)&&g[b]&&(d=g[b].value,"padding"==b&&2===d.parts.length&&0===d.parts[0].value||
c.report("Using height with "+b+" can sometimes make elements larger than you expect.",g[b].line,g[b].col,a));if(g.width)for(b in e)e.hasOwnProperty(b)&&g[b]&&(d=g[b].value,"padding"==b&&2===d.parts.length&&0===d.parts[1].value||c.report("Using width with "+b+" can sometimes make elements larger than you expect.",g[b].line,g[b].col,a))}}var a=this,e={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},n={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,
"padding-top":1},g,h=!1;d.addListener("startrule",f);d.addListener("startfontface",f);d.addListener("startpage",f);d.addListener("startpagemargin",f);d.addListener("startkeyframerule",f);d.addListener("property",function(a){var b=a.property.text.toLowerCase();n[b]||e[b]?!/^0\S*$/.test(a.value)&&!("border"==b&&"none"==a.value)&&(g[b]={line:a.property.line,col:a.property.col,value:a.value}):/^(width|height)/i.test(b)&&/^(length|percentage)/.test(a.value.parts[0].type)?g[b]=1:"box-sizing"==b&&(h=!0)});
d.addListener("endrule",b);d.addListener("endfontface",b);d.addListener("endpage",b);d.addListener("endpagemargin",b);d.addListener("endkeyframerule",b)}});f.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn't supported in IE6 and IE7.",browsers:"IE6, IE7",tags:["Compatibility"],init:function(d,c){var f=this;d.addListener("property",function(b){"box-sizing"==b.property.text.toLowerCase()&&c.report("The box-sizing property isn't supported in IE6 and IE7.",
b.line,b.col,f)})}});f.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax",desc:"Use the bulletproof @font-face syntax to avoid 404's in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).",browsers:"All",init:function(d,c){var f=this,b=!1,a=!0,e=!1,n,g;d.addListener("startfontface",function(a){b=!0});d.addListener("property",function(c){if(b){var d=c.property.toString().toLowerCase(),f=c.value.toString();n=c.line;g=c.col;"src"===d&&(c=/^\s?url\(['"].+\.eot\?.*['"]\)\s*format\(['"]embedded-opentype['"]\).*$/i,
!f.match(c)&&a?(e=!0,a=!1):f.match(c)&&!a&&(e=!1))}});d.addListener("endfontface",function(a){b=!1;e&&c.report("@font-face declaration doesn't follow the fontspring bulletproof syntax.",n,g,f)})}});f.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(d,c){var k=this,b,a,e,n,g,h,m,t=!1,s=Array.prototype.push,z=[];b={animation:"webkit moz","animation-delay":"webkit moz",
"animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz",
"border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz ms","column-gap":"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms","column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms",
"column-width":"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit moz ms o","transform-origin":"webkit moz ms o",transition:"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o",
"user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms","writing-mode":"epub ms"};for(e in b)if(b.hasOwnProperty(e)){n=[];g=b[e].split(" ");h=0;for(m=g.length;h<m;h++)n.push("-"+g[h]+"-"+e);b[e]=n;s.apply(z,n)}d.addListener("startrule",function(){a=[]});d.addListener("startkeyframes",function(a){t=a.prefix||!0});d.addListener("endkeyframes",function(a){t=!1});d.addListener("property",function(b){b=b.property;-1<f.Util.indexOf(z,b.text)&&(!t||"string"!=typeof t||0!==b.text.indexOf("-"+
t+"-"))&&a.push(b)});d.addListener("endrule",function(e){if(a.length){e={};var d,n,g,h,p,r,m,v;d=0;for(n=a.length;d<n;d++)for(h in g=a[d],b)b.hasOwnProperty(h)&&(p=b[h],-1<f.Util.indexOf(p,g.text)&&(e[h]||(e[h]={full:p.slice(0),actual:[],actualNodes:[]}),-1===f.Util.indexOf(e[h].actual,g.text)&&(e[h].actual.push(g.text),e[h].actualNodes.push(g))));for(h in e)if(e.hasOwnProperty(h)&&(g=e[h],p=g.full,r=g.actual,p.length>r.length)){d=0;for(n=p.length;d<n;d++)m=p[d],-1===f.Util.indexOf(r,m)&&(v=1===r.length?
r[0]:2==r.length?r.join(" and "):r.join(", "),c.report("The property "+m+" is compatible with "+v+" and should be included as well.",g.actualNodes[0].line,g.actualNodes[0].col,k))}}})}});f.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn't be used with certain display property values.",browsers:"All",init:function(d,c){function f(a,b,d){if(h[a]&&("string"!=typeof g[a]||h[a].value.toLowerCase()!=g[a]))c.report(d||a+" can't be used with display: "+
b+".",h[a].line,h[a].col,e)}function b(){h={}}function a(){var a=h.display?h.display.value:null;if(a)switch(a){case "inline":f("height",a);f("width",a);f("margin",a);f("margin-top",a);f("margin-bottom",a);f("float",a,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case "block":f("vertical-align",a);break;case "inline-block":f("float",a);break;default:0===a.indexOf("table-")&&(f("margin",a),f("margin-left",a),f("margin-right",a),f("margin-top",
a),f("margin-bottom",a),f("float",a))}}var e=this,g={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1},h;d.addListener("startrule",b);d.addListener("startfontface",b);d.addListener("startkeyframerule",b);d.addListener("startpagemargin",b);d.addListener("startpage",b);d.addListener("property",function(a){var b=a.property.text.toLowerCase();
g[b]&&(h[b]={value:a.value.text,line:a.property.line,col:a.property.col})});d.addListener("endrule",a);d.addListener("endfontface",a);d.addListener("endkeyframerule",a);d.addListener("endpagemargin",a);d.addListener("endpage",a)}});f.addRule({id:"duplicate-background-images",name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites.",browsers:"All",init:function(d,c){var f=this,b={};d.addListener("property",function(a){var e=a.value,
d,g;if(a.property.text.match(/background/i)){d=0;for(g=e.parts.length;d<g;d++)"uri"==e.parts[d].type&&("undefined"===typeof b[e.parts[d].uri]?b[e.parts[d].uri]=a:c.report("Background image '"+e.parts[d].uri+"' was used multiple times, first declared at line "+b[e.parts[d].uri].line+", col "+b[e.parts[d].uri].col+".",a.line,a.col,f))}})}});f.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(d,
c){function f(b){a={}}var b=this,a,e;d.addListener("startrule",f);d.addListener("startfontface",f);d.addListener("startpage",f);d.addListener("startpagemargin",f);d.addListener("startkeyframerule",f);d.addListener("property",function(d){var f=d.property.text.toLowerCase();a[f]&&(e!=f||a[f]==d.value.text)&&c.report("Duplicate property '"+d.property+"' found.",d.line,d.col,b);a[f]=d.value.text;e=f})}});f.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",
browsers:"All",init:function(d,c){var f=this,b=0;d.addListener("startrule",function(){b=0});d.addListener("property",function(){b++});d.addListener("endrule",function(a){a=a.selectors;0===b&&c.report("Rule is empty.",a[0].line,a[0].col,f)})}});f.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(d,c){var f=this;d.addListener("error",function(b){c.error(b.message,b.line,b.col,f)})}});f.addRule({id:"fallback-colors",name:"Require fallback colors",
desc:"For older browsers that don't support RGBA, HSL, or HSLA, provide a fallback color.",browsers:"IE6,IE7,IE8",init:function(d,c){function f(b){a=null}var b=this,a,e={color:1,background:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color":1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom":1,"border-left":1,"background-color":1};d.addListener("startrule",f);d.addListener("startfontface",f);d.addListener("startpage",f);d.addListener("startpagemargin",
f);d.addListener("startkeyframerule",f);d.addListener("property",function(d){var f=d.property.text.toLowerCase(),k=d.value.parts,g=0,h="",m=k.length;if(e[f])for(;g<m;)"color"==k[g].type&&("alpha"in k[g]||"hue"in k[g]?(/([^\)]+)\(/.test(k[g])&&(h=RegExp.$1.toUpperCase()),(!a||a.property.text.toLowerCase()!=f||"compat"!=a.colorType)&&c.report("Fallback "+f+" (hex or RGB) should precede "+h+" "+f+".",d.line,d.col,b)):d.colorType="compat"),g++;a=d})}});f.addRule({id:"floats",name:"Disallow too many floats",
desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(d,c){var f=this,b=0;d.addListener("property",function(a){"float"==a.property.text.toLowerCase()&&"none"!=a.value.text.toLowerCase()&&b++});d.addListener("endstylesheet",function(){c.stat("floats",b);10<=b&&c.rollupWarn("Too many floats ("+b+"), you're probably using them for layout. Consider using a grid system instead.",f)})}});f.addRule({id:"font-faces",name:"Don't use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",
browsers:"All",init:function(d,c){var f=this,b=0;d.addListener("startfontface",function(){b++});d.addListener("endstylesheet",function(){5<b&&c.rollupWarn("Too many @font-face declarations ("+b+").",f)})}});f.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(d,c){var f=this,b=0;d.addListener("property",function(a){"font-size"==a.property&&b++});d.addListener("endstylesheet",function(){c.stat("font-sizes",b);
10<=b&&c.rollupWarn("Too many font-size declarations ("+b+"), abstraction needed.",f)})}});f.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(d,c){var f=this,b;d.addListener("startrule",function(){b={moz:0,webkit:0,oldWebkit:0,o:0}});d.addListener("property",function(a){/\-(moz|o|webkit)(?:\-(?:linear|radial))\-gradient/i.test(a.value)?b[RegExp.$1]=1:/\-webkit\-gradient/i.test(a.value)&&
(b.oldWebkit=1)});d.addListener("endrule",function(a){var e=[];b.moz||e.push("Firefox 3.6+");b.webkit||e.push("Webkit (Safari 5+, Chrome)");b.oldWebkit||e.push("Old Webkit (Safari 4+, Chrome)");b.o||e.push("Opera 11.1+");e.length&&4>e.length&&c.report("Missing vendor-prefixed CSS gradients for "+e.join(", ")+".",a.selectors[0].line,a.selectors[0].col,f)})}});f.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",browsers:"All",init:function(d,c){var f=this;d.addListener("startrule",
function(b){b=b.selectors;var a,e,g,h,p,m,t;for(p=0;p<b.length;p++){a=b[p];for(m=h=0;m<a.parts.length;m++)if(e=a.parts[m],e.type==d.SELECTOR_PART_TYPE)for(t=0;t<e.modifiers.length;t++)g=e.modifiers[t],"id"==g.type&&h++;1==h?c.report("Don't use IDs in selectors.",a.line,a.col,f):1<h&&c.report(h+" IDs in the selector, really?",a.line,a.col,f)}})}});f.addRule({id:"import",name:"Disallow @import",desc:"Don't use @import, use \x3clink\x3e instead.",browsers:"All",init:function(d,c){var f=this;d.addListener("import",
function(b){c.report("@import prevents parallel downloads, use \x3clink\x3e instead.",b.line,b.col,f)})}});f.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",browsers:"All",init:function(d,c){var f=this,b=0;d.addListener("property",function(a){!0===a.important&&(b++,c.report("Use of !important",a.line,a.col,f))});d.addListener("endstylesheet",function(){c.stat("important",b);10<=b&&c.rollupWarn("Too many !important declarations ("+b+"), try to use less than 10 to avoid specificity issues.",
f)})}});f.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.",browsers:"All",init:function(d,c){var f=this;d.addListener("property",function(b){b.property.text.toLowerCase();b.invalid&&c.report(b.invalid.message,b.line,b.col,f)})}});f.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",browsers:"All",
tags:["Accessibility"],init:function(d,c){function f(a){e=a.selectors?{line:a.line,col:a.col,selectors:a.selectors,propCount:0,outline:!1}:null}function b(b){e&&e.outline&&(-1==e.selectors.toString().toLowerCase().indexOf(":focus")?c.report("Outlines should only be modified using :focus.",e.line,e.col,a):1==e.propCount&&c.report("Outlines shouldn't be hidden unless other visual changes are made.",e.line,e.col,a))}var a=this,e;d.addListener("startrule",f);d.addListener("startfontface",f);d.addListener("startpage",
f);d.addListener("startpagemargin",f);d.addListener("startkeyframerule",f);d.addListener("property",function(a){var b=a.property.text.toLowerCase();a=a.value;if(e&&(e.propCount++,"outline"==b&&("none"==a||"0"==a)))e.outline=!0});d.addListener("endrule",b);d.addListener("endfontface",b);d.addListener("endpage",b);d.addListener("endpagemargin",b);d.addListener("endkeyframerule",b)}});f.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don't use classes or IDs with elements (a.foo or a#foo).",
browsers:"All",init:function(d,c){var f=this,b={};d.addListener("startrule",function(a){a=a.selectors;var e,g,h,p,m,t;for(p=0;p<a.length;p++){e=a[p];for(m=0;m<e.parts.length;m++)if(g=e.parts[m],g.type==d.SELECTOR_PART_TYPE)for(t=0;t<g.modifiers.length;t++)h=g.modifiers[t],g.elementName&&"id"==h.type?c.report("Element ("+g+") is overqualified, just use "+h+" without element name.",g.line,g.col,f):"class"==h.type&&(b[h]||(b[h]=[]),b[h].push({modifier:h,part:g}))}});d.addListener("endstylesheet",function(){for(var a in b)b.hasOwnProperty(a)&&
1==b[a].length&&b[a][0].part.elementName&&c.report("Element ("+b[a][0].part+") is overqualified, just use "+b[a][0].modifier+" without element name.",b[a][0].part.line,b[a][0].part.col,f)})}});f.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(d,c){var f=this;d.addListener("startrule",function(b){b=b.selectors;var a,e,g,h;for(g=0;g<b.length;g++){a=b[g];for(h=0;h<a.parts.length;h++)e=a.parts[h],e.type==
d.SELECTOR_PART_TYPE&&e.elementName&&(/h[1-6]/.test(e.elementName.toString())&&0<h)&&c.report("Heading ("+e.elementName+") should not be qualified.",e.line,e.col,f)}})}});f.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(d,c){var f=this;d.addListener("startrule",function(b){b=b.selectors;var a,e,g,h,p,m;for(h=0;h<b.length;h++){a=b[h];for(p=0;p<a.parts.length;p++)if(e=
a.parts[p],e.type==d.SELECTOR_PART_TYPE)for(m=0;m<e.modifiers.length;m++)g=e.modifiers[m],"attribute"==g.type&&/([\~\|\^\$\*]=)/.test(g)&&c.report("Attribute selectors with "+RegExp.$1+" are slow!",g.line,g.col,f)}})}});f.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(d,c){var f=0;d.addListener("startrule",function(){f++});d.addListener("endstylesheet",function(){c.stat("rule-count",f)})}});f.addRule({id:"selector-max-approaching",
name:"Warn when approaching the 4095 selector limit for IE",desc:"Will warn when selector count is \x3e\x3d 3800 selectors.",browsers:"IE",init:function(d,c){var f=this,b=0;d.addListener("startrule",function(a){b+=a.selectors.length});d.addListener("endstylesheet",function(){3800<=b&&c.report("You have "+b+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,f)})}});f.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE",
desc:"Will error when selector count is \x3e 4095.",browsers:"IE",init:function(d,c){var f=this,b=0;d.addListener("startrule",function(a){b+=a.selectors.length});d.addListener("endstylesheet",function(){4095<b&&c.report("You have "+b+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,f)})}});f.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",browsers:"All",init:function(d,c){function f(a){m=
{}}function b(b){var e,d,f,g;for(e in t)if(t.hasOwnProperty(e)){d=g=0;for(f=t[e].length;d<f;d++)g+=m[t[e][d]]?1:0;g==t[e].length&&c.report("The properties "+t[e].join(", ")+" can be replaced by "+e+".",b.line,b.col,a)}}var a=this,e,g,h,p={},m,t={margin:["margin-top","margin-bottom","margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left","padding-right"]};for(e in t)if(t.hasOwnProperty(e)){g=0;for(h=t[e].length;g<h;g++)p[t[e][g]]=e}d.addListener("startrule",f);d.addListener("startfontface",
f);d.addListener("property",function(a){a=a.property.toString().toLowerCase();p[a]&&(m[a]=1)});d.addListener("endrule",b);d.addListener("endfontface",b)}});f.addRule({id:"star-property-hack",name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)",browsers:"All",init:function(d,c){var f=this;d.addListener("property",function(b){"*"==b.property.hack&&c.report("Property with star prefix found.",b.property.line,b.property.col,f)})}});f.addRule({id:"text-indent",
name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",browsers:"All",init:function(d,c){function f(a){e=!1;g="inherit"}function b(b){e&&"ltr"!=g&&c.report("Negative text-indent doesn't work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.",e.line,e.col,a)}var a=this,e,g;d.addListener("startrule",f);d.addListener("startfontface",f);d.addListener("property",function(a){var b=a.property.toString().toLowerCase(),c=
a.value;"text-indent"==b&&-99>c.parts[0].value?e=a.property:"direction"==b&&"ltr"==c&&(g="ltr")});d.addListener("endrule",b);d.addListener("endfontface",b)}});f.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix",desc:"Checks for the underscore property hack (targets IE6)",browsers:"All",init:function(d,c){var f=this;d.addListener("property",function(b){"_"==b.property.hack&&c.report("Property with underscore prefix found.",b.property.line,b.property.col,f)})}});
f.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",browsers:"All",init:function(d,c){var f=this,b={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};d.addListener("startrule",function(a){a=a.selectors;var e,d,g,h;for(g=0;g<a.length;g++)if(e=a[g],e=e.parts[e.parts.length-1],e.elementName&&/(h[1-6])/i.test(e.elementName.toString())){for(h=0;h<e.modifiers.length;h++)if("pseudo"==e.modifiers[h].type){d=!0;break}d||(b[RegExp.$1]++,1<b[RegExp.$1]&&c.report("Heading ("+
e.elementName+") has already been defined.",e.line,e.col,f))}});d.addListener("endstylesheet",function(a){var e;a=[];for(e in b)b.hasOwnProperty(e)&&1<b[e]&&a.push(b[e]+" "+e+"s");a.length&&c.rollupWarn("You have "+a.join(", ")+" defined in this stylesheet.",f)})}});f.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",browsers:"All",init:function(d,c){var f=this;d.addListener("startrule",function(b){b=b.selectors;var a,e;for(e=
0;e<b.length;e++)a=b[e],a=a.parts[a.parts.length-1],"*"==a.elementName&&c.report(f.desc,a.line,a.col,f)})}});f.addRule({id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc:"Unqualified attribute selectors are known to be slow.",browsers:"All",init:function(d,c){var f=this;d.addListener("startrule",function(b){b=b.selectors;var a,e,g,h;for(g=0;g<b.length;g++)if(a=b[g],a=a.parts[a.parts.length-1],a.type==d.SELECTOR_PART_TYPE)for(h=0;h<a.modifiers.length;h++)e=a.modifiers[h],
"attribute"==e.type&&(!a.elementName||"*"==a.elementName)&&c.report(f.desc,a.line,a.col,f)})}});f.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(d,c){function f(){e={};g=1}function b(b){var d,f,g,k;b=[];for(d in e)h[d]&&b.push({actual:d,needed:h[d]});d=0;for(f=b.length;d<f;d++)g=b[d].needed,k=b[d].actual,e[g]?e[g][0].pos<e[k][0].pos&&c.report("Standard property '"+
g+"' should come after vendor-prefixed property '"+k+"'.",e[k][0].name.line,e[k][0].name.col,a):c.report("Missing standard property '"+g+"' to go along with '"+k+"'.",e[k][0].name.line,e[k][0].name.col,a)}var a=this,e,g,h={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius",
"-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius",
"-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width",
"-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing",
"-moz-user-select":"user-select","-khtml-user-select":"user-select","-webkit-user-select":"user-select"};d.addListener("startrule",f);d.addListener("startfontface",f);d.addListener("startpage",f);d.addListener("startpagemargin",f);d.addListener("startkeyframerule",f);d.addListener("property",function(a){var b=a.property.text.toLowerCase();e[b]||(e[b]=[]);e[b].push({name:a.property,value:a.value,pos:g++})});d.addListener("endrule",b);d.addListener("endfontface",b);d.addListener("endpage",b);d.addListener("endpagemargin",
b);d.addListener("endkeyframerule",b)}});f.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don't need to specify units when a value is 0.",browsers:"All",init:function(d,c){var f=this;d.addListener("property",function(b){b=b.value.parts;for(var a=0,e=b.length;a<e;)(b[a].units||"percentage"==b[a].type)&&(0===b[a].value&&"time"!=b[a].type)&&c.report("Values of 0 shouldn't have units specified.",b[a].line,b[a].col,f),a++})}});(function(){var d=function(c){return!c||c.constructor!==
String?"":c.replace(/[\"&><]/g,function(c){switch(c){case '"':return"\x26quot;";case "\x26":return"\x26amp;";case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;"}})};f.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return'\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e\x3ccheckstyle\x3e'},endFormat:function(){return"\x3c/checkstyle\x3e"},readError:function(c,f){return'\x3cfile name\x3d"'+d(c)+'"\x3e\x3cerror line\x3d"0" column\x3d"0" severty\x3d"error" message\x3d"'+
d(f)+'"\x3e\x3c/error\x3e\x3c/file\x3e'},formatResults:function(c,g,b){c=c.messages;var a=[];0<c.length&&(a.push('\x3cfile name\x3d"'+g+'"\x3e'),f.Util.forEach(c,function(b,c){b.rollup||a.push('\x3cerror line\x3d"'+b.line+'" column\x3d"'+b.col+'" severity\x3d"'+b.type+'" message\x3d"'+d(b.message)+'" source\x3d"'+(!b.rule||!("name"in b.rule)?"":"net.csslint."+b.rule.name.replace(/\s/g,""))+'"/\x3e')}),a.push("\x3c/file\x3e"));return a.join("")}})})();f.addFormatter({id:"compact",name:"Compact, 'porcelain' format",
startFormat:function(){return""},endFormat:function(){return""},formatResults:function(d,c,g){d=d.messages;var b="";g=g||{};if(0===d.length)return g.quiet?"":c+": Lint Free!";f.Util.forEach(d,function(a,e){b=a.rollup?b+(c+": "+(a.type.charAt(0).toUpperCase()+a.type.slice(1))+" - "+a.message+"\n"):b+(c+": line "+a.line+", col "+a.col+", "+(a.type.charAt(0).toUpperCase()+a.type.slice(1))+" - "+a.message+"\n")});return b}});f.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return'\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e\x3ccsslint\x3e'},
endFormat:function(){return"\x3c/csslint\x3e"},formatResults:function(d,c,g){d=d.messages;var b=[],a=function(a){return!a||a.constructor!==String?"":a.replace(/\"/g,"'").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")};0<d.length&&(b.push('\x3cfile name\x3d"'+c+'"\x3e'),f.Util.forEach(d,function(c,d){c.rollup?b.push('\x3cissue severity\x3d"'+c.type+'" reason\x3d"'+a(c.message)+'" evidence\x3d"'+a(c.evidence)+'"/\x3e'):b.push('\x3cissue line\x3d"'+c.line+'" char\x3d"'+c.col+
'" severity\x3d"'+c.type+'" reason\x3d"'+a(c.message)+'" evidence\x3d"'+a(c.evidence)+'"/\x3e')}),b.push("\x3c/file\x3e"));return b.join("")}});f.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat:function(){return'\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e\x3ctestsuites\x3e'},endFormat:function(){return"\x3c/testsuites\x3e"},formatResults:function(d,c,f){d=d.messages;var b=[],a={error:0,failure:0},e=function(a){return!a||a.constructor!==String?"":a.replace(/\"/g,"'").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;")};0<d.length&&(d.forEach(function(c,d){var f="warning"===c.type?"error":c.type;c.rollup||(b.push('\x3ctestcase time\x3d"0" name\x3d"'+(!c.rule||!("name"in c.rule)?"":"net.csslint."+c.rule.name.replace(/\s/g,""))+'"\x3e'),b.push("\x3c"+f+' message\x3d"'+e(c.message)+'"\x3e\x3c![CDATA['+c.line+":"+c.col+":"+e(c.evidence)+"]]\x3e\x3c/"+f+"\x3e"),b.push("\x3c/testcase\x3e"),a[f]+=1)}),b.unshift('\x3ctestsuite time\x3d"0" tests\x3d"'+d.length+'" skipped\x3d"0" errors\x3d"'+
a.error+'" failures\x3d"'+a.failure+'" package\x3d"net.csslint" name\x3d"'+c+'"\x3e'),b.push("\x3c/testsuite\x3e"));return b.join("")}});f.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return'\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e\x3clint\x3e'},endFormat:function(){return"\x3c/lint\x3e"},formatResults:function(d,c,g){d=d.messages;var b=[],a=function(a){return!a||a.constructor!==String?"":a.replace(/\"/g,"'").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,
"\x26gt;")};0<d.length&&(b.push('\x3cfile name\x3d"'+c+'"\x3e'),f.Util.forEach(d,function(c,d){c.rollup?b.push('\x3cissue severity\x3d"'+c.type+'" reason\x3d"'+a(c.message)+'" evidence\x3d"'+a(c.evidence)+'"/\x3e'):b.push('\x3cissue line\x3d"'+c.line+'" char\x3d"'+c.col+'" severity\x3d"'+c.type+'" reason\x3d"'+a(c.message)+'" evidence\x3d"'+a(c.evidence)+'"/\x3e')}),b.push("\x3c/file\x3e"));return b.join("")}});f.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},
formatResults:function(d,c,g){d=d.messages;var b="";g=g||{};if(0===d.length)return g.quiet?"":"\n\ncsslint: No errors in "+c+".";b="\n\ncsslint: There are "+d.length+" problems in "+c+".";g=c.lastIndexOf("/");var a=c;-1===g&&(g=c.lastIndexOf("\\"));-1<g&&(a=c.substring(g+1));f.Util.forEach(d,function(c,d){b=b+"\n\n"+a;c.rollup?(b+="\n"+(d+1)+": "+c.type,b+="\n"+c.message):(b+="\n"+(d+1)+": "+c.type+" at line "+c.line+", col "+c.col,b+="\n"+c.message,b+="\n"+c.evidence)});return b}});return f}()});
s("webtools/cssContentAssist","orion/Deferred orion/editor/templates orion/editor/stylers/text_css/syntax orion/objects webtools/util javascript/compilationUnit csslint".split(" "),function(m,h,g,f,d,c,k){function b(a){return JSON.stringify(a).replace("}","\\}")}function a(a){this._resultManager=a}var e={type:"link",values:"visible hidden scroll auto no-display no-content".split(" ")},n={type:"link",values:"solid dashed dotted double groove ridge inset outset".split(" ")},r={type:"link",values:[]};
r.values.push("0");for(var p=1;10>p;p++)r.values.push(p.toString()+"px");k={type:"link",values:Object.keys(k.Colors)};for(var s=[{prefix:"rule",description:"rule - class selector rule",template:".${class} {\n\t${cursor}\n}"},{prefix:"rule",description:"rule - id selector rule",template:"#${id} {\n\t${cursor}\n}"},{prefix:"outline",description:"outline - outline style",template:"outline: ${color:"+b(k)+"} ${style:"+b(n)+"} ${width:"+b(r)+"};"},{prefix:"background-image",description:"background-image - image style",
template:'background-image: url("${uri}");'},{prefix:"url",description:"url - url image",template:'url("${uri}");'},{prefix:"rgb",description:"rgb - rgb color",template:"rgb(${red},${green},${blue});"},{prefix:"@import",description:"import - import style sheet",template:'@import "${uri}";'},{prefix:"csslint",description:"csslint - add embedded rule severity",template:"/*csslint ${:"+b({type:"link",values:"adjoining-classes box-model box-sizing bulletproof-font-face compatible-vendor-prefixes display-property-grouping duplicate-background-images duplicate-properties empty-rules fallback-colors floats font-faces font-sizes gradients ids import important known-properties outline-none overqualified-elements qualified-headings regex-selectors rules-count selector-max-approaching selector-max shorthand star-property-hack text-indent underscore-property-hack unique-headings universal-selector unqualified-attributes vendor-prefix zero-units".split(" ")})+
"}: ${a:"+b({type:"link",values:["false","true","0","1","2"]})+"} */"}],t=[{prop:"display",values:{type:"link",values:"none block box flex inline inline-block inline-flex inline-table list-item table table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group inherit".split(" ")}},{prop:"overflow",values:e},{prop:"overflow-x",values:e},{prop:"overflow-y",values:e},{prop:"float",values:{type:"link",values:["left","right","none","inherit"]}},
{prop:"position",values:{type:"link",values:["absolute","fixed","relative","static","inherit"]}},{prop:"cursor",values:{type:"link",values:"auto crosshair default e-resize help move n-resize ne-resize nw-resize pointer progress s-resize se-resize sw-resize text w-resize wait inherit".split(" ")}},{prop:"color",values:k},{prop:"border-top-color",values:k},{prop:"border-bottom-color",values:k},{prop:"border-right-color",values:k},{prop:"border-left-color",values:k},{prop:"background-color",values:k},
{prop:"font-style",values:{type:"link",values:["italic","normal","oblique","inherit"]}},{prop:"font-weight",values:{type:"link",values:"bold normal bolder lighter 100 200 300 400 500 600 700 800 900 inherit".split(" ")}},{prop:"white-space",values:{type:"link",values:"pre pre-line pre-wrap nowrap normal inherit".split(" ")}},{prop:"word-wrap",values:{type:"link",values:["normal","break-word"]}},{prop:"visibility",values:{type:"link",values:["hidden","visible","collapse","inherit"]}}],p=0;p<t.length;p++)e=
t[p],s.push({prefix:e.prop,description:e.prop+" - "+e.prop+" style",template:e.prop+": ${value:"+b(e.values)+"};"});t="width height top bottom left right min-width min-height max-width max-height margin padding padding-left padding-right padding-top padding-bottom margin-left margin-top margin-bottom margin-right".split(" ");for(p=0;p<t.length;p++)e=t[p],s.push({prefix:e,description:e+" - "+e+" pixel style",template:e+": ${value}px;"});t=["padding","margin"];for(p=0;p<t.length;p++)e=t[p],s.push({prefix:e,
description:e+" - "+e+" top right bottom left style",template:e+": ${top}px ${left}px ${bottom}px ${right}px;"}),s.push({prefix:e,description:e+" - "+e+" top right,left bottom style",template:e+": ${top}px ${right_left}px ${bottom}px;"}),s.push({prefix:e,description:e+" - "+e+" top,bottom right,left style",template:e+": ${top_bottom}px ${right_left}px"});t=["border","border-top","border-bottom","border-left","border-right"];for(p=0;p<t.length;p++)e=t[p],s.push({prefix:e,description:e+" - "+e+" style",
template:e+": ${width:"+b(r)+"} ${style:"+b(n)+"} ${color:"+b(k)+"};"});var C=new h.TemplateContentAssist(g.keywords,s);f.mixin(a.prototype,{getPrefix:function(a,b,c){for(c=b;c&&/[A-Za-z\-\@]/.test(a.charAt(c-1));)c--;return 0<=c?a.substring(c,b):""},computeContentAssist:function(a,b){var e=this;return m.when(a.getFileMetadata(),function(f){return"text/html"===f.contentType.id?m.when(a.getText(),function(a){var g=d.findStyleBlocks(a,b.offset);if(g&&0<g.length)return g=new c(g,f),e._computeProposals(g.getEditorContext(),
a,b)}):m.when(a.getText(),function(c){return e._computeProposals(a,c,b)})})},_computeProposals:function(a,b,c){return[].concat(C.computeProposals(b,c.offset,c))},_getCompletionContext:function(a,b){return this._resultManager?this._resultManager.getResult(a).then(function(a){if(a){var c=d.findToken(b.offset,a.tokens);if(c)switch(c.type){case "EOF":if(1<a.tokens.length&&(c=a.tokens[a.tokens.length-2]))return{prefix:c.value,value:"root"}}}return null}):null}});return{CssContentAssistProvider:a}});s("webtools/compilationUnit",
["orion/objects","orion/Deferred","javascript/compilationUnit"],function(m,h,g){m.mixin(g.prototype,{getSource:function(){var f=[];if(this._ec&&this._ec.getLineAtOffset)for(var d=0;d<this._blocks.length;d++){var c=this._blocks[d].offset,g=this._blocks[d].text.length;f.push(this._ec.getLineAtOffset(c));f.push(this._ec.getLineAtOffset(c+g))}var b=this;return h.all(f).then(function(a){for(var c=0,d=0,f="",g=0;g<b._blocks.length;g++){for(var k=b._blocks[g],c=k.offset-c,h=a&&a.length>2*g?a[2*g]:0,h=h-
d;0<c&&0<h;)f+="\n",c--,h--;for(;0<c;)f+=" ",c--;f+=k.text;c=f.length;d=a&&a.length>2*g?a[2*g+1]:0}return f})}});return g});s("webtools/cssValidator",["orion/objects","webtools/compilationUnit","webtools/util"],function(m,h,g){function f(c){this.cssResultManager=c}var d={rules:{"adjoining-classes":1,"box-model":1,"box-sizing":1,"bulletproof-font-face":1,"compatible-vendor-prefixes":1,"display-property-grouping":1,"duplicate-background-images":1,"duplicate-properties":1,"empty-rules":1,"fallback-colors":1,
floats:1,"font-faces":1,"font-sizes":1,gradients:1,ids:1,"import":1,important:1,"known-properties":1,"outline-none":1,"overqualified-elements":1,"qualified-headings":1,"regex-selectors":1,"rules-count":1,"selector-max-approaching":1,"selector-max":1,shorthand:1,"star-property-hack":1,"text-indent":1,"underscore-property-hack":1,"unique-headings":1,"universal-selector":1,"unqualified-attributes":1,"vendor-prefix":1,"zero-units":1},getRuleSet:function(){return JSON.parse(JSON.stringify(this.rules))},
setOption:function(c,d,b){"number"===typeof d&&(Array.isArray(this.rules[c])?(c=this.rules[c],b?(c[1]=c[1]||{},c[1][b]=d):c[0]=d):this.rules[c]=d)}};m.mixin(f.prototype,{computeProblems:function(c,f){var b=this;return c.getFileMetadata().then(function(a){return a&&"text/html"===a.contentType.id?!c.getLineAtOffset?null:c.getText().then(function(e){if((e=g.findStyleBlocks(e,f.offset))&&0<e.length)return e=new h(e,a,c),b.cssResultManager.getResult(e.getEditorContext(),d).then(function(a){return a?b._computeProblems(a):
null})}):b.cssResultManager.getResult(c,d).then(function(a){return a?b._computeProblems(a):null})})},_computeProblems:function(c){c=c.messages;for(var d=[],b=0;b<c.length;b++){var a=c[b],e=null;a.token?e=[a.token.range[0]+1,a.token.range[1]+1]:a.line&&(e=this._getProblemRange(a));e&&d.push({id:this._getProblemId(a),description:a.message,line:a.line,start:e[0],end:e[1],severity:a.type})}return{problems:d}},_getProblemId:function(c){return c.rule&&c.rule.id?c.rule.id:null},_getProblemRange:function(c){if(!c.rule||
!c.rule.id||"errors"===c.rule.id)return[1,c.evidence.length+1];var d=this._findToken(c.evidence,c.col);return[c.col,c.col+(d?d.length:1)]},_punc:"\n\t\r (){}[]:;,",_findToken:function(c,d){if(c&&d){for(var b=-1<this._punc.indexOf(c.charAt(d)),a=b?d-1:d;0<=a&&!(-1<this._punc.indexOf(c.charAt(a)));)a--;for(var e=a,a=d;a<=c.length&&!(-1<this._punc.indexOf(c.charAt(a)));)a++;if(!((e===d||b&&e===d-1)&&a===d))return e===d?c.substring(e,a):c.substring(e+1,a)}return null},updated:function(c){c&&(d.setOption("adjoining-classes",
c.validate_adjoining_classes),d.setOption("box-model",c.validate_box_model),d.setOption("box-sizing",c.validate_box_sizing),d.setOption("compatible-vendor-prefixes",c.validate_compatible_vendor_prefixes),d.setOption("display-property-grouping",c.validate_display_property_grouping),d.setOption("duplicate-background-images",c.validate_duplicate_background_images),d.setOption("duplicate-properties",c.validate_duplicate_properties),d.setOption("empty-rules",c.validate_empty_rules),d.setOption("fallback-colors",
c.validate_fallback_colors),d.setOption("floats",c.validate_floats),d.setOption("font-faces",c.validate_font_faces),d.setOption("font-sizes",c.validate_font_sizes),d.setOption("gradients",c.validate_gradients),d.setOption("ids",c.validate_ids),d.setOption("import",c.validate_imports),d.setOption("important",c.validate_important),d.setOption("known-properties",c.validate_known_properties),d.setOption("outline-none",c.validate_outline_none),d.setOption("overqualified-elements",c.validate_overqualified_elements),
d.setOption("qualified-headings",c.validate_qualified_headings),d.setOption("regex-selectors",c.validate_regex_selectors),d.setOption("rules-count",c.validate_rules_count),d.setOption("selector-max-approaching",c.validate_selector_max_approaching),d.setOption("selector-max",c.validate_selector_max),d.setOption("shorthand",c.validate_shorthand),d.setOption("star-property-hack",c.validate_star_property_hack),d.setOption("text-indent",c.validate_text_indent),d.setOption("underscore-property-hack",c.validate_underscore_property_hack),
d.setOption("unique-headings",c.validate_unique_headings),d.setOption("universal-selector",c.validate_universal_selector),d.setOption("unqualified-attributes",c.validate_unqualified_attributes),d.setOption("vendor-prefix",c.validate_vendor_prefix),d.setOption("zero-units",c.validate_zero_units))},_enableOnly:function(c,f){d.archivedRules={};for(var b=Object.keys(d.rules),a=0;a<b.length;a++)c?b[a]===c?(d.archivedRules[c]=d.rules[c],d.setOption(c,f?f:2)):(d.archivedRules[b[a]]=d.rules[c],d.setOption(b[a],
0)):(d.archivedRules[b[a]]=d.rules[c],d.setOption(b[a],f?f:2))},_restoreRules:function(){d.archivedRules&&(d.rules=d.archivedRules,d.archivedRules=void 0)},_defaultRuleSet:function(){return d.getRuleSet()}});return f});s("webtools/cssOutliner",["csslint","orion/objects"],function(m,h){function g(){m.addRule(g.prototype._outlineRule)}h.mixin(g.prototype,{getOutline:function(f,d){m.verify(f);return this._outlineRule.outline},_outlineRule:{id:"css-outline",name:"CSS outline",desc:"CSS outline helper rule",
browsers:"All",outline:[],init:function(f,d){this.outline=[];var c=this;f.addListener("startrule",function(d){if((d=d.selectors)&&d.length){for(var b=[],a=null,e=null,f=null,g=0;g<d.length;g++){var h=d[g];if(h.parts&&0<h.parts.length){var m=h.parts[0];null===a&&(a=m.line);null===e&&(e=m.col-1);null===f&&(f=m.text.length)}null===a&&(a=h.line);null===e&&(e=h.col-1);null===f&&(f=h.text.length);b.push(h.text)}c.outline.push({label:b.join(", "),line:a,offset:e,length:f})}})}}});return{CssOutliner:g}});
s("webtools/nls/messages",{root:!0});s("webtools/nls/root/messages",{htmlOutline:"HTML Outline",htmlHover:"HTML Hover",htmlContentAssist:"HTML Content Assist",css:"CSS",cssOutline:"CSS Rule Outline",cssContentAssist:"CSS Content Assist",cssHover:"CSS Hover",csslintValidator:"CSS Validator",pluginName:"Orion Web Tools Support",pluginDescription:"This plug-in provides web language tools support for Orion, including HTML and CSS.",fontHoverExampleText:"Lorem ipsum dolor...",ignore:"Ignore",warning:"Warning",
error:"Error","adjoining-classes":"Disallow adjoining classes:","box-model":"Beware of broken box size:","box-sizing":"Disallow use of box-sizing:","bulletproof-font-face":"Use the bulletproof @font-face syntax:","compatible-vendor-prefixes":"Require compatible vendor prefixes:","display-property-grouping":"Require properties appropriate for display:","duplicate-background-images":"Disallow duplicate background images:","duplicate-properties":"Disallow duplicate properties:","empty-rules":"Disallow empty rules:",
"fallback-colors":"Require fallback colors:",floats:"Disallow too many floats:","font-faces":"Don't use too many web fonts:","font-sizes":"Disallow too many font sizes:",gradients:"Require all gradient definitions:",ids:"Disallow IDs in selectors:","import":"Disallow @import:",important:"Disallow !important:","known-properties":"Require use of known properties:","outline-none":"Disallow outline: none:","overqualified-elements":"Disallow overqualified elements:","qualified-headings":"Disallow qualified headings:",
"regex-selectors":"Disallow selectors that look like regexs:","rules-count":"Rules Count:","selector-max-approaching":"Warn when approaching the 4095 selector limit for IE:","selector-max":"Error when past the 4095 selector limit for IE:",shorthand:"Require shorthand properties:","star-property-hack":"Disallow properties with a star prefix:","text-indent":"Disallow negative text-indent:","underscore-property-hack":"Disallow properties with an underscore prefix:","unique-headings":"Headings should only be defined once:",
"universal-selector":"Disallow universal selector:","unqualified-attributes":"Disallow unqualified attribute selectors:","vendor-prefix":"Require standard property with vendor prefix:","zero-units":"Disallow units for 0 values:","quickfix-empty-rules":"Remove the rule.","quickfix-important":"Remove '!important' annotation.","quickfix-zero-units":"Remove 'px' qualifier."});s("webtools/cssHover","orion/objects orion/URITemplate webtools/util javascript/compilationUnit i18n!webtools/nls/messages csslint".split(" "),
function(m,h,g,f,d,c){function k(b,a){this.resolver=b;this.cssResultManager=a}m.mixin(k.prototype,{computeHoverInfo:function(b,a){var c=this;return b.getFileMetadata().then(function(d){return"text/html"===d.contentType.id?b.getText().then(function(b){if((b=g.findStyleBlocks(b))&&0<b.length)if(b=new f(b,d),b.validOffset(a.offset))return c.cssResultManager.getResult(b.getEditorContext(),c._emptyRuleSet()).then(function(b){return c._doHover(b,a,d)})}):c.cssResultManager.getResult(b,c._emptyRuleSet()).then(function(b){return c._doHover(b,
a,d)})})},_doHover:function(b,a,d){if(b&&(a=g.findToken(a.offset,b.tokens))){if(this.hasPreviousToken(a,b.tokens,"IMPORT_SYM"))return this._getFileHover(a,d);if(this.hasPreviousToken(a,b.tokens,"IDENT","background background-image -webkit-border-image -o-border-image border-image border-image-source icon".split(" ")))return this._getImageHover(a,d);if(d=this._isRgbLike(a,b.tokens))if(d=this._collectColorId(d,b.tokens))return this._getColorHover(d);if(c.Colors[a.value]||/\#[0-9A-Fa-f]{1,6}/.test(a.value))return this._getColorHover(a.value);
if(d=this._isFontLike(a,b.tokens))if(b=this._collectFontId(d,b.tokens))return this._getFontHover(d.value,b)}return null},_emptyRuleSet:function(){var b=Object.create(null);b.getRuleSet=function(){return null};return b},fontLikeNames:"font-family font font-size font-size-adjust font-stretch font-style font-variant font-weight text-decoration text-shadow text-transform".split(" "),_isFontLike:function(b,a){if(b&&a)for(var c=b.index;-1<c;c--){var d=a[c];if(!("IDENT"===d.type||"COMMA"===d.type||"STRING"===
d.type||"LENGTH"===d.type||"NUMBER"===d.type||"HASH"===d.type)){if("COLON"===d.type&&(d=a[c-1],"IDENT"===d.type&&-1<this.fontLikeNames.indexOf(d.value.toLowerCase())))return d.index=c-1,d;break}}return null},_collectFontId:function(b,a){if(b&&a){var c="",d=null,d=b.index;if("COLON"!==a[d+1].type)return null;++d;for(var f=d+1;f<a.length;f++)if(d=a[f],"IDENT"===d.type||"COMMA"===d.type||"STRING"===d.type||"NUMBER"===d.type||"LENGTH"===d.type||"HASH"===d.type)c+=d.value,f<a.length-1&&(c+=" ");else{if("RBRACE"===
d.type||"SEMICOLON"===d.type||"RPAREN"===d.type)return c;break}}return null},_getFontHover:function(b,a){return{type:"html",content:'\x3chtml\x3e\x3cbody style\x3d"background-color:white"\x3e\x3cdiv style\x3d"'+b+":"+a+';margin:0px"\x3e'+d.fontHoverExampleText+"\x3c/div\x3e\x3c/body\x3e\x3c/html\x3e",height:"42px",width:"235px"}},_isColorFnName:function(b){b=b.toLowerCase();return"rgba("===b||"rgb("===b||"hsl("===b||"hsla("===b},_isRgbLike:function(b,a){if("FUNCTION"===b.type&&this._isColorFnName(b.value.toLowerCase()))return b;
var c=this._isRgbLikeBody(b,a);return c?c:null},_isRgbLikeBody:function(b,a){if(b&&a)for(var c=b.index;-1<c;c--){var d=a[c];if(!("NUMBER"===d.type||"COMMA"===d.type||"PERCENTAGE"===d.type)){if("FUNCTION"===d.type&&this._isColorFnName(d.value))return d.index=c,d;break}}return null},_collectColorId:function(b,a){if(b&&a)for(var c=b.value,d=null,f=b.index+1;f<a.length;f++)if(d=a[f],"COMMA"===d.type||"NUMBER"===d.type||"PERCENTAGE"===d.type)c+=d.value;else{if("RPAREN"===d.type)return c+=d.value;break}return null},
hasPreviousToken:function(b,a,c,d){if(b&&a)switch(b.type){case "URI":case "STRING":if(0<b.index){var f=null;for(b=b.index-1;0<=b&&!(f=a[b],!("COLON"===f.type||"STRING"===f.type||"URI"===f.type||"COMMA"===f.type));b--);return Array.isArray(d)&&f&&-1<d.indexOf(f.value)?!0:d&&f&&f.type===c?d===f.value:f&&f.type===c}}return!1},_getFileHover:function(b,a){var c=this._getPathFromToken(b);if(c){if(/^http/i.test(c))return this._formatFilesHover(c);var d=this;return d.resolver.getWorkspaceFile(c,{ext:"css",
type:"CSS",icon:"../webtools/images/css.png"}).then(function(b){if(b&&0<b.length&&(b=d.resolver.resolveRelativeFiles(c,b,a),0<b.length))return d._formatFilesHover(c,b)})}return null},_getPathFromToken:function(b){var a=b.value;switch(b.type){case "STRING":a=b.value.slice(1,b.value.length-1);break;case "URI":if(a=/^\s*(?:url)\s*\(\s*(.*)\s*\)/i.exec(b.value)){a=a[1];b=a.charAt(0);if("'"===b||'"'===b)a=a.slice(1);b=a.charAt(a.length-1);if("'"===b||'"'===b)a=a.slice(0,a.length-1)}else return null}return a},
_formatFilesHover:function(b,a){if(b){var c=null;1<a.length&&(c="###Open file for '"+b+"'###");var d="";if(Array.isArray(a))for(var f=0;f<a.length;f++){var g=a[f];if(g.name&&g.path&&g.contentType){d+="[";g.contentType.icon&&(d+="!["+g.contentType.name+"]("+g.contentType.icon+")");var k=(new h("#{,resource,params*}")).expand({resource:g.location,params:{}}),d=d+(g.name+"]("+k+") - "+g.path+"\n\n")}}else f=b.slice(b.lastIndexOf("/")+1),c="###Open file for '"+f+"'###",d=d+("[!["+f+"](../webtools/images/css.png)")+
(f+"]("+b+") - "+b+"\n\n");if(""!==d)return{title:c,content:d,type:"markdown",allowFullWidth:!0}}return null},_getImageHover:function(b,a){var c=this._getPathFromToken(b),d=this;if(c){if(/^http/i.test(c)||/^data:image.*;base64/i.test(c))return{type:"html",content:'\x3chtml\x3e\x3cbody style\x3d"margin:1px;"\x3e\x3cimg src\x3d"'+c+'" style\x3d"width:100%;height:100%;"/\x3e\x3c/body\x3e\x3c/html\x3e',width:"100px",height:"100px"};var f=c.lastIndexOf(".");if(-1<f)return f=c.slice(f+1),d.resolver.getWorkspaceFile(c,
{ext:f,type:"Image",icon:"../webtools/images/file.png"}).then(function(b){if(b&&(b=d.resolver.resolveRelativeFiles(c,b,a),0<b.length))return{type:"html",content:'\x3chtml\x3e\x3cbody style\x3d"margin:1px;"\x3e\x3cimg src\x3d"'+b[0].location+'" style\x3d"width:100%;height:100%;"/\x3e\x3c/body\x3e\x3c/html\x3e',width:"100px",height:"100px"}})}},_getColorHover:function(b){return{type:"html",content:'\x3chtml\x3e\x3cbody style\x3d"background-color: '+b+';"\x3e\x3c/html\x3e',width:"50px",height:"25px"}}});
k.prototype.contructor=k;return{CSSHover:k}});s("webtools/cssQuickFixes",["orion/objects","orion/metrics"],function(m,h){function g(){}m.mixin(g.prototype,{execute:function(f,d){var c=d.annotation.id;h.logEvent("language tools","quickfix",c,"text/css");return(c=this[c])?c(f,d.annotation):null},"empty-rules":function(f,d){return f.getText().then(function(c){for(var g=d.start;0<=g&&(" "===c[g-1]||"\t"===c[g-1]);)g--;c=c.substring(d.start);return(c=c.match(/.*{\s*}\s*/,""))?f.setText("",g,g+c[0].length):
null})},important:function(f,d){return f.getText().then(function(c){c=c.substring(d.start);var g=c.search(/\s*\!important/i),b=c.search(/[;}]/);return 1!==g&&-1!==b&&g<b?(c=c.substring(g,b),c=c.replace(/\s*\!important/gi,""),f.setText(c,d.start+g,d.start+b)):null})},"zero-units":function(f,d){return f.getText().then(function(c){c=c.substring(d.start,d.end);c=c.replace(/0px/gi,"0");return f.setText(c,d.start,d.end)})}});g.prototype.contructor=g;return{CssQuickFixes:g}});s("webtools/cssResultManager",
["orion/Deferred","orion/objects","javascript/lru","csslint","orion/metrics"],function(m,h,g,f,d){function c(){this.cache=new g.LRU(10)}h.mixin(c.prototype,{getResult:function(c,b){"undefined"===typeof b&&(b=Object.create(null));"undefined"===typeof b.getRuleSet&&(b.getRuleSet=function(){return null});var a=this;return c.getFileMetadata().then(function(e){e=e||{};var g=a._getKey(e),h=a.cache.get(g);return h?(new m).resolve(h):c.getText().then(function(c){var k=Date.now();h=f.verify(c,b.getRuleSet());
c=Date.now()-k;d.logTiming("language tools","parse",c,"text/css");a.cache.put(g,h);e.location&&(h.fileLocation=e.location);return h})})},_getKey:function(c){return!c.location?"unknown":c.location},onModelChanging:function(c){this.inputChanged?this.inputChanged=null:this.cache.remove(this._getKey(c.file))},onInputChanged:function(c){this.inputChanged=c}});return{CssResultManager:c}});s("webtools/plugins/webToolsPlugin","orion/plugin orion/bootstrap orion/fileClient orion/metrics webtools/htmlAstManager webtools/htmlHover javascript/scriptResolver webtools/htmlContentAssist webtools/htmlOutliner orion/editor/stylers/text_html/syntax webtools/cssContentAssist webtools/cssValidator webtools/cssOutliner webtools/cssHover webtools/cssQuickFixes webtools/cssResultManager orion/editor/stylers/text_css/syntax i18n!webtools/nls/messages".split(" "),
function(m,h,g,f,d,c,k,b,a,e,n,r,p,s,t,C,z,q){var w=new m({name:q.pluginName,version:"1.0",description:q.pluginDescription});h.startup().then(function(h){w.registerServiceProvider("orion.core.contenttype",{},{contentTypes:[{id:"text/html","extends":"text/plain",name:"HTML",extension:["html","htm"],imageClass:"file-sprite-html modelDecorationSprite"},{id:"text/css","extends":"text/plain",name:"CSS",extension:["css"],imageClass:"file-sprite-css modelDecorationSprite"}]});f.initFromRegistry(h.serviceRegistry);
var m=new g.FileClient(h.serviceRegistry);w.registerService("orion.edit.contentassist",new b.HTMLContentAssistProvider,{name:q.htmlContentAssist,contentType:["text/html"],charTriggers:"\x3c",excludedStyles:"(comment.*|string.*)"});h=new C.CssResultManager;w.registerService("orion.edit.model",{onModelChanging:h.onModelChanging.bind(h),onInputChanged:h.onInputChanged.bind(h)},{contentType:["text/css","text/html"],types:["ModelChanging","Destroy","onSaving","onInputChanged"]});w.registerService("orion.edit.contentassist",
new n.CssContentAssistProvider(h),{name:q.cssContentAssist,contentType:["text/css","text/html"]});w.registerService(["orion.edit.validator","orion.cm.managedservice"],new r(h),{contentType:["text/css","text/html"],pid:"csslint.config"});var B=new d.HtmlAstManager;w.registerService("orion.edit.model",{onModelChanging:B.onModelChanging.bind(B),onInputChanged:B.onInputChanged.bind(B)},{contentType:["text/html"],types:["ModelChanging","Destroy","onSaving","onInputChanged"]});w.registerService("orion.edit.outliner",
new a.HtmlOutliner(B),{id:"orion.webtools.html.outliner",name:q.htmlOutline,contentType:["text/html"]});w.registerService("orion.edit.outliner",new p.CssOutliner,{id:"orion.outline.css.outliner",name:q.cssOutline,contentType:["text/css"]});var y={};z.grammars.forEach(function(a){y[a.id]=a});e.grammars.forEach(function(a){y[a.id]=a});for(var E in y)y.hasOwnProperty(E)&&w.registerService("orion.edit.highlighter",{},y[E]);E=new k.ScriptResolver(m);w.registerService("orion.edit.hover",new s.CSSHover(E,
h),{name:q.cssHover,contentType:["text/css","text/html"]});w.registerService("orion.edit.hover",new c.HTMLHover(B,E),{name:q.htmlHover,contentType:["text/html"]});h=new t.CssQuickFixes;w.registerServiceProvider("orion.edit.command",h,{name:q["quickfix-empty-rules"],scopeId:"orion.edit.quickfix",id:"quickfix-empty-rules",contentType:["text/css","text/html"],validationProperties:[{source:"annotation:id",match:"empty-rules"}]});w.registerServiceProvider("orion.edit.command",h,{name:q["quickfix-important"],
scopeId:"orion.edit.quickfix",id:"quickfix-important",contentType:["text/css","text/html"],validationProperties:[{source:"annotation:id",match:"important"}]});w.registerServiceProvider("orion.edit.command",h,{name:q["quickfix-zero-units"],scopeId:"orion.edit.quickfix",id:"quickfix-zero-units",contentType:["text/css","text/html"],validationProperties:[{source:"annotation:id",match:"zero-units"}]});h=[{label:q.ignore,value:0},{label:q.warning,value:1},{label:q.error,value:2}];w.registerService("orion.core.setting",
{},{settings:[{pid:"csslint.config",name:q.csslintValidator,tags:["validation","webtools","css","csslint"],category:"css",categoryLabel:q.css,properties:[{id:"validate_adjoining_classes",name:q["adjoining-classes"],type:"number",defaultValue:1,options:h},{id:"validate_box_model",name:q["box-model"],type:"number",defaultValue:1,options:h},{id:"validate_box_sizing",name:q["box-sizing"],type:"number",defaultValue:1,options:h},{id:"validate_bulletproof_font_face",name:q["bulletproof-font-face"],type:"number",
defaultValue:1,options:h},{id:"validate_compatible_vendor_prefixes",name:q["compatible-vendor-prefixes"],type:"number",defaultValue:1,options:h},{id:"validate_display_property_grouping",name:q["display-property-grouping"],type:"number",defaultValue:1,options:h},{id:"validate_duplicate_background_images",name:q["duplicate-background-images"],type:"number",defaultValue:1,options:h},{id:"validate_duplicate_properties",name:q["duplicate-properties"],type:"number",defaultValue:1,options:h},{id:"validate_empty_rules",
name:q["empty-rules"],type:"number",defaultValue:1,options:h},{id:"validate_fallback_colors",name:q["fallback-colors"],type:"number",defaultValue:1,options:h},{id:"validate_floats",name:q.floats,type:"number",defaultValue:1,options:h},{id:"validate_font_faces",name:q["font-faces"],type:"number",defaultValue:1,options:h},{id:"validate_font_sizes",name:q["font-sizes"],type:"number",defaultValue:1,options:h},{id:"validate_gradients",name:q.gradients,type:"number",defaultValue:1,options:h},{id:"validate_ids",
name:q.ids,type:"number",defaultValue:1,options:h},{id:"validate_imports",name:q["import"],type:"number",defaultValue:1,options:h},{id:"validate_important",name:q.important,type:"number",defaultValue:1,options:h},{id:"validate_known_properties",name:q["known-properties"],type:"number",defaultValue:1,options:h},{id:"validate_outline_none",name:q["outline-none"],type:"number",defaultValue:1,options:h},{id:"validate_overqualified_elements",name:q["overqualified-elements"],type:"number",defaultValue:1,
options:h},{id:"validate_qualified_headings",name:q["qualified-headings"],type:"number",defaultValue:1,options:h},{id:"validate_regex_selectors",name:q["regex-selectors"],type:"number",defaultValue:1,options:h},{id:"validate_rules_count",name:q["rules-count"],type:"number",defaultValue:1,options:h},{id:"validate_selector_max_approaching",name:q["selector-max-approaching"],type:"number",defaultValue:1,options:h},{id:"validate_selector_max",name:q["selector-max"],type:"number",defaultValue:1,options:h},
{id:"validate_shorthand",name:q.shorthand,type:"number",defaultValue:1,options:h},{id:"validate_star_property_hack",name:q["star-property-hack"],type:"number",defaultValue:1,options:h},{id:"validate_text_indent",name:q["text-indent"],type:"number",defaultValue:1,options:h},{id:"validate_underscore_property_hack",name:q["underscore-property-hack"],type:"number",defaultValue:1,options:h},{id:"validate_unique_headings",name:q["unique-headings"],type:"number",defaultValue:1,options:h},{id:"validate_universal_selector",
name:q["universal-selector"],type:"number",defaultValue:1,options:h},{id:"validate_unqualified_attributes",name:q["unqualified-attributes"],type:"number",defaultValue:1,options:h},{id:"validate_vendor_prefix",name:q["vendor-prefix"],type:"number",defaultValue:1,options:h},{id:"validate_zero_units",name:q["zero-units"],type:"number",defaultValue:1,options:h}]}]});w.connect()})});return B("webtools/plugins/webToolsPlugin")});